function Gp(r,o){for(var l=0;l<o.length;l++){const c=o[l];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in r)){const f=Object.getOwnPropertyDescriptor(c,d);f&&Object.defineProperty(r,d,f.get?f:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function l(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(d){if(d.ep)return;d.ep=!0;const f=l(d);fetch(d.href,f)}})();function Pd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kl={exports:{}},Fa={},ql={exports:{}},Le={};var Hc;function Wp(){if(Hc)return Le;Hc=1;var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function R(M,B,we){this.props=M,this.context=B,this.refs=E,this.updater=we||P}R.prototype.isReactComponent={},R.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=R.prototype;function U(M,B,we){this.props=M,this.context=B,this.refs=E,this.updater=we||P}var O=U.prototype=new H;O.constructor=U,S(O,R.prototype),O.isPureReactComponent=!0;var z=Array.isArray,X=Object.prototype.hasOwnProperty,ie={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function je(M,B,we){var Ne,Se={},Ce=null,te=null;if(B!=null)for(Ne in B.ref!==void 0&&(te=B.ref),B.key!==void 0&&(Ce=""+B.key),B)X.call(B,Ne)&&!he.hasOwnProperty(Ne)&&(Se[Ne]=B[Ne]);var oe=arguments.length-2;if(oe===1)Se.children=we;else if(1<oe){for(var re=Array(oe),ce=0;ce<oe;ce++)re[ce]=arguments[ce+2];Se.children=re}if(M&&M.defaultProps)for(Ne in oe=M.defaultProps,oe)Se[Ne]===void 0&&(Se[Ne]=oe[Ne]);return{$$typeof:r,type:M,key:Ce,ref:te,props:Se,_owner:ie.current}}function Ie(M,B){return{$$typeof:r,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function ge(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function Ze(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(we){return B[we]})}var He=/\/+/g;function Te(M,B){return typeof M=="object"&&M!==null&&M.key!=null?Ze(""+M.key):B.toString(36)}function et(M,B,we,Ne,Se){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var te=!1;if(M===null)te=!0;else switch(Ce){case"string":case"number":te=!0;break;case"object":switch(M.$$typeof){case r:case o:te=!0}}if(te)return te=M,Se=Se(te),M=Ne===""?"."+Te(te,0):Ne,z(Se)?(we="",M!=null&&(we=M.replace(He,"$&/")+"/"),et(Se,B,we,"",function(ce){return ce})):Se!=null&&(ge(Se)&&(Se=Ie(Se,we+(!Se.key||te&&te.key===Se.key?"":(""+Se.key).replace(He,"$&/")+"/")+M)),B.push(Se)),1;if(te=0,Ne=Ne===""?".":Ne+":",z(M))for(var oe=0;oe<M.length;oe++){Ce=M[oe];var re=Ne+Te(Ce,oe);te+=et(Ce,B,we,re,Se)}else if(re=b(M),typeof re=="function")for(M=re.call(M),oe=0;!(Ce=M.next()).done;)Ce=Ce.value,re=Ne+Te(Ce,oe++),te+=et(Ce,B,we,re,Se);else if(Ce==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return te}function Fe(M,B,we){if(M==null)return M;var Ne=[],Se=0;return et(M,Ne,"","",function(Ce){return B.call(we,Ce,Se++)}),Ne}function Re(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(we){(M._status===0||M._status===-1)&&(M._status=1,M._result=we)},function(we){(M._status===0||M._status===-1)&&(M._status=2,M._result=we)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var me={current:null},Q={transition:null},le={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ie};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Fe,forEach:function(M,B,we){Fe(M,function(){B.apply(this,arguments)},we)},count:function(M){var B=0;return Fe(M,function(){B++}),B},toArray:function(M){return Fe(M,function(B){return B})||[]},only:function(M){if(!ge(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Le.Component=R,Le.Fragment=l,Le.Profiler=d,Le.PureComponent=U,Le.StrictMode=c,Le.Suspense=g,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Le.act=ne,Le.cloneElement=function(M,B,we){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=S({},M.props),Se=M.key,Ce=M.ref,te=M._owner;if(B!=null){if(B.ref!==void 0&&(Ce=B.ref,te=ie.current),B.key!==void 0&&(Se=""+B.key),M.type&&M.type.defaultProps)var oe=M.type.defaultProps;for(re in B)X.call(B,re)&&!he.hasOwnProperty(re)&&(Ne[re]=B[re]===void 0&&oe!==void 0?oe[re]:B[re])}var re=arguments.length-2;if(re===1)Ne.children=we;else if(1<re){oe=Array(re);for(var ce=0;ce<re;ce++)oe[ce]=arguments[ce+2];Ne.children=oe}return{$$typeof:r,type:M.type,key:Se,ref:Ce,props:Ne,_owner:te}},Le.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:f,_context:M},M.Consumer=M},Le.createElement=je,Le.createFactory=function(M){var B=je.bind(null,M);return B.type=M,B},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:m,render:M}},Le.isValidElement=ge,Le.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:Re}},Le.memo=function(M,B){return{$$typeof:y,type:M,compare:B===void 0?null:B}},Le.startTransition=function(M){var B=Q.transition;Q.transition={};try{M()}finally{Q.transition=B}},Le.unstable_act=ne,Le.useCallback=function(M,B){return me.current.useCallback(M,B)},Le.useContext=function(M){return me.current.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M){return me.current.useDeferredValue(M)},Le.useEffect=function(M,B){return me.current.useEffect(M,B)},Le.useId=function(){return me.current.useId()},Le.useImperativeHandle=function(M,B,we){return me.current.useImperativeHandle(M,B,we)},Le.useInsertionEffect=function(M,B){return me.current.useInsertionEffect(M,B)},Le.useLayoutEffect=function(M,B){return me.current.useLayoutEffect(M,B)},Le.useMemo=function(M,B){return me.current.useMemo(M,B)},Le.useReducer=function(M,B,we){return me.current.useReducer(M,B,we)},Le.useRef=function(M){return me.current.useRef(M)},Le.useState=function(M){return me.current.useState(M)},Le.useSyncExternalStore=function(M,B,we){return me.current.useSyncExternalStore(M,B,we)},Le.useTransition=function(){return me.current.useTransition()},Le.version="18.3.1",Le}var Gc;function mo(){return Gc||(Gc=1,ql.exports=Wp()),ql.exports}var Wc;function $p(){if(Wc)return Fa;Wc=1;var r=mo(),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function p(m,g,y){var x,N={},b=null,P=null;y!==void 0&&(b=""+y),g.key!==void 0&&(b=""+g.key),g.ref!==void 0&&(P=g.ref);for(x in g)c.call(g,x)&&!f.hasOwnProperty(x)&&(N[x]=g[x]);if(m&&m.defaultProps)for(x in g=m.defaultProps,g)N[x]===void 0&&(N[x]=g[x]);return{$$typeof:o,type:m,key:b,ref:P,props:N,_owner:d.current}}return Fa.Fragment=l,Fa.jsx=p,Fa.jsxs=p,Fa}var $c;function Kp(){return $c||($c=1,Kl.exports=$p()),Kl.exports}var i=Kp(),w=mo();const Ed=Pd(w),Rd=Gp({__proto__:null,default:Ed},[w]);var ns={},Ql={exports:{}},Gt={},Jl={exports:{}},Yl={};var Kc;function qp(){return Kc||(Kc=1,(function(r){function o(Q,le){var ne=Q.length;Q.push(le);e:for(;0<ne;){var M=ne-1>>>1,B=Q[M];if(0<d(B,le))Q[M]=le,Q[ne]=B,ne=M;else break e}}function l(Q){return Q.length===0?null:Q[0]}function c(Q){if(Q.length===0)return null;var le=Q[0],ne=Q.pop();if(ne!==le){Q[0]=ne;e:for(var M=0,B=Q.length,we=B>>>1;M<we;){var Ne=2*(M+1)-1,Se=Q[Ne],Ce=Ne+1,te=Q[Ce];if(0>d(Se,ne))Ce<B&&0>d(te,Se)?(Q[M]=te,Q[Ce]=ne,M=Ce):(Q[M]=Se,Q[Ne]=ne,M=Ne);else if(Ce<B&&0>d(te,ne))Q[M]=te,Q[Ce]=ne,M=Ce;else break e}}return le}function d(Q,le){var ne=Q.sortIndex-le.sortIndex;return ne!==0?ne:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();r.unstable_now=function(){return p.now()-m}}var g=[],y=[],x=1,N=null,b=3,P=!1,S=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Q){for(var le=l(y);le!==null;){if(le.callback===null)c(y);else if(le.startTime<=Q)c(y),le.sortIndex=le.expirationTime,o(g,le);else break;le=l(y)}}function z(Q){if(E=!1,O(Q),!S)if(l(g)!==null)S=!0,Re(X);else{var le=l(y);le!==null&&me(z,le.startTime-Q)}}function X(Q,le){S=!1,E&&(E=!1,H(je),je=-1),P=!0;var ne=b;try{for(O(le),N=l(g);N!==null&&(!(N.expirationTime>le)||Q&&!Ze());){var M=N.callback;if(typeof M=="function"){N.callback=null,b=N.priorityLevel;var B=M(N.expirationTime<=le);le=r.unstable_now(),typeof B=="function"?N.callback=B:N===l(g)&&c(g),O(le)}else c(g);N=l(g)}if(N!==null)var we=!0;else{var Ne=l(y);Ne!==null&&me(z,Ne.startTime-le),we=!1}return we}finally{N=null,b=ne,P=!1}}var ie=!1,he=null,je=-1,Ie=5,ge=-1;function Ze(){return!(r.unstable_now()-ge<Ie)}function He(){if(he!==null){var Q=r.unstable_now();ge=Q;var le=!0;try{le=he(!0,Q)}finally{le?Te():(ie=!1,he=null)}}else ie=!1}var Te;if(typeof U=="function")Te=function(){U(He)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Fe=et.port2;et.port1.onmessage=He,Te=function(){Fe.postMessage(null)}}else Te=function(){R(He,0)};function Re(Q){he=Q,ie||(ie=!0,Te())}function me(Q,le){je=R(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){S||P||(S=!0,Re(X))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return l(g)},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var ne=b;b=le;try{return Q()}finally{b=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=b;b=Q;try{return le()}finally{b=ne}},r.unstable_scheduleCallback=function(Q,le,ne){var M=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?M+ne:M):ne=M,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,Q={id:x++,callback:le,priorityLevel:Q,startTime:ne,expirationTime:B,sortIndex:-1},ne>M?(Q.sortIndex=ne,o(y,Q),l(g)===null&&Q===l(y)&&(E?(H(je),je=-1):E=!0,me(z,ne-M))):(Q.sortIndex=B,o(g,Q),S||P||(S=!0,Re(X))),Q},r.unstable_shouldYield=Ze,r.unstable_wrapCallback=function(Q){var le=b;return function(){var ne=b;b=le;try{return Q.apply(this,arguments)}finally{b=ne}}}})(Yl)),Yl}var qc;function Qp(){return qc||(qc=1,Jl.exports=qp()),Jl.exports}var Qc;function Jp(){if(Qc)return Gt;Qc=1;var r=mo(),o=Qp();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function f(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},N={};function b(e){return g.call(N,e)?!0:g.call(x,e)?!1:y.test(e)?N[e]=!0:(x[e]=!0,!1)}function P(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,n,a){if(t===null||typeof t>"u"||P(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,n,a,s,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H,U);R[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H,U);R[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H,U);R[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,n,a){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,n,s,a)&&(n=null),a||s===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ie=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,M;function B(e){if(M===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return`
`+M+e}var we=!1;function Ne(e,t){if(!e||we)return"";we=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var a=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){a=A}e.call(t.prototype)}else{try{throw Error()}catch(A){a=A}e()}}catch(A){if(A&&a&&typeof A.stack=="string"){for(var s=A.stack.split(`
`),u=a.stack.split(`
`),h=s.length-1,k=u.length-1;1<=h&&0<=k&&s[h]!==u[k];)k--;for(;1<=h&&0<=k;h--,k--)if(s[h]!==u[k]){if(h!==1||k!==1)do if(h--,k--,0>k||s[h]!==u[k]){var j=`
`+s[h].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=h&&0<=k);break}}}finally{we=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function Se(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=Ne(e.type,!1),e;case 11:return e=Ne(e.type.render,!1),e;case 1:return e=Ne(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case ie:return"Portal";case Ie:return"Profiler";case je:return"StrictMode";case Te:return"Suspense";case et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ze:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case He:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}function te(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(t);case 8:return t===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function re(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ce(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){a=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function T(e){e._valueTracker||(e._valueTracker=ce(e))}function _(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=re(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function G(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ae(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ze(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=oe(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qe(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function Ee(e,t){qe(e,t);var n=oe(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ge(e,t.type,oe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ue(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ge(e,t,n){(t!=="number"||G(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qe=Array.isArray;function $(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+oe(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function it(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Je(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(Qe(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oe(n)}}function Me(e,t){var n=oe(t.value),a=oe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ht(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ht(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ct,Wt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(e){ft.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),st[t]=st[e]})});function sn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||st.hasOwnProperty(e)&&st[e]?(""+t).trim():t+"px"}function _e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=sn(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var jn=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(e,t){if(t){if(jn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function Et(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=null;function na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,_n=null,Vn=null;function Ka(e){if(e=Sa(e)){if(typeof ra!="function")throw Error(l(280));var t=e.stateNode;t&&(t=xi(t),ra(e.stateNode,e.type,t))}}function Sr(e){_n?Vn?Vn.push(e):Vn=[e]:_n=e}function qa(){if(_n){var e=_n,t=Vn;if(Vn=_n=null,Ka(e),t)for(e=0;e<t.length;e++)Ka(t[e])}}function Qa(e,t){return e(t)}function aa(){}var ia=!1;function Ja(e,t,n){if(ia)return e(t,n);ia=!0;try{return Qa(e,t,n)}finally{ia=!1,(_n!==null||Vn!==null)&&(aa(),qa())}}function ur(e,t){var n=e.stateNode;if(n===null)return null;var a=xi(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var sa=!1;if(m)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){sa=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{sa=!1}function Ya(e,t,n,a,s,u,h,k,j){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(J){this.onError(J)}}var On=!1,Fn=null,v=!1,L=null,F={onError:function(e){On=!0,Fn=e}};function K(e,t,n,a,s,u,h,k,j){On=!1,Fn=null,Ya.apply(F,arguments)}function Z(e,t,n,a,s,u,h,k,j){if(K.apply(this,arguments),On){if(On){var A=Fn;On=!1,Fn=null}else throw Error(l(198));v||(v=!0,L=A)}}function xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ve(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function De(e){if(xe(e)!==e)throw Error(l(188))}function Xe(e){var t=e.alternate;if(!t){if(t=xe(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===n)return De(s),e;if(u===a)return De(s),t;u=u.sibling}throw Error(l(188))}if(n.return!==a.return)n=s,a=u;else{for(var h=!1,k=s.child;k;){if(k===n){h=!0,n=s,a=u;break}if(k===a){h=!0,a=s,n=u;break}k=k.sibling}if(!h){for(k=u.child;k;){if(k===n){h=!0,n=u,a=s;break}if(k===a){h=!0,a=u,n=s;break}k=k.sibling}if(!h)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function gt(e){return e=Xe(e),e!==null?We(e):null}function We(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=We(e);if(t!==null)return t;e=e.sibling}return null}var ke=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,wt=o.unstable_requestPaint,Be=o.unstable_now,Vt=o.unstable_getCurrentPriorityLevel,$t=o.unstable_ImmediatePriority,ln=o.unstable_UserBlockingPriority,Cr=o.unstable_NormalPriority,ps=o.unstable_LowPriority,vo=o.unstable_IdlePriority,Xa=null,yn=null;function af(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:of,sf=Math.log,lf=Math.LN2;function of(e){return e>>>=0,e===0?32:31-(sf(e)/lf|0)|0}var Za=64,ei=4194304;function la(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,u=e.pingedLanes,h=n&268435455;if(h!==0){var k=h&~s;k!==0?a=la(k):(u&=h,u!==0&&(a=la(u)))}else h=n&~s,h!==0?a=la(h):u!==0&&(a=la(u));if(a===0)return 0;if(t!==0&&t!==a&&(t&s)===0&&(s=a&-a,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-on(t),s=1<<n,a|=e[n],t&=~s;return a}function uf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-on(u),k=1<<h,j=s[h];j===-1?((k&n)===0||(k&a)!==0)&&(s[h]=uf(k,t)):j<=t&&(e.expiredLanes|=k),u&=~k}}function ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wo(){var e=Za;return Za<<=1,(Za&4194240)===0&&(Za=64),e}function hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function df(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-on(n),u=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~u}}function gs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-on(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var Ye=0;function ko(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var No,xs,bo,jo,So,ys=!1,ni=[],Un=null,Bn=null,Hn=null,ua=new Map,ca=new Map,Gn=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function da(e,t,n,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=Sa(t),t!==null&&xs(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pf(e,t,n,a,s){switch(t){case"focusin":return Un=da(Un,e,t,n,a,s),!0;case"dragenter":return Bn=da(Bn,e,t,n,a,s),!0;case"mouseover":return Hn=da(Hn,e,t,n,a,s),!0;case"pointerover":var u=s.pointerId;return ua.set(u,da(ua.get(u)||null,e,t,n,a,s)),!0;case"gotpointercapture":return u=s.pointerId,ca.set(u,da(ca.get(u)||null,e,t,n,a,s)),!0}return!1}function Mo(e){var t=dr(e.target);if(t!==null){var n=xe(t);if(n!==null){if(t=n.tag,t===13){if(t=Ve(n),t!==null){e.blockedOn=t,So(e.priority,function(){bo(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);xn=a,n.target.dispatchEvent(a),xn=null}else return t=Sa(n),t!==null&&xs(t),e.blockedOn=n,!1;t.shift()}return!0}function Po(e,t,n){ri(e)&&n.delete(t)}function mf(){ys=!1,Un!==null&&ri(Un)&&(Un=null),Bn!==null&&ri(Bn)&&(Bn=null),Hn!==null&&ri(Hn)&&(Hn=null),ua.forEach(Po),ca.forEach(Po)}function fa(e,t){e.blockedOn===t&&(e.blockedOn=null,ys||(ys=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,mf)))}function pa(e){function t(s){return fa(s,e)}if(0<ni.length){fa(ni[0],e);for(var n=1;n<ni.length;n++){var a=ni[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Un!==null&&fa(Un,e),Bn!==null&&fa(Bn,e),Hn!==null&&fa(Hn,e),ua.forEach(t),ca.forEach(t),n=0;n<Gn.length;n++)a=Gn[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)Mo(n),n.blockedOn===null&&Gn.shift()}var Mr=z.ReactCurrentBatchConfig,ai=!0;function hf(e,t,n,a){var s=Ye,u=Mr.transition;Mr.transition=null;try{Ye=1,vs(e,t,n,a)}finally{Ye=s,Mr.transition=u}}function gf(e,t,n,a){var s=Ye,u=Mr.transition;Mr.transition=null;try{Ye=4,vs(e,t,n,a)}finally{Ye=s,Mr.transition=u}}function vs(e,t,n,a){if(ai){var s=ws(e,t,n,a);if(s===null)_s(e,t,a,ii,n),Co(e,a);else if(pf(s,e,t,n,a))a.stopPropagation();else if(Co(e,a),t&4&&-1<ff.indexOf(e)){for(;s!==null;){var u=Sa(s);if(u!==null&&No(u),u=ws(e,t,n,a),u===null&&_s(e,t,a,ii,n),u===s)break;s=u}s!==null&&a.stopPropagation()}else _s(e,t,a,null,n)}}var ii=null;function ws(e,t,n,a){if(ii=null,e=na(a),e=dr(e),e!==null)if(t=xe(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ve(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function Eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vt()){case $t:return 1;case ln:return 4;case Cr:case ps:return 16;case vo:return 536870912;default:return 16}default:return 16}}var Wn=null,ks=null,si=null;function Ro(){if(si)return si;var e,t=ks,n=t.length,a,s="value"in Wn?Wn.value:Wn.textContent,u=s.length;for(e=0;e<n&&t[e]===s[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===s[u-a];a++);return si=s.slice(e,1<a?1-a:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Io(){return!1}function Kt(e){function t(n,a,s,u,h){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(n=e[k],this[k]=n?n(u):u[k]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?oi:Io,this.isPropagationStopped=Io,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Kt(Pr),ma=ne({},Pr,{view:0,detail:0}),xf=Kt(ma),bs,js,ha,ui=ne({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(bs=e.screenX-ha.screenX,js=e.screenY-ha.screenY):js=bs=0,ha=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:js}}),Do=Kt(ui),yf=ne({},ui,{dataTransfer:0}),vf=Kt(yf),wf=ne({},ma,{relatedTarget:0}),Ss=Kt(wf),kf=ne({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nf=Kt(kf),bf=ne({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=Kt(bf),Sf=ne({},Pr,{data:0}),Lo=Kt(Sf),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pf[e])?!!t[e]:!1}function Cs(){return Ef}var Rf=ne({},ma,{key:function(e){if(e.key){var t=Cf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),If=Kt(Rf),Df=ne({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=Kt(Df),Lf=ne({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Tf=Kt(Lf),zf=ne({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=Kt(zf),_f=ne({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=Kt(_f),Of=[9,13,27,32],Ms=m&&"CompositionEvent"in window,ga=null;m&&"documentMode"in document&&(ga=document.documentMode);var Ff=m&&"TextEvent"in window&&!ga,zo=m&&(!Ms||ga&&8<ga&&11>=ga),Ao=" ",_o=!1;function Vo(e,t){switch(e){case"keyup":return Of.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function Uf(e,t){switch(e){case"compositionend":return Oo(t);case"keypress":return t.which!==32?null:(_o=!0,Ao);case"textInput":return e=t.data,e===Ao&&_o?null:e;default:return null}}function Bf(e,t){if(Er)return e==="compositionend"||!Ms&&Vo(e,t)?(e=Ro(),si=ks=Wn=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zo&&t.locale!=="ko"?null:t.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hf[e.type]:t==="textarea"}function Uo(e,t,n,a){Sr(a),t=mi(t,"onChange"),0<t.length&&(n=new Ns("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var xa=null,ya=null;function Gf(e){iu(e,0)}function ci(e){var t=Tr(e);if(_(t))return e}function Wf(e,t){if(e==="change")return t}var Bo=!1;if(m){var Ps;if(m){var Es="oninput"in document;if(!Es){var Ho=document.createElement("div");Ho.setAttribute("oninput","return;"),Es=typeof Ho.oninput=="function"}Ps=Es}else Ps=!1;Bo=Ps&&(!document.documentMode||9<document.documentMode)}function Go(){xa&&(xa.detachEvent("onpropertychange",Wo),ya=xa=null)}function Wo(e){if(e.propertyName==="value"&&ci(ya)){var t=[];Uo(t,ya,e,na(e)),Ja(Gf,t)}}function $f(e,t,n){e==="focusin"?(Go(),xa=t,ya=n,xa.attachEvent("onpropertychange",Wo)):e==="focusout"&&Go()}function Kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ci(ya)}function qf(e,t){if(e==="click")return ci(t)}function Qf(e,t){if(e==="input"||e==="change")return ci(t)}function Jf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Jf;function va(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!g.call(t,s)||!un(e[s],t[s]))return!1}return!0}function $o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ko(e,t){var n=$o(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$o(n)}}function qo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qo(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=G(e.document)}return t}function Rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yf(e){var t=Qo(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qo(n.ownerDocument.documentElement,n)){if(a!==null&&Rs(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,u=Math.min(a.start,s);a=a.end===void 0?u:Math.min(a.end,s),!e.extend&&u>a&&(s=a,a=u,u=s),s=Ko(n,u);var h=Ko(n,a);s&&h&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),u>a?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xf=m&&"documentMode"in document&&11>=document.documentMode,Rr=null,Is=null,wa=null,Ds=!1;function Jo(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ds||Rr==null||Rr!==G(a)||(a=Rr,"selectionStart"in a&&Rs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wa&&va(wa,a)||(wa=a,a=mi(Is,"onSelect"),0<a.length&&(t=new Ns("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Rr)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Ls={},Yo={};m&&(Yo=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function fi(e){if(Ls[e])return Ls[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yo)return Ls[e]=t[n];return e}var Xo=fi("animationend"),Zo=fi("animationiteration"),eu=fi("animationstart"),tu=fi("transitionend"),nu=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){nu.set(e,t),f(t,[e])}for(var Ts=0;Ts<ru.length;Ts++){var zs=ru[Ts],Zf=zs.toLowerCase(),ep=zs[0].toUpperCase()+zs.slice(1);$n(Zf,"on"+ep)}$n(Xo,"onAnimationEnd"),$n(Zo,"onAnimationIteration"),$n(eu,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(tu,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function au(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Z(a,t,void 0,e),e.currentTarget=null}function iu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var h=a.length-1;0<=h;h--){var k=a[h],j=k.instance,A=k.currentTarget;if(k=k.listener,j!==u&&s.isPropagationStopped())break e;au(s,k,A),u=j}else for(h=0;h<a.length;h++){if(k=a[h],j=k.instance,A=k.currentTarget,k=k.listener,j!==u&&s.isPropagationStopped())break e;au(s,k,A),u=j}}}if(v)throw e=L,v=!1,L=null,e}function rt(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var a=e+"__bubble";n.has(a)||(su(t,e,2,!1),n.add(a))}function As(e,t,n){var a=0;t&&(a|=4),su(n,e,a,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[pi]){e[pi]=!0,c.forEach(function(n){n!=="selectionchange"&&(tp.has(n)||As(n,!1,e),As(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,As("selectionchange",!1,t))}}function su(e,t,n,a){switch(Eo(t)){case 1:var s=hf;break;case 4:s=gf;break;default:s=vs}n=s.bind(null,t,n,e),s=void 0,!sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _s(e,t,n,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var k=a.stateNode.containerInfo;if(k===s||k.nodeType===8&&k.parentNode===s)break;if(h===4)for(h=a.return;h!==null;){var j=h.tag;if((j===3||j===4)&&(j=h.stateNode.containerInfo,j===s||j.nodeType===8&&j.parentNode===s))return;h=h.return}for(;k!==null;){if(h=dr(k),h===null)return;if(j=h.tag,j===5||j===6){a=u=h;continue e}k=k.parentNode}}a=a.return}Ja(function(){var A=u,J=na(n),Y=[];e:{var q=nu.get(e);if(q!==void 0){var se=Ns,de=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":se=If;break;case"focusin":de="focus",se=Ss;break;case"focusout":de="blur",se=Ss;break;case"beforeblur":case"afterblur":se=Ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Tf;break;case Xo:case Zo:case eu:se=Nf;break;case tu:se=Af;break;case"scroll":se=xf;break;case"wheel":se=Vf;break;case"copy":case"cut":case"paste":se=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=To}var fe=(t&4)!==0,mt=!fe&&e==="scroll",I=fe?q!==null?q+"Capture":null:q;fe=[];for(var C=A,D;C!==null;){D=C;var ee=D.stateNode;if(D.tag===5&&ee!==null&&(D=ee,I!==null&&(ee=ur(C,I),ee!=null&&fe.push(ba(C,ee,D)))),mt)break;C=C.return}0<fe.length&&(q=new se(q,de,null,n,J),Y.push({event:q,listeners:fe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",q&&n!==xn&&(de=n.relatedTarget||n.fromElement)&&(dr(de)||de[Sn]))break e;if((se||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,se?(de=n.relatedTarget||n.toElement,se=A,de=de?dr(de):null,de!==null&&(mt=xe(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(se=null,de=A),se!==de)){if(fe=Do,ee="onMouseLeave",I="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(fe=To,ee="onPointerLeave",I="onPointerEnter",C="pointer"),mt=se==null?q:Tr(se),D=de==null?q:Tr(de),q=new fe(ee,C+"leave",se,n,J),q.target=mt,q.relatedTarget=D,ee=null,dr(J)===A&&(fe=new fe(I,C+"enter",de,n,J),fe.target=D,fe.relatedTarget=mt,ee=fe),mt=ee,se&&de)t:{for(fe=se,I=de,C=0,D=fe;D;D=Dr(D))C++;for(D=0,ee=I;ee;ee=Dr(ee))D++;for(;0<C-D;)fe=Dr(fe),C--;for(;0<D-C;)I=Dr(I),D--;for(;C--;){if(fe===I||I!==null&&fe===I.alternate)break t;fe=Dr(fe),I=Dr(I)}fe=null}else fe=null;se!==null&&lu(Y,q,se,fe,!1),de!==null&&mt!==null&&lu(Y,mt,de,fe,!0)}}e:{if(q=A?Tr(A):window,se=q.nodeName&&q.nodeName.toLowerCase(),se==="select"||se==="input"&&q.type==="file")var pe=Wf;else if(Fo(q))if(Bo)pe=Qf;else{pe=Kf;var ye=$f}else(se=q.nodeName)&&se.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(pe=qf);if(pe&&(pe=pe(e,A))){Uo(Y,pe,n,J);break e}ye&&ye(e,q,A),e==="focusout"&&(ye=q._wrapperState)&&ye.controlled&&q.type==="number"&&Ge(q,"number",q.value)}switch(ye=A?Tr(A):window,e){case"focusin":(Fo(ye)||ye.contentEditable==="true")&&(Rr=ye,Is=A,wa=null);break;case"focusout":wa=Is=Rr=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,Jo(Y,n,J);break;case"selectionchange":if(Xf)break;case"keydown":case"keyup":Jo(Y,n,J)}var ve;if(Ms)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Er?Vo(e,n)&&(be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(be="onCompositionStart");be&&(zo&&n.locale!=="ko"&&(Er||be!=="onCompositionStart"?be==="onCompositionEnd"&&Er&&(ve=Ro()):(Wn=J,ks="value"in Wn?Wn.value:Wn.textContent,Er=!0)),ye=mi(A,be),0<ye.length&&(be=new Lo(be,e,null,n,J),Y.push({event:be,listeners:ye}),ve?be.data=ve:(ve=Oo(n),ve!==null&&(be.data=ve)))),(ve=Ff?Uf(e,n):Bf(e,n))&&(A=mi(A,"onBeforeInput"),0<A.length&&(J=new Lo("onBeforeInput","beforeinput",null,n,J),Y.push({event:J,listeners:A}),J.data=ve))}iu(Y,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mi(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=ur(e,n),u!=null&&a.unshift(ba(e,u,s)),u=ur(e,t),u!=null&&a.push(ba(e,u,s))),e=e.return}return a}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,n,a,s){for(var u=t._reactName,h=[];n!==null&&n!==a;){var k=n,j=k.alternate,A=k.stateNode;if(j!==null&&j===a)break;k.tag===5&&A!==null&&(k=A,s?(j=ur(n,u),j!=null&&h.unshift(ba(n,j,k))):s||(j=ur(n,u),j!=null&&h.push(ba(n,j,k)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var np=/\r\n?/g,rp=/\u0000|\uFFFD/g;function ou(e){return(typeof e=="string"?e:""+e).replace(np,`
`).replace(rp,"")}function hi(e,t,n){if(t=ou(t),ou(e)!==t&&n)throw Error(l(425))}function gi(){}var Vs=null,Os=null;function Fs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Us=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,uu=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof uu<"u"?function(e){return uu.resolve(null).then(e).catch(sp)}:Us;function sp(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),pa(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);pa(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),vn="__reactFiber$"+Lr,ja="__reactProps$"+Lr,Sn="__reactContainer$"+Lr,Hs="__reactEvents$"+Lr,lp="__reactListeners$"+Lr,op="__reactHandles$"+Lr;function dr(e){var t=e[vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cu(e);e!==null;){if(n=e[vn])return n;e=cu(e)}return t}e=n,n=e.parentNode}return null}function Sa(e){return e=e[vn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function xi(e){return e[ja]||null}var Gs=[],zr=-1;function qn(e){return{current:e}}function at(e){0>zr||(e.current=Gs[zr],Gs[zr]=null,zr--)}function nt(e,t){zr++,Gs[zr]=e.current,e.current=t}var Qn={},Rt=qn(Qn),Ot=qn(!1),fr=Qn;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Qn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in n)s[u]=t[u];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(e){return e=e.childContextTypes,e!=null}function yi(){at(Ot),at(Rt)}function du(e,t,n){if(Rt.current!==Qn)throw Error(l(168));nt(Rt,t),nt(Ot,n)}function fu(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(l(108,te(e)||"Unknown",s));return ne({},n,a)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,fr=Rt.current,nt(Rt,e),nt(Ot,Ot.current),!0}function pu(e,t,n){var a=e.stateNode;if(!a)throw Error(l(169));n?(e=fu(e,t,fr),a.__reactInternalMemoizedMergedChildContext=e,at(Ot),at(Rt),nt(Rt,e)):at(Ot),nt(Ot,n)}var Cn=null,wi=!1,Ws=!1;function mu(e){Cn===null?Cn=[e]:Cn.push(e)}function up(e){wi=!0,mu(e)}function Jn(){if(!Ws&&Cn!==null){Ws=!0;var e=0,t=Ye;try{var n=Cn;for(Ye=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Cn=null,wi=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),ke($t,Jn),s}finally{Ye=t,Ws=!1}}return null}var _r=[],Vr=0,ki=null,Ni=0,Xt=[],Zt=0,pr=null,Mn=1,Pn="";function mr(e,t){_r[Vr++]=Ni,_r[Vr++]=ki,ki=e,Ni=t}function hu(e,t,n){Xt[Zt++]=Mn,Xt[Zt++]=Pn,Xt[Zt++]=pr,pr=e;var a=Mn;e=Pn;var s=32-on(a)-1;a&=~(1<<s),n+=1;var u=32-on(t)+s;if(30<u){var h=s-s%5;u=(a&(1<<h)-1).toString(32),a>>=h,s-=h,Mn=1<<32-on(t)+s|n<<s|a,Pn=u+e}else Mn=1<<u|n<<s|a,Pn=e}function $s(e){e.return!==null&&(mr(e,1),hu(e,1,0))}function Ks(e){for(;e===ki;)ki=_r[--Vr],_r[Vr]=null,Ni=_r[--Vr],_r[Vr]=null;for(;e===pr;)pr=Xt[--Zt],Xt[Zt]=null,Pn=Xt[--Zt],Xt[Zt]=null,Mn=Xt[--Zt],Xt[Zt]=null}var qt=null,Qt=null,lt=!1,cn=null;function gu(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Qt=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:Mn,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Qt=null,!0):!1;default:return!1}}function qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(lt){var t=Qt;if(t){var n=t;if(!xu(e,t)){if(qs(e))throw Error(l(418));t=Kn(n.nextSibling);var a=qt;t&&xu(e,t)?gu(a,n):(e.flags=e.flags&-4097|2,lt=!1,qt=e)}}else{if(qs(e))throw Error(l(418));e.flags=e.flags&-4097|2,lt=!1,qt=e}}}function yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function bi(e){if(e!==qt)return!1;if(!lt)return yu(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fs(e.type,e.memoizedProps)),t&&(t=Qt)){if(qs(e))throw vu(),Error(l(418));for(;t;)gu(e,t),t=Kn(t.nextSibling)}if(yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=qt?Kn(e.stateNode.nextSibling):null;return!0}function vu(){for(var e=Qt;e;)e=Kn(e.nextSibling)}function Or(){Qt=qt=null,lt=!1}function Js(e){cn===null?cn=[e]:cn.push(e)}var cp=z.ReactCurrentBatchConfig;function Ca(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var a=n.stateNode}if(!a)throw Error(l(147,e));var s=a,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var k=s.refs;h===null?delete k[u]:k[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wu(e){var t=e._init;return t(e._payload)}function ku(e){function t(I,C){if(e){var D=I.deletions;D===null?(I.deletions=[C],I.flags|=16):D.push(C)}}function n(I,C){if(!e)return null;for(;C!==null;)t(I,C),C=C.sibling;return null}function a(I,C){for(I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function s(I,C){return I=ar(I,C),I.index=0,I.sibling=null,I}function u(I,C,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<C?(I.flags|=2,C):D):(I.flags|=2,C)):(I.flags|=1048576,C)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function k(I,C,D,ee){return C===null||C.tag!==6?(C=Ul(D,I.mode,ee),C.return=I,C):(C=s(C,D),C.return=I,C)}function j(I,C,D,ee){var pe=D.type;return pe===he?J(I,C,D.props.children,ee,D.key):C!==null&&(C.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&wu(pe)===C.type)?(ee=s(C,D.props),ee.ref=Ca(I,C,D),ee.return=I,ee):(ee=qi(D.type,D.key,D.props,null,I.mode,ee),ee.ref=Ca(I,C,D),ee.return=I,ee)}function A(I,C,D,ee){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Bl(D,I.mode,ee),C.return=I,C):(C=s(C,D.children||[]),C.return=I,C)}function J(I,C,D,ee,pe){return C===null||C.tag!==7?(C=Nr(D,I.mode,ee,pe),C.return=I,C):(C=s(C,D),C.return=I,C)}function Y(I,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Ul(""+C,I.mode,D),C.return=I,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case X:return D=qi(C.type,C.key,C.props,null,I.mode,D),D.ref=Ca(I,null,C),D.return=I,D;case ie:return C=Bl(C,I.mode,D),C.return=I,C;case Re:var ee=C._init;return Y(I,ee(C._payload),D)}if(Qe(C)||le(C))return C=Nr(C,I.mode,D,null),C.return=I,C;ji(I,C)}return null}function q(I,C,D,ee){var pe=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return pe!==null?null:k(I,C,""+D,ee);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return D.key===pe?j(I,C,D,ee):null;case ie:return D.key===pe?A(I,C,D,ee):null;case Re:return pe=D._init,q(I,C,pe(D._payload),ee)}if(Qe(D)||le(D))return pe!==null?null:J(I,C,D,ee,null);ji(I,D)}return null}function se(I,C,D,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return I=I.get(D)||null,k(C,I,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case X:return I=I.get(ee.key===null?D:ee.key)||null,j(C,I,ee,pe);case ie:return I=I.get(ee.key===null?D:ee.key)||null,A(C,I,ee,pe);case Re:var ye=ee._init;return se(I,C,D,ye(ee._payload),pe)}if(Qe(ee)||le(ee))return I=I.get(D)||null,J(C,I,ee,pe,null);ji(C,ee)}return null}function de(I,C,D,ee){for(var pe=null,ye=null,ve=C,be=C=0,St=null;ve!==null&&be<D.length;be++){ve.index>be?(St=ve,ve=null):St=ve.sibling;var Oe=q(I,ve,D[be],ee);if(Oe===null){ve===null&&(ve=St);break}e&&ve&&Oe.alternate===null&&t(I,ve),C=u(Oe,C,be),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe,ve=St}if(be===D.length)return n(I,ve),lt&&mr(I,be),pe;if(ve===null){for(;be<D.length;be++)ve=Y(I,D[be],ee),ve!==null&&(C=u(ve,C,be),ye===null?pe=ve:ye.sibling=ve,ye=ve);return lt&&mr(I,be),pe}for(ve=a(I,ve);be<D.length;be++)St=se(ve,I,be,D[be],ee),St!==null&&(e&&St.alternate!==null&&ve.delete(St.key===null?be:St.key),C=u(St,C,be),ye===null?pe=St:ye.sibling=St,ye=St);return e&&ve.forEach(function(ir){return t(I,ir)}),lt&&mr(I,be),pe}function fe(I,C,D,ee){var pe=le(D);if(typeof pe!="function")throw Error(l(150));if(D=pe.call(D),D==null)throw Error(l(151));for(var ye=pe=null,ve=C,be=C=0,St=null,Oe=D.next();ve!==null&&!Oe.done;be++,Oe=D.next()){ve.index>be?(St=ve,ve=null):St=ve.sibling;var ir=q(I,ve,Oe.value,ee);if(ir===null){ve===null&&(ve=St);break}e&&ve&&ir.alternate===null&&t(I,ve),C=u(ir,C,be),ye===null?pe=ir:ye.sibling=ir,ye=ir,ve=St}if(Oe.done)return n(I,ve),lt&&mr(I,be),pe;if(ve===null){for(;!Oe.done;be++,Oe=D.next())Oe=Y(I,Oe.value,ee),Oe!==null&&(C=u(Oe,C,be),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe);return lt&&mr(I,be),pe}for(ve=a(I,ve);!Oe.done;be++,Oe=D.next())Oe=se(ve,I,be,Oe.value,ee),Oe!==null&&(e&&Oe.alternate!==null&&ve.delete(Oe.key===null?be:Oe.key),C=u(Oe,C,be),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe);return e&&ve.forEach(function(Hp){return t(I,Hp)}),lt&&mr(I,be),pe}function mt(I,C,D,ee){if(typeof D=="object"&&D!==null&&D.type===he&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case X:e:{for(var pe=D.key,ye=C;ye!==null;){if(ye.key===pe){if(pe=D.type,pe===he){if(ye.tag===7){n(I,ye.sibling),C=s(ye,D.props.children),C.return=I,I=C;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&wu(pe)===ye.type){n(I,ye.sibling),C=s(ye,D.props),C.ref=Ca(I,ye,D),C.return=I,I=C;break e}n(I,ye);break}else t(I,ye);ye=ye.sibling}D.type===he?(C=Nr(D.props.children,I.mode,ee,D.key),C.return=I,I=C):(ee=qi(D.type,D.key,D.props,null,I.mode,ee),ee.ref=Ca(I,C,D),ee.return=I,I=ee)}return h(I);case ie:e:{for(ye=D.key;C!==null;){if(C.key===ye)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){n(I,C.sibling),C=s(C,D.children||[]),C.return=I,I=C;break e}else{n(I,C);break}else t(I,C);C=C.sibling}C=Bl(D,I.mode,ee),C.return=I,I=C}return h(I);case Re:return ye=D._init,mt(I,C,ye(D._payload),ee)}if(Qe(D))return de(I,C,D,ee);if(le(D))return fe(I,C,D,ee);ji(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,C!==null&&C.tag===6?(n(I,C.sibling),C=s(C,D),C.return=I,I=C):(n(I,C),C=Ul(D,I.mode,ee),C.return=I,I=C),h(I)):n(I,C)}return mt}var Fr=ku(!0),Nu=ku(!1),Si=qn(null),Ci=null,Ur=null,Ys=null;function Xs(){Ys=Ur=Ci=null}function Zs(e){var t=Si.current;at(Si),e._currentValue=t}function el(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Ci=e,Ys=Ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ut=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Ys!==e)if(e={context:e,memoizedValue:t,next:null},Ur===null){if(Ci===null)throw Error(l(308));Ur=e,Ci.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return t}var hr=null;function tl(e){hr===null?hr=[e]:hr.push(e)}function bu(e,t,n,a){var s=t.interleaved;return s===null?(n.next=n,tl(t)):(n.next=s.next,s.next=n),t.interleaved=n,En(e,a)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yn=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ae&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,En(e,n)}return s=a.interleaved,s===null?(t.next=t,tl(a)):(t.next=s.next,s.next=t),a.interleaved=t,En(e,n)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gs(e,n)}}function Su(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?s=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?s=u=t:u=u.next=t}else s=u=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pi(e,t,n,a){var s=e.updateQueue;Yn=!1;var u=s.firstBaseUpdate,h=s.lastBaseUpdate,k=s.shared.pending;if(k!==null){s.shared.pending=null;var j=k,A=j.next;j.next=null,h===null?u=A:h.next=A,h=j;var J=e.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==h&&(k===null?J.firstBaseUpdate=A:k.next=A,J.lastBaseUpdate=j))}if(u!==null){var Y=s.baseState;h=0,J=A=j=null,k=u;do{var q=k.lane,se=k.eventTime;if((a&q)===q){J!==null&&(J=J.next={eventTime:se,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=e,fe=k;switch(q=t,se=n,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){Y=de.call(se,Y,q);break e}Y=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,q=typeof de=="function"?de.call(se,Y,q):de,q==null)break e;Y=ne({},Y,q);break e;case 2:Yn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,q=s.effects,q===null?s.effects=[k]:q.push(k))}else se={eventTime:se,lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(A=J=se,j=Y):J=J.next=se,h|=q;if(k=k.next,k===null){if(k=s.shared.pending,k===null)break;q=k,k=q.next,q.next=null,s.lastBaseUpdate=q,s.shared.pending=null}}while(!0);if(J===null&&(j=Y),s.baseState=j,s.firstBaseUpdate=A,s.lastBaseUpdate=J,t=s.shared.interleaved,t!==null){s=t;do h|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);yr|=h,e.lanes=h,e.memoizedState=Y}}function Cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(l(191,s));s.call(a)}}}var Ma={},wn=qn(Ma),Pa=qn(Ma),Ea=qn(Ma);function gr(e){if(e===Ma)throw Error(l(174));return e}function rl(e,t){switch(nt(Ea,t),nt(Pa,e),nt(wn,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yt(t,e)}at(wn),nt(wn,t)}function Hr(){at(wn),at(Pa),at(Ea)}function Mu(e){gr(Ea.current);var t=gr(wn.current),n=Yt(t,e.type);t!==n&&(nt(Pa,e),nt(wn,n))}function al(e){Pa.current===e&&(at(wn),at(Pa))}var ut=qn(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function sl(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Ri=z.ReactCurrentDispatcher,ll=z.ReactCurrentBatchConfig,xr=0,ct=null,kt=null,bt=null,Ii=!1,Ra=!1,Ia=0,dp=0;function It(){throw Error(l(321))}function ol(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function ul(e,t,n,a,s,u){if(xr=u,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?hp:gp,e=n(a,s),Ra){u=0;do{if(Ra=!1,Ia=0,25<=u)throw Error(l(301));u+=1,bt=kt=null,t.updateQueue=null,Ri.current=xp,e=n(a,s)}while(Ra)}if(Ri.current=Ti,t=kt!==null&&kt.next!==null,xr=0,bt=kt=ct=null,Ii=!1,t)throw Error(l(300));return e}function cl(){var e=Ia!==0;return Ia=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ct.memoizedState=bt=e:bt=bt.next=e,bt}function tn(){if(kt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=bt===null?ct.memoizedState:bt.next;if(t!==null)bt=t,kt=e;else{if(e===null)throw Error(l(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},bt===null?ct.memoizedState=bt=e:bt=bt.next=e}return bt}function Da(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=tn(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=kt,s=a.baseQueue,u=n.pending;if(u!==null){if(s!==null){var h=s.next;s.next=u.next,u.next=h}a.baseQueue=s=u,n.pending=null}if(s!==null){u=s.next,a=a.baseState;var k=h=null,j=null,A=u;do{var J=A.lane;if((xr&J)===J)j!==null&&(j=j.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),a=A.hasEagerState?A.eagerState:e(a,A.action);else{var Y={lane:J,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};j===null?(k=j=Y,h=a):j=j.next=Y,ct.lanes|=J,yr|=J}A=A.next}while(A!==null&&A!==u);j===null?h=a:j.next=k,un(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseState=h,t.baseQueue=j,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do u=s.lane,ct.lanes|=u,yr|=u,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fl(e){var t=tn(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,u=t.memoizedState;if(s!==null){n.pending=null;var h=s=s.next;do u=e(u,h.action),h=h.next;while(h!==s);un(u,t.memoizedState)||(Ut=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,a]}function Pu(){}function Eu(e,t){var n=ct,a=tn(),s=t(),u=!un(a.memoizedState,s);if(u&&(a.memoizedState=s,Ut=!0),a=a.queue,pl(Du.bind(null,n,a,e),[e]),a.getSnapshot!==t||u||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,La(9,Iu.bind(null,n,a,s,t),void 0,null),jt===null)throw Error(l(349));(xr&30)!==0||Ru(n,t,s)}return s}function Ru(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iu(e,t,n,a){t.value=n,t.getSnapshot=a,Lu(t)&&Tu(e)}function Du(e,t,n){return n(function(){Lu(t)&&Tu(e)})}function Lu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Tu(e){var t=En(e,1);t!==null&&mn(t,e,1,-1)}function zu(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t.queue=e,e=e.dispatch=mp.bind(null,ct,e),[t.memoizedState,e]}function La(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Au(){return tn().memoizedState}function Di(e,t,n,a){var s=kn();ct.flags|=e,s.memoizedState=La(1|t,n,void 0,a===void 0?null:a)}function Li(e,t,n,a){var s=tn();a=a===void 0?null:a;var u=void 0;if(kt!==null){var h=kt.memoizedState;if(u=h.destroy,a!==null&&ol(a,h.deps)){s.memoizedState=La(t,n,u,a);return}}ct.flags|=e,s.memoizedState=La(1|t,n,u,a)}function _u(e,t){return Di(8390656,8,e,t)}function pl(e,t){return Li(2048,8,e,t)}function Vu(e,t){return Li(4,2,e,t)}function Ou(e,t){return Li(4,4,e,t)}function Fu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uu(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,Fu.bind(null,t,e),n)}function ml(){}function Bu(e,t){var n=tn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ol(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Hu(e,t){var n=tn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ol(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Gu(e,t,n){return(xr&21)===0?(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n):(un(n,t)||(n=wo(),ct.lanes|=n,yr|=n,e.baseState=!0),t)}function fp(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var a=ll.transition;ll.transition={};try{e(!1),t()}finally{Ye=n,ll.transition=a}}function Wu(){return tn().memoizedState}function pp(e,t,n){var a=nr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$u(e))Ku(t,n);else if(n=bu(e,t,n,a),n!==null){var s=At();mn(n,e,a,s),qu(n,t,a)}}function mp(e,t,n){var a=nr(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($u(e))Ku(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,k=u(h,n);if(s.hasEagerState=!0,s.eagerState=k,un(k,h)){var j=t.interleaved;j===null?(s.next=s,tl(t)):(s.next=j.next,j.next=s),t.interleaved=s;return}}catch{}finally{}n=bu(e,t,s,a),n!==null&&(s=At(),mn(n,e,a,s),qu(n,t,a))}}function $u(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function Ku(e,t){Ra=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qu(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gs(e,n)}}var Ti={readContext:en,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},hp={readContext:en,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:_u,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Di(4194308,4,Fu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){return Di(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=kn();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=pp.bind(null,ct,e),[a.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:zu,useDebugValue:ml,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=zu(!1),t=e[0];return e=fp.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ct,s=kn();if(lt){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),jt===null)throw Error(l(349));(xr&30)!==0||Ru(a,t,n)}s.memoizedState=n;var u={value:n,getSnapshot:t};return s.queue=u,_u(Du.bind(null,a,u,e),[e]),a.flags|=2048,La(9,Iu.bind(null,a,u,n,t),void 0,null),n},useId:function(){var e=kn(),t=jt.identifierPrefix;if(lt){var n=Pn,a=Mn;n=(a&~(1<<32-on(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ia++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gp={readContext:en,useCallback:Bu,useContext:en,useEffect:pl,useImperativeHandle:Uu,useInsertionEffect:Vu,useLayoutEffect:Ou,useMemo:Hu,useReducer:dl,useRef:Au,useState:function(){return dl(Da)},useDebugValue:ml,useDeferredValue:function(e){var t=tn();return Gu(t,kt.memoizedState,e)},useTransition:function(){var e=dl(Da)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Eu,useId:Wu,unstable_isNewReconciler:!1},xp={readContext:en,useCallback:Bu,useContext:en,useEffect:pl,useImperativeHandle:Uu,useInsertionEffect:Vu,useLayoutEffect:Ou,useMemo:Hu,useReducer:fl,useRef:Au,useState:function(){return fl(Da)},useDebugValue:ml,useDeferredValue:function(e){var t=tn();return kt===null?t.memoizedState=e:Gu(t,kt.memoizedState,e)},useTransition:function(){var e=fl(Da)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Eu,useId:Wu,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hl(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zi={isMounted:function(e){return(e=e._reactInternals)?xe(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=At(),s=nr(e),u=Rn(a,s);u.payload=t,n!=null&&(u.callback=n),t=Xn(e,u,s),t!==null&&(mn(t,e,s,a),Mi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=At(),s=nr(e),u=Rn(a,s);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Xn(e,u,s),t!==null&&(mn(t,e,s,a),Mi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),a=nr(e),s=Rn(n,a);s.tag=2,t!=null&&(s.callback=t),t=Xn(e,s,a),t!==null&&(mn(t,e,a,n),Mi(t,e,a))}};function Qu(e,t,n,a,s,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,h):t.prototype&&t.prototype.isPureReactComponent?!va(n,a)||!va(s,u):!0}function Ju(e,t,n){var a=!1,s=Qn,u=t.contextType;return typeof u=="object"&&u!==null?u=en(u):(s=Ft(t)?fr:Rt.current,a=t.contextTypes,u=(a=a!=null)?Ar(e,s):Qn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function Yu(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function gl(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},nl(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=en(u):(u=Ft(t)?fr:Rt.current,s.context=Ar(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(hl(e,t,u,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zi.enqueueReplaceState(s,s.state,null),Pi(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var n="",a=t;do n+=Se(a),a=a.return;while(a);var s=n}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function Xu(e,t,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Bi||(Bi=!0,Ll=a),yl(e,t)},n}function Zu(e,t,n){n=Rn(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){yl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){yl(e,t),typeof a!="function"&&(er===null?er=new Set([this]):er.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function ec(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new yp;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=Dp.bind(null,e,t,n),t.then(e,e))}function tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,n,a,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vp=z.ReactCurrentOwner,Ut=!1;function zt(e,t,n,a){t.child=e===null?Nu(t,null,n,a):Fr(t,e.child,n,a)}function rc(e,t,n,a,s){n=n.render;var u=t.ref;return Br(t,s),a=ul(e,t,n,a,u,s),n=cl(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,In(e,t,s)):(lt&&n&&$s(t),t.flags|=1,zt(e,t,a,s),t.child)}function ac(e,t,n,a,s){if(e===null){var u=n.type;return typeof u=="function"&&!Fl(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,ic(e,t,u,a,s)):(e=qi(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&s)===0){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(h,a)&&e.ref===t.ref)return In(e,t,s)}return t.flags|=1,e=ar(u,a),e.ref=t.ref,e.return=t,t.child=e}function ic(e,t,n,a,s){if(e!==null){var u=e.memoizedProps;if(va(u,a)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=a=u,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Ut=!0);else return t.lanes=e.lanes,In(e,t,s)}return vl(e,t,n,a,s)}function sc(e,t,n){var a=t.pendingProps,s=a.children,u=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt($r,Jt),Jt|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt($r,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=u!==null?u.baseLanes:n,nt($r,Jt),Jt|=a}else u!==null?(a=u.baseLanes|n,t.memoizedState=null):a=n,nt($r,Jt),Jt|=a;return zt(e,t,s,n),t.child}function lc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,n,a,s){var u=Ft(n)?fr:Rt.current;return u=Ar(t,u),Br(t,s),n=ul(e,t,n,a,u,s),a=cl(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,In(e,t,s)):(lt&&a&&$s(t),t.flags|=1,zt(e,t,n,s),t.child)}function oc(e,t,n,a,s){if(Ft(n)){var u=!0;vi(t)}else u=!1;if(Br(t,s),t.stateNode===null)_i(e,t),Ju(t,n,a),gl(t,n,a,s),a=!0;else if(e===null){var h=t.stateNode,k=t.memoizedProps;h.props=k;var j=h.context,A=n.contextType;typeof A=="object"&&A!==null?A=en(A):(A=Ft(n)?fr:Rt.current,A=Ar(t,A));var J=n.getDerivedStateFromProps,Y=typeof J=="function"||typeof h.getSnapshotBeforeUpdate=="function";Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==a||j!==A)&&Yu(t,h,a,A),Yn=!1;var q=t.memoizedState;h.state=q,Pi(t,a,h,s),j=t.memoizedState,k!==a||q!==j||Ot.current||Yn?(typeof J=="function"&&(hl(t,n,J,a),j=t.memoizedState),(k=Yn||Qu(t,n,k,a,q,j,A))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),h.props=a,h.state=j,h.context=A,a=k):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,ju(e,t),k=t.memoizedProps,A=t.type===t.elementType?k:dn(t.type,k),h.props=A,Y=t.pendingProps,q=h.context,j=n.contextType,typeof j=="object"&&j!==null?j=en(j):(j=Ft(n)?fr:Rt.current,j=Ar(t,j));var se=n.getDerivedStateFromProps;(J=typeof se=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==Y||q!==j)&&Yu(t,h,a,j),Yn=!1,q=t.memoizedState,h.state=q,Pi(t,a,h,s);var de=t.memoizedState;k!==Y||q!==de||Ot.current||Yn?(typeof se=="function"&&(hl(t,n,se,a),de=t.memoizedState),(A=Yn||Qu(t,n,A,a,q,de,j)||!1)?(J||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,de,j),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,de,j)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=de),h.props=a,h.state=de,h.context=j,a=A):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return wl(e,t,n,a,u,s)}function wl(e,t,n,a,s,u){lc(e,t);var h=(t.flags&128)!==0;if(!a&&!h)return s&&pu(t,n,!1),In(e,t,u);a=t.stateNode,vp.current=t;var k=h&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&h?(t.child=Fr(t,e.child,null,u),t.child=Fr(t,null,k,u)):zt(e,t,k,u),t.memoizedState=a.state,s&&pu(t,n,!0),t.child}function uc(e){var t=e.stateNode;t.pendingContext?du(e,t.pendingContext,t.pendingContext!==t.context):t.context&&du(e,t.context,!1),rl(e,t.containerInfo)}function cc(e,t,n,a,s){return Or(),Js(s),t.flags|=256,zt(e,t,n,a),t.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function dc(e,t,n){var a=t.pendingProps,s=ut.current,u=!1,h=(t.flags&128)!==0,k;if((k=h)||(k=e!==null&&e.memoizedState===null?!1:(s&2)!==0),k?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),nt(ut,s&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=a.children,e=a.fallback,u?(a=t.mode,u=t.child,h={mode:"hidden",children:h},(a&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Qi(h,a,0,null),e=Nr(e,a,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nl(n),t.memoizedState=kl,e):bl(t,h));if(s=e.memoizedState,s!==null&&(k=s.dehydrated,k!==null))return wp(e,t,h,a,k,s,n);if(u){u=a.fallback,h=t.mode,s=e.child,k=s.sibling;var j={mode:"hidden",children:a.children};return(h&1)===0&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=j,t.deletions=null):(a=ar(s,j),a.subtreeFlags=s.subtreeFlags&14680064),k!==null?u=ar(k,u):(u=Nr(u,h,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,h=e.child.memoizedState,h=h===null?Nl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~n,t.memoizedState=kl,a}return u=e.child,e=u.sibling,a=ar(u,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function bl(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,a){return a!==null&&Js(a),Fr(t,e.child,null,n),e=bl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wp(e,t,n,a,s,u,h){if(n)return t.flags&256?(t.flags&=-257,a=xl(Error(l(422))),Ai(e,t,h,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=a.fallback,s=t.mode,a=Qi({mode:"visible",children:a.children},s,0,null),u=Nr(u,s,h,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,(t.mode&1)!==0&&Fr(t,e.child,null,h),t.child.memoizedState=Nl(h),t.memoizedState=kl,u);if((t.mode&1)===0)return Ai(e,t,h,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var k=a.dgst;return a=k,u=Error(l(419)),a=xl(u,a,void 0),Ai(e,t,h,a)}if(k=(h&e.childLanes)!==0,Ut||k){if(a=jt,a!==null){switch(h&-h){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(a.suspendedLanes|h))!==0?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,En(e,s),mn(a,e,s,-1))}return Ol(),a=xl(Error(l(421))),Ai(e,t,h,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lp.bind(null,e),s._reactRetry=t,null):(e=u.treeContext,Qt=Kn(s.nextSibling),qt=t,lt=!0,cn=null,e!==null&&(Xt[Zt++]=Mn,Xt[Zt++]=Pn,Xt[Zt++]=pr,Mn=e.id,Pn=e.overflow,pr=t),t=bl(t,a.children),t.flags|=4096,t)}function fc(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),el(e.return,t,n)}function jl(e,t,n,a,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=s)}function pc(e,t,n){var a=t.pendingProps,s=a.revealOrder,u=a.tail;if(zt(e,t,a.children,n),a=ut.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fc(e,n,t);else if(e.tag===19)fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(nt(ut,a),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ei(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),jl(t,!1,s,n,u);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ei(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}jl(t,!0,n,null,u);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function In(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kp(e,t,n){switch(t.tag){case 3:uc(t),Or();break;case 5:Mu(t);break;case 1:Ft(t.type)&&vi(t);break;case 4:rl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;nt(Si,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(nt(ut,ut.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?dc(e,t,n):(nt(ut,ut.current&1),e=In(e,t,n),e!==null?e.sibling:null);nt(ut,ut.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return pc(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nt(ut,ut.current),a)break;return null;case 22:case 23:return t.lanes=0,sc(e,t,n)}return In(e,t,n)}var mc,Sl,hc,gc;mc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Sl=function(){},hc=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,gr(wn.current);var u=null;switch(n){case"input":s=ae(e,s),a=ae(e,a),u=[];break;case"select":s=ne({},s,{value:void 0}),a=ne({},a,{value:void 0}),u=[];break;case"textarea":s=it(e,s),a=it(e,a),u=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=gi)}vt(n,a);var h;n=null;for(A in s)if(!a.hasOwnProperty(A)&&s.hasOwnProperty(A)&&s[A]!=null)if(A==="style"){var k=s[A];for(h in k)k.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(d.hasOwnProperty(A)?u||(u=[]):(u=u||[]).push(A,null));for(A in a){var j=a[A];if(k=s?.[A],a.hasOwnProperty(A)&&j!==k&&(j!=null||k!=null))if(A==="style")if(k){for(h in k)!k.hasOwnProperty(h)||j&&j.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in j)j.hasOwnProperty(h)&&k[h]!==j[h]&&(n||(n={}),n[h]=j[h])}else n||(u||(u=[]),u.push(A,n)),n=j;else A==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,k=k?k.__html:void 0,j!=null&&k!==j&&(u=u||[]).push(A,j)):A==="children"?typeof j!="string"&&typeof j!="number"||(u=u||[]).push(A,""+j):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(d.hasOwnProperty(A)?(j!=null&&A==="onScroll"&&rt("scroll",e),u||k===j||(u=[])):(u=u||[]).push(A,j))}n&&(u=u||[]).push("style",n);var A=u;(t.updateQueue=A)&&(t.flags|=4)}},gc=function(e,t,n,a){n!==a&&(t.flags|=4)};function Ta(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Np(e,t,n){var a=t.pendingProps;switch(Ks(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return Ft(t.type)&&yi(),Dt(t),null;case 3:return a=t.stateNode,Hr(),at(Ot),at(Rt),sl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cn!==null&&(Al(cn),cn=null))),Sl(e,t),Dt(t),null;case 5:al(t);var s=gr(Ea.current);if(n=t.type,e!==null&&t.stateNode!=null)hc(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(l(166));return Dt(t),null}if(e=gr(wn.current),bi(t)){a=t.stateNode,n=t.type;var u=t.memoizedProps;switch(a[vn]=t,a[ja]=u,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",a),rt("close",a);break;case"iframe":case"object":case"embed":rt("load",a);break;case"video":case"audio":for(s=0;s<ka.length;s++)rt(ka[s],a);break;case"source":rt("error",a);break;case"img":case"image":case"link":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"input":ze(a,u),rt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!u.multiple},rt("invalid",a);break;case"textarea":Je(a,u),rt("invalid",a)}vt(n,u),s=null;for(var h in u)if(u.hasOwnProperty(h)){var k=u[h];h==="children"?typeof k=="string"?a.textContent!==k&&(u.suppressHydrationWarning!==!0&&hi(a.textContent,k,e),s=["children",k]):typeof k=="number"&&a.textContent!==""+k&&(u.suppressHydrationWarning!==!0&&hi(a.textContent,k,e),s=["children",""+k]):d.hasOwnProperty(h)&&k!=null&&h==="onScroll"&&rt("scroll",a)}switch(n){case"input":T(a),Ue(a,u,!0);break;case"textarea":T(a),Pe(a);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(a.onclick=gi)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{h=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ht(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=h.createElement(n,{is:a.is}):(e=h.createElement(n),n==="select"&&(h=e,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):e=h.createElementNS(e,n),e[vn]=t,e[ja]=a,mc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Et(n,a),n){case"dialog":rt("cancel",e),rt("close",e),s=a;break;case"iframe":case"object":case"embed":rt("load",e),s=a;break;case"video":case"audio":for(s=0;s<ka.length;s++)rt(ka[s],e);s=a;break;case"source":rt("error",e),s=a;break;case"img":case"image":case"link":rt("error",e),rt("load",e),s=a;break;case"details":rt("toggle",e),s=a;break;case"input":ze(e,a),s=ae(e,a),rt("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=ne({},a,{value:void 0}),rt("invalid",e);break;case"textarea":Je(e,a),s=it(e,a),rt("invalid",e);break;default:s=a}vt(n,s),k=s;for(u in k)if(k.hasOwnProperty(u)){var j=k[u];u==="style"?_e(e,j):u==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Wt(e,j)):u==="children"?typeof j=="string"?(n!=="textarea"||j!=="")&&tt(e,j):typeof j=="number"&&tt(e,""+j):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?j!=null&&u==="onScroll"&&rt("scroll",e):j!=null&&O(e,u,j,h))}switch(n){case"input":T(e),Ue(e,a,!1);break;case"textarea":T(e),Pe(e);break;case"option":a.value!=null&&e.setAttribute("value",""+oe(a.value));break;case"select":e.multiple=!!a.multiple,u=a.value,u!=null?$(e,!!a.multiple,u,!1):a.defaultValue!=null&&$(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)gc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(l(166));if(n=gr(Ea.current),gr(wn.current),bi(t)){if(a=t.stateNode,n=t.memoizedProps,a[vn]=t,(u=a.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:hi(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(a.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[vn]=t,t.stateNode=a}return Dt(t),null;case 13:if(at(ut),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Qt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)vu(),Or(),t.flags|=98560,u=!1;else if(u=bi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[vn]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Dt(t),u=!1}else cn!==null&&(Al(cn),cn=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ut.current&1)!==0?Nt===0&&(Nt=3):Ol())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Hr(),Sl(e,t),e===null&&Na(t.stateNode.containerInfo),Dt(t),null;case 10:return Zs(t.type._context),Dt(t),null;case 17:return Ft(t.type)&&yi(),Dt(t),null;case 19:if(at(ut),u=t.memoizedState,u===null)return Dt(t),null;if(a=(t.flags&128)!==0,h=u.rendering,h===null)if(a)Ta(u,!1);else{if(Nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ei(e),h!==null){for(t.flags|=128,Ta(u,!1),a=h.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)u=n,e=a,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ut,ut.current&1|2),t.child}e=e.sibling}u.tail!==null&&Be()>Kr&&(t.flags|=128,a=!0,Ta(u,!1),t.lanes=4194304)}else{if(!a)if(e=Ei(h),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ta(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!lt)return Dt(t),null}else 2*Be()-u.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,a=!0,Ta(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(n=u.last,n!==null?n.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Be(),t.sibling=null,n=ut.current,nt(ut,a?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return Vl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Jt&1073741824)!==0&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function bp(e,t){switch(Ks(t),t.tag){case 1:return Ft(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),at(Ot),at(Rt),sl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return al(t),null;case 13:if(at(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(ut),null;case 4:return Hr(),null;case 10:return Zs(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var Vi=!1,Lt=!1,jp=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){pt(e,t,a)}else n.current=null}function Cl(e,t,n){try{n()}catch(a){pt(e,t,a)}}var xc=!1;function Sp(e,t){if(Vs=ai,e=Qo(),Rs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,k=-1,j=-1,A=0,J=0,Y=e,q=null;t:for(;;){for(var se;Y!==n||s!==0&&Y.nodeType!==3||(k=h+s),Y!==u||a!==0&&Y.nodeType!==3||(j=h+a),Y.nodeType===3&&(h+=Y.nodeValue.length),(se=Y.firstChild)!==null;)q=Y,Y=se;for(;;){if(Y===e)break t;if(q===n&&++A===s&&(k=h),q===u&&++J===a&&(j=h),(se=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=se}n=k===-1||j===-1?null:{start:k,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(Os={focusedElem:e,selectionRange:n},ai=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var de=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,mt=de.memoizedState,I=t.stateNode,C=I.getSnapshotBeforeUpdate(t.elementType===t.type?fe:dn(t.type,fe),mt);I.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(ee){pt(t,t.return,ee)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return de=xc,xc=!1,de}function za(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&Cl(t,n,u)}s=s.next}while(s!==a)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yc(e){var t=e.alternate;t!==null&&(e.alternate=null,yc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vn],delete t[ja],delete t[Hs],delete t[lp],delete t[op])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vc(e){return e.tag===5||e.tag===3||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(a!==4&&(e=e.child,e!==null))for(Pl(e,t,n),e=e.sibling;e!==null;)Pl(e,t,n),e=e.sibling}function El(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}var Mt=null,fn=!1;function Zn(e,t,n){for(n=n.child;n!==null;)kc(e,t,n),n=n.sibling}function kc(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Xa,n)}catch{}switch(n.tag){case 5:Lt||Wr(n,t);case 6:var a=Mt,s=fn;Mt=null,Zn(e,t,n),Mt=a,fn=s,Mt!==null&&(fn?(e=Mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(fn?(e=Mt,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),pa(e)):Bs(Mt,n.stateNode));break;case 4:a=Mt,s=fn,Mt=n.stateNode.containerInfo,fn=!0,Zn(e,t,n),Mt=a,fn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var u=s,h=u.destroy;u=u.tag,h!==void 0&&((u&2)!==0||(u&4)!==0)&&Cl(n,t,h),s=s.next}while(s!==a)}Zn(e,t,n);break;case 1:if(!Lt&&(Wr(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(k){pt(n,t,k)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(Lt=(a=Lt)||n.memoizedState!==null,Zn(e,t,n),Lt=a):Zn(e,t,n);break;default:Zn(e,t,n)}}function Nc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jp),t.forEach(function(a){var s=Tp.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function pn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var u=e,h=t,k=h;e:for(;k!==null;){switch(k.tag){case 5:Mt=k.stateNode,fn=!1;break e;case 3:Mt=k.stateNode.containerInfo,fn=!0;break e;case 4:Mt=k.stateNode.containerInfo,fn=!0;break e}k=k.return}if(Mt===null)throw Error(l(160));kc(u,h,s),Mt=null,fn=!1;var j=s.alternate;j!==null&&(j.return=null),s.return=null}catch(A){pt(s,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bc(t,e),t=t.sibling}function bc(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Nn(e),a&4){try{za(3,e,e.return),Oi(3,e)}catch(fe){pt(e,e.return,fe)}try{za(5,e,e.return)}catch(fe){pt(e,e.return,fe)}}break;case 1:pn(t,e),Nn(e),a&512&&n!==null&&Wr(n,n.return);break;case 5:if(pn(t,e),Nn(e),a&512&&n!==null&&Wr(n,n.return),e.flags&32){var s=e.stateNode;try{tt(s,"")}catch(fe){pt(e,e.return,fe)}}if(a&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,h=n!==null?n.memoizedProps:u,k=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{k==="input"&&u.type==="radio"&&u.name!=null&&qe(s,u),Et(k,h);var A=Et(k,u);for(h=0;h<j.length;h+=2){var J=j[h],Y=j[h+1];J==="style"?_e(s,Y):J==="dangerouslySetInnerHTML"?Wt(s,Y):J==="children"?tt(s,Y):O(s,J,Y,A)}switch(k){case"input":Ee(s,u);break;case"textarea":Me(s,u);break;case"select":var q=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var se=u.value;se!=null?$(s,!!u.multiple,se,!1):q!==!!u.multiple&&(u.defaultValue!=null?$(s,!!u.multiple,u.defaultValue,!0):$(s,!!u.multiple,u.multiple?[]:"",!1))}s[ja]=u}catch(fe){pt(e,e.return,fe)}}break;case 6:if(pn(t,e),Nn(e),a&4){if(e.stateNode===null)throw Error(l(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(fe){pt(e,e.return,fe)}}break;case 3:if(pn(t,e),Nn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{pa(t.containerInfo)}catch(fe){pt(e,e.return,fe)}break;case 4:pn(t,e),Nn(e);break;case 13:pn(t,e),Nn(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(Dl=Be())),a&4&&Nc(e);break;case 22:if(J=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(A=Lt)||J,pn(t,e),Lt=A):pn(t,e),Nn(e),a&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!J&&(e.mode&1)!==0)for(ue=e,J=e.child;J!==null;){for(Y=ue=J;ue!==null;){switch(q=ue,se=q.child,q.tag){case 0:case 11:case 14:case 15:za(4,q,q.return);break;case 1:Wr(q,q.return);var de=q.stateNode;if(typeof de.componentWillUnmount=="function"){a=q,n=q.return;try{t=a,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(fe){pt(a,n,fe)}}break;case 5:Wr(q,q.return);break;case 22:if(q.memoizedState!==null){Cc(Y);continue}}se!==null?(se.return=q,ue=se):Cc(Y)}J=J.sibling}e:for(J=null,Y=e;;){if(Y.tag===5){if(J===null){J=Y;try{s=Y.stateNode,A?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(k=Y.stateNode,j=Y.memoizedProps.style,h=j!=null&&j.hasOwnProperty("display")?j.display:null,k.style.display=sn("display",h))}catch(fe){pt(e,e.return,fe)}}}else if(Y.tag===6){if(J===null)try{Y.stateNode.nodeValue=A?"":Y.memoizedProps}catch(fe){pt(e,e.return,fe)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;J===Y&&(J=null),Y=Y.return}J===Y&&(J=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:pn(t,e),Nn(e),a&4&&Nc(e);break;case 21:break;default:pn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vc(n)){var a=n;break e}n=n.return}throw Error(l(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(tt(s,""),a.flags&=-33);var u=wc(e);El(e,u,s);break;case 3:case 4:var h=a.stateNode.containerInfo,k=wc(e);Pl(e,k,h);break;default:throw Error(l(161))}}catch(j){pt(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cp(e,t,n){ue=e,jc(e)}function jc(e,t,n){for(var a=(e.mode&1)!==0;ue!==null;){var s=ue,u=s.child;if(s.tag===22&&a){var h=s.memoizedState!==null||Vi;if(!h){var k=s.alternate,j=k!==null&&k.memoizedState!==null||Lt;k=Vi;var A=Lt;if(Vi=h,(Lt=j)&&!A)for(ue=s;ue!==null;)h=ue,j=h.child,h.tag===22&&h.memoizedState!==null?Mc(s):j!==null?(j.return=h,ue=j):Mc(s);for(;u!==null;)ue=u,jc(u),u=u.sibling;ue=s,Vi=k,Lt=A}Sc(e)}else(s.subtreeFlags&8772)!==0&&u!==null?(u.return=s,ue=u):Sc(e)}}function Sc(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Lt||Oi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Lt)if(n===null)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Cu(t,u,a);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cu(t,h,n)}break;case 5:var k=t.stateNode;if(n===null&&t.flags&4){n=k;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&n.focus();break;case"img":j.src&&(n.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var J=A.memoizedState;if(J!==null){var Y=J.dehydrated;Y!==null&&pa(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Lt||t.flags&512&&Ml(t)}catch(q){pt(t,t.return,q)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Cc(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Mc(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(j){pt(t,n,j)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(j){pt(t,s,j)}}var u=t.return;try{Ml(t)}catch(j){pt(t,u,j)}break;case 5:var h=t.return;try{Ml(t)}catch(j){pt(t,h,j)}}}catch(j){pt(t,t.return,j)}if(t===e){ue=null;break}var k=t.sibling;if(k!==null){k.return=t.return,ue=k;break}ue=t.return}}var Mp=Math.ceil,Fi=z.ReactCurrentDispatcher,Rl=z.ReactCurrentOwner,nn=z.ReactCurrentBatchConfig,Ae=0,jt=null,xt=null,Pt=0,Jt=0,$r=qn(0),Nt=0,Aa=null,yr=0,Ui=0,Il=0,_a=null,Bt=null,Dl=0,Kr=1/0,Dn=null,Bi=!1,Ll=null,er=null,Hi=!1,tr=null,Gi=0,Va=0,Tl=null,Wi=-1,$i=0;function At(){return(Ae&6)!==0?Be():Wi!==-1?Wi:Wi=Be()}function nr(e){return(e.mode&1)===0?1:(Ae&2)!==0&&Pt!==0?Pt&-Pt:cp.transition!==null?($i===0&&($i=wo()),$i):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Eo(e.type)),e)}function mn(e,t,n,a){if(50<Va)throw Va=0,Tl=null,Error(l(185));oa(e,n,a),((Ae&2)===0||e!==jt)&&(e===jt&&((Ae&2)===0&&(Ui|=n),Nt===4&&rr(e,Pt)),Ht(e,a),n===1&&Ae===0&&(t.mode&1)===0&&(Kr=Be()+500,wi&&Jn()))}function Ht(e,t){var n=e.callbackNode;cf(e,t);var a=ti(e,e===jt?Pt:0);if(a===0)n!==null&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&$e(n),t===1)e.tag===0?up(Ec.bind(null,e)):mu(Ec.bind(null,e)),ip(function(){(Ae&6)===0&&Jn()}),n=null;else{switch(ko(a)){case 1:n=$t;break;case 4:n=ln;break;case 16:n=Cr;break;case 536870912:n=vo;break;default:n=Cr}n=_c(n,Pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pc(e,t){if(Wi=-1,$i=0,(Ae&6)!==0)throw Error(l(327));var n=e.callbackNode;if(qr()&&e.callbackNode!==n)return null;var a=ti(e,e===jt?Pt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ki(e,a);else{t=a;var s=Ae;Ae|=2;var u=Ic();(jt!==e||Pt!==t)&&(Dn=null,Kr=Be()+500,wr(e,t));do try{Rp();break}catch(k){Rc(e,k)}while(!0);Xs(),Fi.current=u,Ae=s,xt!==null?t=0:(jt=null,Pt=0,t=Nt)}if(t!==0){if(t===2&&(s=ms(e),s!==0&&(a=s,t=zl(e,s))),t===1)throw n=Aa,wr(e,0),rr(e,a),Ht(e,Be()),n;if(t===6)rr(e,a);else{if(s=e.current.alternate,(a&30)===0&&!Pp(s)&&(t=Ki(e,a),t===2&&(u=ms(e),u!==0&&(a=u,t=zl(e,u))),t===1))throw n=Aa,wr(e,0),rr(e,a),Ht(e,Be()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:kr(e,Bt,Dn);break;case 3:if(rr(e,a),(a&130023424)===a&&(t=Dl+500-Be(),10<t)){if(ti(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Us(kr.bind(null,e,Bt,Dn),t);break}kr(e,Bt,Dn);break;case 4:if(rr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var h=31-on(a);u=1<<h,h=t[h],h>s&&(s=h),a&=~u}if(a=s,a=Be()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Mp(a/1960))-a,10<a){e.timeoutHandle=Us(kr.bind(null,e,Bt,Dn),a);break}kr(e,Bt,Dn);break;case 5:kr(e,Bt,Dn);break;default:throw Error(l(329))}}}return Ht(e,Be()),e.callbackNode===n?Pc.bind(null,e):null}function zl(e,t){var n=_a;return e.current.memoizedState.isDehydrated&&(wr(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&Al(t)),e}function Al(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Pp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],u=s.getSnapshot;s=s.value;try{if(!un(u(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~Il,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),a=1<<n;e[n]=-1,t&=~a}}function Ec(e){if((Ae&6)!==0)throw Error(l(327));qr();var t=ti(e,0);if((t&1)===0)return Ht(e,Be()),null;var n=Ki(e,t);if(e.tag!==0&&n===2){var a=ms(e);a!==0&&(t=a,n=zl(e,a))}if(n===1)throw n=Aa,wr(e,0),rr(e,t),Ht(e,Be()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Bt,Dn),Ht(e,Be()),null}function _l(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(Kr=Be()+500,wi&&Jn())}}function vr(e){tr!==null&&tr.tag===0&&(Ae&6)===0&&qr();var t=Ae;Ae|=1;var n=nn.transition,a=Ye;try{if(nn.transition=null,Ye=1,e)return e()}finally{Ye=a,nn.transition=n,Ae=t,(Ae&6)===0&&Jn()}}function Vl(){Jt=$r.current,at($r)}function wr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ap(n)),xt!==null)for(n=xt.return;n!==null;){var a=n;switch(Ks(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&yi();break;case 3:Hr(),at(Ot),at(Rt),sl();break;case 5:al(a);break;case 4:Hr();break;case 13:at(ut);break;case 19:at(ut);break;case 10:Zs(a.type._context);break;case 22:case 23:Vl()}n=n.return}if(jt=e,xt=e=ar(e.current,null),Pt=Jt=t,Nt=0,Aa=null,Il=Ui=yr=0,Bt=_a=null,hr!==null){for(t=0;t<hr.length;t++)if(n=hr[t],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,u=n.pending;if(u!==null){var h=u.next;u.next=s,a.next=h}n.pending=a}hr=null}return e}function Rc(e,t){do{var n=xt;try{if(Xs(),Ri.current=Ti,Ii){for(var a=ct.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ii=!1}if(xr=0,bt=kt=ct=null,Ra=!1,Ia=0,Rl.current=null,n===null||n.return===null){Nt=1,Aa=t,xt=null;break}e:{var u=e,h=n.return,k=n,j=t;if(t=Pt,k.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var A=j,J=k,Y=J.tag;if((J.mode&1)===0&&(Y===0||Y===11||Y===15)){var q=J.alternate;q?(J.updateQueue=q.updateQueue,J.memoizedState=q.memoizedState,J.lanes=q.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=tc(h);if(se!==null){se.flags&=-257,nc(se,h,k,u,t),se.mode&1&&ec(u,A,t),t=se,j=A;var de=t.updateQueue;if(de===null){var fe=new Set;fe.add(j),t.updateQueue=fe}else de.add(j);break e}else{if((t&1)===0){ec(u,A,t),Ol();break e}j=Error(l(426))}}else if(lt&&k.mode&1){var mt=tc(h);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),nc(mt,h,k,u,t),Js(Gr(j,k));break e}}u=j=Gr(j,k),Nt!==4&&(Nt=2),_a===null?_a=[u]:_a.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var I=Xu(u,j,t);Su(u,I);break e;case 1:k=j;var C=u.type,D=u.stateNode;if((u.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(er===null||!er.has(D)))){u.flags|=65536,t&=-t,u.lanes|=t;var ee=Zu(u,k,t);Su(u,ee);break e}}u=u.return}while(u!==null)}Lc(n)}catch(pe){t=pe,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function Ic(){var e=Fi.current;return Fi.current=Ti,e===null?Ti:e}function Ol(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),jt===null||(yr&268435455)===0&&(Ui&268435455)===0||rr(jt,Pt)}function Ki(e,t){var n=Ae;Ae|=2;var a=Ic();(jt!==e||Pt!==t)&&(Dn=null,wr(e,t));do try{Ep();break}catch(s){Rc(e,s)}while(!0);if(Xs(),Ae=n,Fi.current=a,xt!==null)throw Error(l(261));return jt=null,Pt=0,Nt}function Ep(){for(;xt!==null;)Dc(xt)}function Rp(){for(;xt!==null&&!Ke();)Dc(xt)}function Dc(e){var t=Ac(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?Lc(e):xt=t,Rl.current=null}function Lc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Np(n,t,Jt),n!==null){xt=n;return}}else{if(n=bp(n,t),n!==null){n.flags&=32767,xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,xt=null;return}}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Nt===0&&(Nt=5)}function kr(e,t,n){var a=Ye,s=nn.transition;try{nn.transition=null,Ye=1,Ip(e,t,n,a)}finally{nn.transition=s,Ye=a}return null}function Ip(e,t,n,a){do qr();while(tr!==null);if((Ae&6)!==0)throw Error(l(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(df(e,u),e===jt&&(xt=jt=null,Pt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Hi||(Hi=!0,_c(Cr,function(){return qr(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=nn.transition,nn.transition=null;var h=Ye;Ye=1;var k=Ae;Ae|=4,Rl.current=null,Sp(e,n),bc(n,e),Yf(Os),ai=!!Vs,Os=Vs=null,e.current=n,Cp(n),wt(),Ae=k,Ye=h,nn.transition=u}else e.current=n;if(Hi&&(Hi=!1,tr=e,Gi=s),u=e.pendingLanes,u===0&&(er=null),af(n.stateNode),Ht(e,Be()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Bi)throw Bi=!1,e=Ll,Ll=null,e;return(Gi&1)!==0&&e.tag!==0&&qr(),u=e.pendingLanes,(u&1)!==0?e===Tl?Va++:(Va=0,Tl=e):Va=0,Jn(),null}function qr(){if(tr!==null){var e=ko(Gi),t=nn.transition,n=Ye;try{if(nn.transition=null,Ye=16>e?16:e,tr===null)var a=!1;else{if(e=tr,tr=null,Gi=0,(Ae&6)!==0)throw Error(l(331));var s=Ae;for(Ae|=4,ue=e.current;ue!==null;){var u=ue,h=u.child;if((ue.flags&16)!==0){var k=u.deletions;if(k!==null){for(var j=0;j<k.length;j++){var A=k[j];for(ue=A;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:za(8,J,u)}var Y=J.child;if(Y!==null)Y.return=J,ue=Y;else for(;ue!==null;){J=ue;var q=J.sibling,se=J.return;if(yc(J),J===A){ue=null;break}if(q!==null){q.return=se,ue=q;break}ue=se}}}var de=u.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var mt=fe.sibling;fe.sibling=null,fe=mt}while(fe!==null)}}ue=u}}if((u.subtreeFlags&2064)!==0&&h!==null)h.return=u,ue=h;else e:for(;ue!==null;){if(u=ue,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:za(9,u,u.return)}var I=u.sibling;if(I!==null){I.return=u.return,ue=I;break e}ue=u.return}}var C=e.current;for(ue=C;ue!==null;){h=ue;var D=h.child;if((h.subtreeFlags&2064)!==0&&D!==null)D.return=h,ue=D;else e:for(h=C;ue!==null;){if(k=ue,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Oi(9,k)}}catch(pe){pt(k,k.return,pe)}if(k===h){ue=null;break e}var ee=k.sibling;if(ee!==null){ee.return=k.return,ue=ee;break e}ue=k.return}}if(Ae=s,Jn(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Xa,e)}catch{}a=!0}return a}finally{Ye=n,nn.transition=t}}return!1}function Tc(e,t,n){t=Gr(n,t),t=Xu(e,t,1),e=Xn(e,t,1),t=At(),e!==null&&(oa(e,1,t),Ht(e,t))}function pt(e,t,n){if(e.tag===3)Tc(e,e,n);else for(;t!==null;){if(t.tag===3){Tc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(er===null||!er.has(a))){e=Gr(n,e),e=Zu(t,e,1),t=Xn(t,e,1),e=At(),t!==null&&(oa(t,1,e),Ht(t,e));break}}t=t.return}}function Dp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Pt&n)===n&&(Nt===4||Nt===3&&(Pt&130023424)===Pt&&500>Be()-Dl?wr(e,0):Il|=n),Ht(e,t)}function zc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var n=At();e=En(e,t),e!==null&&(oa(e,t,n),Ht(e,n))}function Lp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zc(e,n)}function Tp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}a!==null&&a.delete(t),zc(e,n)}var Ac;Ac=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Ut=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ut=!1,kp(e,t,n);Ut=(e.flags&131072)!==0}else Ut=!1,lt&&(t.flags&1048576)!==0&&hu(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;_i(e,t),e=t.pendingProps;var s=Ar(t,Rt.current);Br(t,n),s=ul(null,t,a,e,s,n);var u=cl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(a)?(u=!0,vi(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nl(t),s.updater=zi,t.stateNode=s,s._reactInternals=t,gl(t,a,e,n),t=wl(null,t,a,!0,u,n)):(t.tag=0,lt&&u&&$s(t),zt(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(_i(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=Ap(a),e=dn(a,e),s){case 0:t=vl(null,t,a,e,n);break e;case 1:t=oc(null,t,a,e,n);break e;case 11:t=rc(null,t,a,e,n);break e;case 14:t=ac(null,t,a,dn(a.type,e),n);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:dn(a,s),vl(e,t,a,s,n);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:dn(a,s),oc(e,t,a,s,n);case 3:e:{if(uc(t),e===null)throw Error(l(387));a=t.pendingProps,u=t.memoizedState,s=u.element,ju(e,t),Pi(t,a,null,n);var h=t.memoizedState;if(a=h.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=Gr(Error(l(423)),t),t=cc(e,t,a,n,s);break e}else if(a!==s){s=Gr(Error(l(424)),t),t=cc(e,t,a,n,s);break e}else for(Qt=Kn(t.stateNode.containerInfo.firstChild),qt=t,lt=!0,cn=null,n=Nu(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),a===s){t=In(e,t,n);break e}zt(e,t,a,n)}t=t.child}return t;case 5:return Mu(t),e===null&&Qs(t),a=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,h=s.children,Fs(a,s)?h=null:u!==null&&Fs(a,u)&&(t.flags|=32),lc(e,t),zt(e,t,h,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return dc(e,t,n);case 4:return rl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Fr(t,null,a,n):zt(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:dn(a,s),rc(e,t,a,s,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,u=t.memoizedProps,h=s.value,nt(Si,a._currentValue),a._currentValue=h,u!==null)if(un(u.value,h)){if(u.children===s.children&&!Ot.current){t=In(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var k=u.dependencies;if(k!==null){h=u.child;for(var j=k.firstContext;j!==null;){if(j.context===a){if(u.tag===1){j=Rn(-1,n&-n),j.tag=2;var A=u.updateQueue;if(A!==null){A=A.shared;var J=A.pending;J===null?j.next=j:(j.next=J.next,J.next=j),A.pending=j}}u.lanes|=n,j=u.alternate,j!==null&&(j.lanes|=n),el(u.return,n,t),k.lanes|=n;break}j=j.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(l(341));h.lanes|=n,k=h.alternate,k!==null&&(k.lanes|=n),el(h,n,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}zt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Br(t,n),s=en(s),a=a(s),t.flags|=1,zt(e,t,a,n),t.child;case 14:return a=t.type,s=dn(a,t.pendingProps),s=dn(a.type,s),ac(e,t,a,s,n);case 15:return ic(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:dn(a,s),_i(e,t),t.tag=1,Ft(a)?(e=!0,vi(t)):e=!1,Br(t,n),Ju(t,a,s),gl(t,a,s,n),wl(null,t,a,!0,e,n);case 19:return pc(e,t,n);case 22:return sc(e,t,n)}throw Error(l(156,t.tag))};function _c(e,t){return ke(e,t)}function zp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,a){return new zp(e,t,n,a)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ap(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===He)return 11;if(e===Fe)return 14}return 2}function ar(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qi(e,t,n,a,s,u){var h=2;if(a=e,typeof e=="function")Fl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case he:return Nr(n.children,s,u,t);case je:h=8,s|=8;break;case Ie:return e=rn(12,n,t,s|2),e.elementType=Ie,e.lanes=u,e;case Te:return e=rn(13,n,t,s),e.elementType=Te,e.lanes=u,e;case et:return e=rn(19,n,t,s),e.elementType=et,e.lanes=u,e;case me:return Qi(n,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:h=10;break e;case Ze:h=9;break e;case He:h=11;break e;case Fe:h=14;break e;case Re:h=16,a=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=rn(h,n,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Nr(e,t,n,a){return e=rn(7,e,a,t),e.lanes=n,e}function Qi(e,t,n,a){return e=rn(22,e,a,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function Bl(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _p(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,a,s,u,h,k,j){return e=new _p(e,t,n,k,j),t===1?(t=1,u===!0&&(t|=8)):t=0,u=rn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nl(u),e}function Vp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Qn;e=e._reactInternals;e:{if(xe(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(Ft(n))return fu(e,n,t)}return t}function Oc(e,t,n,a,s,u,h,k,j){return e=Hl(n,a,!0,e,s,u,h,k,j),e.context=Vc(null),n=e.current,a=At(),s=nr(n),u=Rn(a,s),u.callback=t??null,Xn(n,u,s),e.current.lanes=s,oa(e,s,a),Ht(e,a),e}function Ji(e,t,n,a){var s=t.current,u=At(),h=nr(s);return n=Vc(n),t.context===null?t.context=n:t.pendingContext=n,t=Rn(u,h),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Xn(s,t,h),e!==null&&(mn(e,s,h,u),Mi(e,s,h)),h}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gl(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Op(){return null}var Uc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}Xi.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));Ji(e,t,null,null)},Xi.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){Ji(null,e,null,null)}),t[Sn]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=jo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&Mo(e)}};function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function Fp(e,t,n,a,s){if(s){if(typeof a=="function"){var u=a;a=function(){var A=Yi(h);u.call(A)}}var h=Oc(t,a,e,0,null,!1,!1,"",Bc);return e._reactRootContainer=h,e[Sn]=h.current,Na(e.nodeType===8?e.parentNode:e),vr(),h}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var k=a;a=function(){var A=Yi(j);k.call(A)}}var j=Hl(e,0,!1,null,null,!1,!1,"",Bc);return e._reactRootContainer=j,e[Sn]=j.current,Na(e.nodeType===8?e.parentNode:e),vr(function(){Ji(t,j,n,a)}),j}function es(e,t,n,a,s){var u=n._reactRootContainer;if(u){var h=u;if(typeof s=="function"){var k=s;s=function(){var j=Yi(h);k.call(j)}}Ji(t,h,e,s)}else h=Fp(n,t,e,s,a);return Yi(h)}No=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=la(t.pendingLanes);n!==0&&(gs(t,n|1),Ht(t,Be()),(Ae&6)===0&&(Kr=Be()+500,Jn()))}break;case 13:vr(function(){var a=En(e,1);if(a!==null){var s=At();mn(a,e,1,s)}}),Gl(e,1)}},xs=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=At();mn(t,e,134217728,n)}Gl(e,134217728)}},bo=function(e){if(e.tag===13){var t=nr(e),n=En(e,t);if(n!==null){var a=At();mn(n,e,t,a)}Gl(e,t)}},jo=function(){return Ye},So=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}},ra=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=xi(a);if(!s)throw Error(l(90));_(a),Ee(a,s)}}}break;case"textarea":Me(e,n);break;case"select":t=n.value,t!=null&&$(e,!!n.multiple,t,!1)}},Qa=_l,aa=vr;var Up={usingClientEntryPoint:!1,Events:[Sa,Tr,xi,Sr,qa,_l]},Oa={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gt(e),e===null?null:e.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{Xa=ts.inject(Bp),yn=ts}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Up,Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$l(t))throw Error(l(200));return Vp(e,t,null,n)},Gt.createRoot=function(e,t){if(!$l(e))throw Error(l(299));var n=!1,a="",s=Uc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hl(e,1,!1,null,null,n,!1,a,s),e[Sn]=t.current,Na(e.nodeType===8?e.parentNode:e),new Wl(t)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=gt(t),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return vr(e)},Gt.hydrate=function(e,t,n){if(!Zi(t))throw Error(l(200));return es(null,e,t,!0,n)},Gt.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(l(405));var a=n!=null&&n.hydratedSources||null,s=!1,u="",h=Uc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Oc(t,null,e,1,n??null,s,!1,u,h),e[Sn]=t.current,Na(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xi(t)},Gt.render=function(e,t,n){if(!Zi(t))throw Error(l(200));return es(null,e,t,!1,n)},Gt.unmountComponentAtNode=function(e){if(!Zi(e))throw Error(l(40));return e._reactRootContainer?(vr(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1},Gt.unstable_batchedUpdates=_l,Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Zi(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return es(e,t,n,!1,a)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Jc;function Id(){if(Jc)return Ql.exports;Jc=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Ql.exports=Jp(),Ql.exports}var Yc;function Yp(){if(Yc)return ns;Yc=1;var r=Id();return ns.createRoot=r.createRoot,ns.hydrateRoot=r.hydrateRoot,ns}var Xp=Yp();const Zp=Pd(Xp);Id();function Ha(){return Ha=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}return r},Ha.apply(this,arguments)}var an;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(an||(an={}));const Xc="popstate";function em(r){r===void 0&&(r={});let{initialEntries:o=["/"],initialIndex:l,v5Compat:c=!1}=r,d;d=o.map((P,S)=>x(P,typeof P=="string"?null:P.state,S===0?"default":void 0));let f=g(l??d.length-1),p=an.Pop,m=null;function g(P){return Math.min(Math.max(P,0),d.length-1)}function y(){return d[f]}function x(P,S,E){S===void 0&&(S=null);let R=is(d?y().pathname:"/",P,S,E);return $a(R.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(P)),R}function N(P){return typeof P=="string"?P:Ga(P)}return{get index(){return f},get action(){return p},get location(){return y()},createHref:N,createURL(P){return new URL(N(P),"http://localhost")},encodeLocation(P){let S=typeof P=="string"?lr(P):P;return{pathname:S.pathname||"",search:S.search||"",hash:S.hash||""}},push(P,S){p=an.Push;let E=x(P,S);f+=1,d.splice(f,d.length,E),c&&m&&m({action:p,location:E,delta:1})},replace(P,S){p=an.Replace;let E=x(P,S);d[f]=E,c&&m&&m({action:p,location:E,delta:0})},go(P){p=an.Pop;let S=g(f+P),E=d[S];f=S,m&&m({action:p,location:E,delta:P})},listen(P){return m=P,()=>{m=null}}}}function tm(r){r===void 0&&(r={});function o(d,f){let{pathname:p="/",search:m="",hash:g=""}=lr(d.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),is("",{pathname:p,search:m,hash:g},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function l(d,f){let p=d.document.querySelector("base"),m="";if(p&&p.getAttribute("href")){let g=d.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof f=="string"?f:Ga(f))}function c(d,f){$a(d.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(f)+")")}return rm(o,l,c,r)}function dt(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function $a(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function nm(){return Math.random().toString(36).substr(2,8)}function Zc(r,o){return{usr:r.state,key:r.key,idx:o}}function is(r,o,l,c){return l===void 0&&(l=null),Ha({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof o=="string"?lr(o):o,{state:l,key:o&&o.key||c||nm()})}function Ga(r){let{pathname:o="/",search:l="",hash:c=""}=r;return l&&l!=="?"&&(o+=l.charAt(0)==="?"?l:"?"+l),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function lr(r){let o={};if(r){let l=r.indexOf("#");l>=0&&(o.hash=r.substr(l),r=r.substr(0,l));let c=r.indexOf("?");c>=0&&(o.search=r.substr(c),r=r.substr(0,c)),r&&(o.pathname=r)}return o}function rm(r,o,l,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:f=!1}=c,p=d.history,m=an.Pop,g=null,y=x();y==null&&(y=0,p.replaceState(Ha({},p.state,{idx:y}),""));function x(){return(p.state||{idx:null}).idx}function N(){m=an.Pop;let R=x(),H=R==null?null:R-y;y=R,g&&g({action:m,location:E.location,delta:H})}function b(R,H){m=an.Push;let U=is(E.location,R,H);l&&l(U,R),y=x()+1;let O=Zc(U,y),z=E.createHref(U);try{p.pushState(O,"",z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;d.location.assign(z)}f&&g&&g({action:m,location:E.location,delta:1})}function P(R,H){m=an.Replace;let U=is(E.location,R,H);l&&l(U,R),y=x();let O=Zc(U,y),z=E.createHref(U);p.replaceState(O,"",z),f&&g&&g({action:m,location:E.location,delta:0})}function S(R){let H=d.location.origin!=="null"?d.location.origin:d.location.href,U=typeof R=="string"?R:Ga(R);return U=U.replace(/ $/,"%20"),dt(H,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,H)}let E={get action(){return m},get location(){return r(d,p)},listen(R){if(g)throw new Error("A history only accepts one active listener");return d.addEventListener(Xc,N),g=R,()=>{d.removeEventListener(Xc,N),g=null}},createHref(R){return o(d,R)},createURL:S,encodeLocation(R){let H=S(R);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:P,go(R){return p.go(R)}};return E}var ed;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ed||(ed={}));function am(r,o,l){return l===void 0&&(l="/"),im(r,o,l)}function im(r,o,l,c){let d=typeof o=="string"?lr(o):o,f=ea(d.pathname||"/",l);if(f==null)return null;let p=Dd(r);sm(p);let m=null;for(let g=0;m==null&&g<p.length;++g){let y=xm(f);m=hm(p[g],y)}return m}function Dd(r,o,l,c){o===void 0&&(o=[]),l===void 0&&(l=[]),c===void 0&&(c="");let d=(f,p,m)=>{let g={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};g.relativePath.startsWith("/")&&(dt(g.relativePath.startsWith(c),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(c.length));let y=sr([c,g.relativePath]),x=l.concat(g);f.children&&f.children.length>0&&(dt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Dd(f.children,o,x,y)),!(f.path==null&&!f.index)&&o.push({path:y,score:pm(y,f.index),routesMeta:x})};return r.forEach((f,p)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))d(f,p);else for(let g of Ld(f.path))d(f,p,g)}),o}function Ld(r){let o=r.split("/");if(o.length===0)return[];let[l,...c]=o,d=l.endsWith("?"),f=l.replace(/\?$/,"");if(c.length===0)return d?[f,""]:[f];let p=Ld(c.join("/")),m=[];return m.push(...p.map(g=>g===""?f:[f,g].join("/"))),d&&m.push(...p),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function sm(r){r.sort((o,l)=>o.score!==l.score?l.score-o.score:mm(o.routesMeta.map(c=>c.childrenIndex),l.routesMeta.map(c=>c.childrenIndex)))}const lm=/^:[\w-]+$/,om=3,um=2,cm=1,dm=10,fm=-2,td=r=>r==="*";function pm(r,o){let l=r.split("/"),c=l.length;return l.some(td)&&(c+=fm),o&&(c+=um),l.filter(d=>!td(d)).reduce((d,f)=>d+(lm.test(f)?om:f===""?cm:dm),c)}function mm(r,o){return r.length===o.length&&r.slice(0,-1).every((c,d)=>c===o[d])?r[r.length-1]-o[o.length-1]:0}function hm(r,o,l){let{routesMeta:c}=r,d={},f="/",p=[];for(let m=0;m<c.length;++m){let g=c[m],y=m===c.length-1,x=f==="/"?o:o.slice(f.length)||"/",N=so({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),b=g.route;if(!N)return null;Object.assign(d,N.params),p.push({params:d,pathname:sr([f,N.pathname]),pathnameBase:Nm(sr([f,N.pathnameBase])),route:b}),N.pathnameBase!=="/"&&(f=sr([f,N.pathnameBase]))}return p}function so(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,c]=gm(r.path,r.caseSensitive,r.end),d=o.match(l);if(!d)return null;let f=d[0],p=f.replace(/(.)\/+$/,"$1"),m=d.slice(1);return{params:c.reduce((y,x,N)=>{let{paramName:b,isOptional:P}=x;if(b==="*"){let E=m[N]||"";p=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const S=m[N];return P&&!S?y[b]=void 0:y[b]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:p,pattern:r}}function gm(r,o,l){o===void 0&&(o=!1),l===void 0&&(l=!0),$a(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let c=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,m,g)=>(c.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,o?void 0:"i"),c]}function xm(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return $a(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),r}}function ea(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let l=o.endsWith("/")?o.length-1:o.length,c=r.charAt(l);return c&&c!=="/"?null:r.slice(l)||"/"}const ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vm=r=>ym.test(r);function wm(r,o){o===void 0&&(o="/");let{pathname:l,search:c="",hash:d=""}=typeof r=="string"?lr(r):r,f;if(l)if(vm(l))f=l;else{if(l.includes("//")){let p=l;l=l.replace(/\/\/+/g,"/"),$a(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+l))}l.startsWith("/")?f=nd(l.substring(1),"/"):f=nd(l,o)}else f=o;return{pathname:f,search:bm(c),hash:jm(d)}}function nd(r,o){let l=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Xl(r,o,l,c){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function km(r){return r.filter((o,l)=>l===0||o.route.path&&o.route.path.length>0)}function ho(r,o){let l=km(r);return o?l.map((c,d)=>d===l.length-1?c.pathname:c.pathnameBase):l.map(c=>c.pathnameBase)}function go(r,o,l,c){c===void 0&&(c=!1);let d;typeof r=="string"?d=lr(r):(d=Ha({},r),dt(!d.pathname||!d.pathname.includes("?"),Xl("?","pathname","search",d)),dt(!d.pathname||!d.pathname.includes("#"),Xl("#","pathname","hash",d)),dt(!d.search||!d.search.includes("#"),Xl("#","search","hash",d)));let f=r===""||d.pathname==="",p=f?"/":d.pathname,m;if(p==null)m=l;else{let N=o.length-1;if(!c&&p.startsWith("..")){let b=p.split("/");for(;b[0]==="..";)b.shift(),N-=1;d.pathname=b.join("/")}m=N>=0?o[N]:"/"}let g=wm(d,m),y=p&&p!=="/"&&p.endsWith("/"),x=(f||p===".")&&l.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}const sr=r=>r.join("/").replace(/\/\/+/g,"/"),Nm=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),bm=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jm=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sm(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Td=["post","put","patch","delete"];new Set(Td);const Cm=["get",...Td];new Set(Cm);function Wa(){return Wa=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}return r},Wa.apply(this,arguments)}const us=w.createContext(null),zd=w.createContext(null),zn=w.createContext(null),cs=w.createContext(null),An=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Ad=w.createContext(null);function Mm(r,o){let{relative:l}=o===void 0?{}:o;ta()||dt(!1);let{basename:c,navigator:d}=w.useContext(zn),{hash:f,pathname:p,search:m}=ds(r,{relative:l}),g=p;return c!=="/"&&(g=p==="/"?c:sr([c,p])),d.createHref({pathname:g,search:m,hash:f})}function ta(){return w.useContext(cs)!=null}function or(){return ta()||dt(!1),w.useContext(cs).location}function _d(r){w.useContext(zn).static||w.useLayoutEffect(r)}function xo(){let{isDataRoute:r}=w.useContext(An);return r?Fm():Pm()}function Pm(){ta()||dt(!1);let r=w.useContext(us),{basename:o,future:l,navigator:c}=w.useContext(zn),{matches:d}=w.useContext(An),{pathname:f}=or(),p=JSON.stringify(ho(d,l.v7_relativeSplatPath)),m=w.useRef(!1);return _d(()=>{m.current=!0}),w.useCallback(function(y,x){if(x===void 0&&(x={}),!m.current)return;if(typeof y=="number"){c.go(y);return}let N=go(y,JSON.parse(p),f,x.relative==="path");r==null&&o!=="/"&&(N.pathname=N.pathname==="/"?o:sr([o,N.pathname])),(x.replace?c.replace:c.push)(N,x.state,x)},[o,c,p,f,r])}function Vd(){let{matches:r}=w.useContext(An),o=r[r.length-1];return o?o.params:{}}function ds(r,o){let{relative:l}=o===void 0?{}:o,{future:c}=w.useContext(zn),{matches:d}=w.useContext(An),{pathname:f}=or(),p=JSON.stringify(ho(d,c.v7_relativeSplatPath));return w.useMemo(()=>go(r,JSON.parse(p),f,l==="path"),[r,p,f,l])}function Em(r,o){return Rm(r,o)}function Rm(r,o,l,c){ta()||dt(!1);let{navigator:d}=w.useContext(zn),{matches:f}=w.useContext(An),p=f[f.length-1],m=p?p.params:{};p&&p.pathname;let g=p?p.pathnameBase:"/";p&&p.route;let y=or(),x;if(o){var N;let R=typeof o=="string"?lr(o):o;g==="/"||(N=R.pathname)!=null&&N.startsWith(g)||dt(!1),x=R}else x=y;let b=x.pathname||"/",P=b;if(g!=="/"){let R=g.replace(/^\//,"").split("/");P="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=am(r,{pathname:P}),E=zm(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:sr([g,d.encodeLocation?d.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:sr([g,d.encodeLocation?d.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),f,l,c);return o&&E?w.createElement(cs.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:an.Pop}},E):E}function Im(){let r=Om(),o=Sm(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},o),l?w.createElement("pre",{style:d},l):null,null)}const Dm=w.createElement(Im,null);class Lm extends w.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,l){return l.location!==o.location||l.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:l.error,location:l.location,revalidation:o.revalidation||l.revalidation}}componentDidCatch(o,l){console.error("React Router caught the following error during render",o,l)}render(){return this.state.error!==void 0?w.createElement(An.Provider,{value:this.props.routeContext},w.createElement(Ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tm(r){let{routeContext:o,match:l,children:c}=r,d=w.useContext(us);return d&&d.static&&d.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=l.route.id),w.createElement(An.Provider,{value:o},c)}function zm(r,o,l,c){var d;if(o===void 0&&(o=[]),l===void 0&&(l=null),c===void 0&&(c=null),r==null){var f;if(!l)return null;if(l.errors)r=l.matches;else if((f=c)!=null&&f.v7_partialHydration&&o.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let p=r,m=(d=l)==null?void 0:d.errors;if(m!=null){let x=p.findIndex(N=>N.route.id&&m?.[N.route.id]!==void 0);x>=0||dt(!1),p=p.slice(0,Math.min(p.length,x+1))}let g=!1,y=-1;if(l&&c&&c.v7_partialHydration)for(let x=0;x<p.length;x++){let N=p[x];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(y=x),N.route.id){let{loaderData:b,errors:P}=l,S=N.route.loader&&b[N.route.id]===void 0&&(!P||P[N.route.id]===void 0);if(N.route.lazy||S){g=!0,y>=0?p=p.slice(0,y+1):p=[p[0]];break}}}return p.reduceRight((x,N,b)=>{let P,S=!1,E=null,R=null;l&&(P=m&&N.route.id?m[N.route.id]:void 0,E=N.route.errorElement||Dm,g&&(y<0&&b===0?(Um("route-fallback"),S=!0,R=null):y===b&&(S=!0,R=N.route.hydrateFallbackElement||null)));let H=o.concat(p.slice(0,b+1)),U=()=>{let O;return P?O=E:S?O=R:N.route.Component?O=w.createElement(N.route.Component,null):N.route.element?O=N.route.element:O=x,w.createElement(Tm,{match:N,routeContext:{outlet:x,matches:H,isDataRoute:l!=null},children:O})};return l&&(N.route.ErrorBoundary||N.route.errorElement||b===0)?w.createElement(Lm,{location:l.location,revalidation:l.revalidation,component:E,error:P,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}var Od=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Od||{}),Fd=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Fd||{});function Am(r){let o=w.useContext(us);return o||dt(!1),o}function _m(r){let o=w.useContext(zd);return o||dt(!1),o}function Vm(r){let o=w.useContext(An);return o||dt(!1),o}function Ud(r){let o=Vm(),l=o.matches[o.matches.length-1];return l.route.id||dt(!1),l.route.id}function Om(){var r;let o=w.useContext(Ad),l=_m(),c=Ud();return o!==void 0?o:(r=l.errors)==null?void 0:r[c]}function Fm(){let{router:r}=Am(Od.UseNavigateStable),o=Ud(Fd.UseNavigateStable),l=w.useRef(!1);return _d(()=>{l.current=!0}),w.useCallback(function(d,f){f===void 0&&(f={}),l.current&&(typeof d=="number"?r.navigate(d):r.navigate(d,Wa({fromRouteId:o},f)))},[r,o])}const rd={};function Um(r,o,l){rd[r]||(rd[r]=!0)}function Bd(r,o){r?.v7_startTransition,r?.v7_relativeSplatPath}const Bm="startTransition",ad=Rd[Bm];function Hm(r){let{basename:o,children:l,initialEntries:c,initialIndex:d,future:f}=r,p=w.useRef();p.current==null&&(p.current=em({initialEntries:c,initialIndex:d,v5Compat:!0}));let m=p.current,[g,y]=w.useState({action:m.action,location:m.location}),{v7_startTransition:x}=f||{},N=w.useCallback(b=>{x&&ad?ad(()=>y(b)):y(b)},[y,x]);return w.useLayoutEffect(()=>m.listen(N),[m,N]),w.useEffect(()=>Bd(f),[f]),w.createElement(Hd,{basename:o,children:l,location:g.location,navigationType:g.action,navigator:m,future:f})}function Gm(r){let{to:o,replace:l,state:c,relative:d}=r;ta()||dt(!1);let{future:f,static:p}=w.useContext(zn),{matches:m}=w.useContext(An),{pathname:g}=or(),y=xo(),x=go(o,ho(m,f.v7_relativeSplatPath),g,d==="path"),N=JSON.stringify(x);return w.useEffect(()=>y(JSON.parse(N),{replace:l,state:c,relative:d}),[y,N,d,l,c]),null}function bn(r){dt(!1)}function Hd(r){let{basename:o="/",children:l=null,location:c,navigationType:d=an.Pop,navigator:f,static:p=!1,future:m}=r;ta()&&dt(!1);let g=o.replace(/^\/*/,"/"),y=w.useMemo(()=>({basename:g,navigator:f,static:p,future:Wa({v7_relativeSplatPath:!1},m)}),[g,m,f,p]);typeof c=="string"&&(c=lr(c));let{pathname:x="/",search:N="",hash:b="",state:P=null,key:S="default"}=c,E=w.useMemo(()=>{let R=ea(x,g);return R==null?null:{location:{pathname:R,search:N,hash:b,state:P,key:S},navigationType:d}},[g,x,N,b,P,S,d]);return E==null?null:w.createElement(zn.Provider,{value:y},w.createElement(cs.Provider,{children:l,value:E}))}function Wm(r){let{children:o,location:l}=r;return Em(lo(o),l)}new Promise(()=>{});function lo(r,o){o===void 0&&(o=[]);let l=[];return w.Children.forEach(r,(c,d)=>{if(!w.isValidElement(c))return;let f=[...o,d];if(c.type===w.Fragment){l.push.apply(l,lo(c.props.children,f));return}c.type!==bn&&dt(!1),!c.props.index||!c.props.children||dt(!1);let p={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(p.children=lo(c.props.children,f)),l.push(p)}),l}function ss(){return ss=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}return r},ss.apply(this,arguments)}function Gd(r,o){if(r==null)return{};var l={},c=Object.keys(r),d,f;for(f=0;f<c.length;f++)d=c[f],!(o.indexOf(d)>=0)&&(l[d]=r[d]);return l}function $m(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Km(r,o){return r.button===0&&(!o||o==="_self")&&!$m(r)}const qm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jm="6";try{window.__reactRouterVersion=Jm}catch{}const Ym=w.createContext({isTransitioning:!1}),Xm="startTransition",id=Rd[Xm];function Zm(r){let{basename:o,children:l,future:c,window:d}=r,f=w.useRef();f.current==null&&(f.current=tm({window:d,v5Compat:!0}));let p=f.current,[m,g]=w.useState({action:p.action,location:p.location}),{v7_startTransition:y}=c||{},x=w.useCallback(N=>{y&&id?id(()=>g(N)):g(N)},[g,y]);return w.useLayoutEffect(()=>p.listen(x),[p,x]),w.useEffect(()=>Bd(c),[c]),w.createElement(Hd,{basename:o,children:l,location:m.location,navigationType:m.action,navigator:p,future:c})}const eh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",th=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=w.forwardRef(function(o,l){let{onClick:c,relative:d,reloadDocument:f,replace:p,state:m,target:g,to:y,preventScrollReset:x,viewTransition:N}=o,b=Gd(o,qm),{basename:P}=w.useContext(zn),S,E=!1;if(typeof y=="string"&&th.test(y)&&(S=y,eh))try{let O=new URL(window.location.href),z=y.startsWith("//")?new URL(O.protocol+y):new URL(y),X=ea(z.pathname,P);z.origin===O.origin&&X!=null?y=X+z.search+z.hash:E=!0}catch{}let R=Mm(y,{relative:d}),H=rh(y,{replace:p,state:m,target:g,preventScrollReset:x,relative:d,viewTransition:N});function U(O){c&&c(O),O.defaultPrevented||H(O)}return w.createElement("a",ss({},b,{href:S||R,onClick:E||f?c:U,ref:l,target:g}))}),hn=w.forwardRef(function(o,l){let{"aria-current":c="page",caseSensitive:d=!1,className:f="",end:p=!1,style:m,to:g,viewTransition:y,children:x}=o,N=Gd(o,Qm),b=ds(g,{relative:N.relative}),P=or(),S=w.useContext(zd),{navigator:E,basename:R}=w.useContext(zn),H=S!=null&&ah(b)&&y===!0,U=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,O=P.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;d||(O=O.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&R&&(z=ea(z,R)||z);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ie=O===U||!p&&O.startsWith(U)&&O.charAt(X)==="/",he=z!=null&&(z===U||!p&&z.startsWith(U)&&z.charAt(U.length)==="/"),je={isActive:ie,isPending:he,isTransitioning:H},Ie=ie?c:void 0,ge;typeof f=="function"?ge=f(je):ge=[f,ie?"active":null,he?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Ze=typeof m=="function"?m(je):m;return w.createElement(gn,ss({},N,{"aria-current":Ie,className:ge,ref:l,style:Ze,to:g,viewTransition:y}),typeof x=="function"?x(je):x)});var oo;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(oo||(oo={}));var sd;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(sd||(sd={}));function nh(r){let o=w.useContext(us);return o||dt(!1),o}function rh(r,o){let{target:l,replace:c,state:d,preventScrollReset:f,relative:p,viewTransition:m}=o===void 0?{}:o,g=xo(),y=or(),x=ds(r,{relative:p});return w.useCallback(N=>{if(Km(N,l)){N.preventDefault();let b=c!==void 0?c:Ga(y)===Ga(x);g(r,{replace:b,state:d,preventScrollReset:f,relative:p,viewTransition:m})}},[y,g,x,c,d,l,r,f,p,m])}function ah(r,o){o===void 0&&(o={});let l=w.useContext(Ym);l==null&&dt(!1);let{basename:c}=nh(oo.useViewTransitionState),d=ds(r,{relative:o.relative});if(!l.isTransitioning)return!1;let f=ea(l.currentLocation.pathname,c)||l.currentLocation.pathname,p=ea(l.nextLocation.pathname,c)||l.nextLocation.pathname;return so(d.pathname,p)!=null||so(d.pathname,f)!=null}var ih={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sh=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tt=(r,o)=>{const l=w.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:f=2,absoluteStrokeWidth:p,className:m="",children:g,...y},x)=>w.createElement("svg",{ref:x,...ih,width:d,height:d,stroke:c,strokeWidth:p?Number(f)*24/Number(d):f,className:["lucide",`lucide-${sh(r)}`,m].join(" "),...y},[...o.map(([N,b])=>w.createElement(N,b)),...Array.isArray(g)?g:[g]]));return l.displayName=`${r}`,l};const ld=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const rs=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const lh=Tt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const oh=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const uh=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Wd=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const $d=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ch=Tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const ls=Tt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const od=Tt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const uo=Tt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const co=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const dh=Tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const ud=Tt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const fo=Tt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const fh=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ph=()=>{const[r,o]=w.useState(!1),[l,c]=w.useState(!1),d=or();w.useEffect(()=>{const p=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),w.useEffect(()=>{o(!1)},[d]);const f=({isActive:p})=>`text-sm font-medium transition-colors duration-300 hover:text-white ${p?"text-white":"text-neutral-300"}`;return i.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 border-b ${l||r?"bg-neutral-950/80 backdrop-blur-md border-neutral-800 py-4":"bg-transparent border-transparent py-6"}`,children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex items-center justify-between",children:[i.jsx(hn,{to:"/",className:"flex items-center gap-2 group",children:i.jsx("span",{className:"text-lg font-bold tracking-tight text-neutral-100 group-hover:text-white transition-colors",children:"Lucas Zeiger, PhD"})}),i.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[i.jsx(hn,{to:"/",className:f,children:"About"}),i.jsx(hn,{to:"/research",className:f,children:"Research"}),i.jsx(hn,{to:"/news",className:f,children:"News"}),i.jsx(hn,{to:"/cv",className:f,children:"CV"}),i.jsx(hn,{to:"/playground",className:f,children:"Playground"})]}),i.jsx("button",{className:"md:hidden text-neutral-300 hover:text-white focus:outline-none",onClick:()=>o(!r),children:r?i.jsx(fh,{size:24}):i.jsx(dh,{size:24})})]}),i.jsx("div",{className:`md:hidden absolute top-full left-0 w-full bg-neutral-950 border-b border-neutral-800 overflow-hidden transition-all duration-300 ease-in-out ${r?"max-h-64 opacity-100":"max-h-0 opacity-0"}`,children:i.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[i.jsx(hn,{to:"/",className:f,children:"About"}),i.jsx(hn,{to:"/research",className:f,children:"Research"}),i.jsx(hn,{to:"/news",className:f,children:"News"}),i.jsx(hn,{to:"/cv",className:f,children:"CV"}),i.jsx(hn,{to:"/playground",className:f,children:"Playground"})]})})]})},_t={github:"https://github.com/LucasZeiger",linkedin:"https://linkedin.com/in/lucas-zeiger/",twitter:"https://x.com/LBZeiger",scholar:"https://scholar.google.com/citations?user=aIa4KagAAAAJ&hl=en",researchgate:"https://www.researchgate.net/profile/Lucas-Zeiger-2",email:"l.zeiger@crukscotlandinstitute.ac.uk"},mh=()=>i.jsx("footer",{className:"w-full py-12 border-t border-neutral-900 bg-neutral-950 mt-auto",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"text-neutral-300 text-sm",children:[" ",new Date().getFullYear()," Lucas Zeiger. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("a",{href:_t.github,target:"_blank",rel:"noreferrer",className:"text-neutral-300 hover:text-white transition-colors",children:i.jsx(ls,{size:20})}),i.jsx("a",{href:_t.linkedin,target:"_blank",rel:"noreferrer",className:"text-neutral-300 hover:text-white transition-colors",children:i.jsx(uo,{size:20})}),i.jsx("a",{href:_t.twitter,target:"_blank",rel:"noreferrer",className:"text-neutral-300 hover:text-white transition-colors",children:i.jsx(fo,{size:20})}),i.jsx("a",{href:"mailto:contact@lucaszeiger.com",className:"text-neutral-300 hover:text-white transition-colors",children:i.jsx(co,{size:20})})]})]})}),hh=({children:r})=>i.jsxs("div",{className:"flex flex-col min-h-screen bg-neutral-950 text-neutral-100 font-sans selection:bg-white/20 selection:text-white",children:[i.jsx(ph,{}),i.jsx("main",{className:"flex-grow pt-10 md:pt-14",children:r}),i.jsx(mh,{})]}),gh={label:i.jsx("a",{href:"https://linkedin.com/in/lucas-zeiger/",target:"_blank",rel:"noreferrer",className:"hover:text-emerald-400 transition-colors",children:"Reach out!"})},xh=i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{children:"Hi, I'm Lucas. I have a background in molecular medicine and disease modelling."}),i.jsx("p",{children:"My current work bridges the gap between molecular and computational biology, aiming to understand fundamental and tumour biology through the lense of spatial -omics methods."}),i.jsx("p",{children:"Based at the CRUK Scotland Institute in Glasgow, Scotland, I work with an excellent multidisciplinary team in the computational biology group, led by Prof. Crispin Miller."}),i.jsxs("p",{children:["Please reach out if any of my research interests you,",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"mailto:l.zeiger@crukscotlandinstitute.ac.uk",children:"send me an email"}),", or connect on",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://linkedin.com/in/lucas-zeiger/",target:"_blank",rel:"noreferrer",children:"LinkedIn"}),"!"]})]}),yh="/assets/spatial_mapk-DUhxDwI6.png",vh="/assets/Slc7a5-CN9GV8Hf.png",yo=[{id:"p1",title:"Spatially resolving MAPK dependent CRC plasticiy",category:"Research",description:"Spatial transcriptomics analysis of colorectal cancer and metastases in genetically engineered mouse models.",longDescription:i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"mb-4",children:"In collaboration with the colorectal cancer and Wnt signalling group at the CRUK SI, we could demonstrate how colorectal cancer cells are able to shift their phenotype in the context of hyperactive MAPK signalling."}),i.jsx("p",{children:"We used a custom 100 gene panel to spatially resolve cellular plasticity in primary tumors and liver metastases. The publication is available at Nature.com - DOI to follow. The datasets are available at Zenodo - DOI to follow."})]}),openQuestions:["How do we exploit the fact that we can switch cell phenotypes using MAPK inhibitors?","We observed interesting signalling gradients in metastases - how can we better describe these?","Is there correlation between histological phenotype and gene expression programs that are altered as cells shift phenotype?"],imageUrl:yh,tags:["Spatial Transcriptomics","Xenium","Colorectal cancer","Mouse models","Cell Plasticity","Signalling"],date:"Published 2025",link:"TBC",github:"TBC"},{id:"p2",title:"SLC7A5: An amino acid transporter fuelling colorectal cancer growth",category:"Research",description:"Development of PI3-Kinase hyperactive mouse models and identification of SLC7A5 as a therapeutic target.",longDescription:i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"mb-4",children:"We developed a suite of genetically engineered mouse models of colorectal cancer, harbouring mutations in the PI3-Kinase signalling pathway in combination with other common CRC driver mutations, including APC and KRAS. We found the amino acid transporter SLC7A5 to be upregulated in PI3K mutant tumours, and could show that its genetic deletion leads to a significant extension of survival in these models. Cells display expression of a set of stress response genes and altered amino acid metabolism upon SLC7A5 deletion and in Kras mutant models, SLC7A5 deletion enhances efficacy of MAPK inhibition to extend survival."}),i.jsx("p",{children:"The paper is currently under review at Nature Communications and the preprint can be read here: https://www.researchsquare.com/article/rs-5002395/v1."})]}),openQuestions:["What is the full scope of cellular adaptiations upon Slc7a5 deletion, are there any synthetic lethalities we could exploit?","What setting will Slc7a5 depletion work best in the clinic?","Viewing tumours as ecosystems, what is the impact of Slc7a5 deletion on the local availability of nutrients?"],imageUrl:vh,tags:["Disease modelling","Genetically engineered mouse models","PI3K signalling","Colorectal Cancer","Metabolism","Slc7a5"],date:"2017 - ongoing",link:"https://www.researchsquare.com/article/rs-5002395/v1",github:"NA"}],Kd=[{id:"merry-christmas-2025",title:"Merry Christmas and a happy new year!",date:"2025-12-24",displayDate:"24 Dec 2025",summary:"Snowy greetings from Austria.",body:i.jsx(i.Fragment,{children:i.jsx("p",{children:"Wishing everyone a restful holiday season and a happy new year!"})})},{id:"mapk-plasticity-nature-2025",title:"Early access publication: MAPK-driven epithelial cell plasticity",date:"2025-11-24",displayDate:"24 Nov 2025",summary:"Accelerated early access publication in Nature.",body:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:'Our manuscript, "MAPK-driven epithelial cell plasticity drives colorectal cancer therapeutic resistance," is now available as an accelerated early access publication in Nature.'}),i.jsxs("p",{className:"mt-4",children:["Read the paper at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://www.nature.com/articles/s41586-025-09916-w",target:"_blank",rel:"noreferrer",children:"nature.com"}),", and view the analysis workflow at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://github.com/LucasZeiger/MAPK-Plasticity",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]})},{id:"muspan-workshop-2025",title:"MuSpAn advanced workshop in Glasgow",date:"2025-10-27",displayDate:"27-30 Oct 2025",summary:"Attended MuSpAn at CRUK SI led by Josh Moore and Josh Bull.",body:i.jsx(i.Fragment,{children:i.jsx("p",{children:"Attended the MuSpAn advanced workshop at CRUK Scotland Institute in Glasgow, led by Josh Moore and Josh Bull. Thanks for the great workshop and community."})})},{id:"spatial-biology-conference-2025",title:"Spatial Biology, the melting pot conference",date:"2025-10-14",displayDate:"14-17 Oct 2025",summary:"Presented Poster at the Spatial Biology Society conference at EMBL Heidelberg.",body:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:'Presented a poster at the "Spatial Biology, the melting pot" conference at the EMBL Advanced Training Centre in Heidelberg.'}),i.jsxs("p",{className:"mt-4",children:["Details at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://spatialbiologysociety.eu/conference-2025",target:"_blank",rel:"noreferrer",children:"spatialbiologysociety.eu"}),"."]})]})},{id:"febs-openbio-poster-prize-2025",title:"FEBS-IUBMB-Enable conference and OpenBio poster prize",date:"2025-09-10",displayDate:"10-12 Sep 2025",summary:"Attended FEBS-IUBMB-Enable and won the FEBS OpenBio poster prize.",body:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Attended the FEBS-IUBMB-Enable conference in Glasgow and won the FEBS OpenBio poster prize."}),i.jsxs("p",{className:"mt-4",children:["Conference info at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://febs-iubmb-enableconference.org/glasgow-2025-2/",target:"_blank",rel:"noreferrer",children:"febs-iubmb-enableconference.org"}),", and the prize announcement at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://febs.onlinelibrary.wiley.com/hub/journal/22115463/febs-congress",target:"_blank",rel:"noreferrer",children:"febs.onlinelibrary.wiley.com"}),"."]})]})},{id:"beatson-cancer-conference-2025",title:"Beatson International Cancer Conference: Cancer Models",date:"2025-05-27",displayDate:"27-29 May 2025",summary:"Attended the Beatson International Cancer Conference in Glasgow.",body:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Attended the Beatson International Cancer Conference - Cancer Models: From data to discovery, at the Glasgow Science Centre."}),i.jsxs("p",{className:"mt-4",children:["Details at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://www.beatsonconference.org/",target:"_blank",rel:"noreferrer",children:"beatsonconference.org"}),". Already looking forward to the next one!"]})]})},{id:"crispin-miller-group-2025",title:"Joined Prof. Crispin Miller to work in the Computational biology group at CRUK Scotland Institute",date:"2025-05-01",displayDate:"1 May 2025",summary:"Started a 3+3 year contract in the computational biology group.",body:i.jsx(i.Fragment,{children:i.jsx("p",{children:"Started a position in Prof. Crispin Miller's group as a postdoctoral research scientist at the CRUK Scotland Institute on a 3+3 year contract."})})},{id:"slc7a5-manuscript-2024",title:"First-author manuscript available: SLC7A5 drives PI3K-mutant intestinal cancer",date:"2024-09-26",displayDate:"26 Sep 2024",summary:"Research Square preprint available; revisions are underway.",body:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:'My latest first-author manuscript preprint, "The amino acid transporter SLC7A5 drives progression of PI3K-mutant intestinal cancer models and enhances response to MAPK-targeted therapy," is available on Research Square.'}),i.jsxs("p",{className:"mt-4",children:["Read it at",i.jsx("a",{className:"text-emerald-400 hover:text-emerald-300 ml-1",href:"https://www.researchsquare.com/article/rs-5002395/v1",target:"_blank",rel:"noreferrer",children:"researchsquare.com"}),". Revisions addressing five reviewers' comments are underway."]})]})}],qd=[{id:"e1",role:"Postdoctoral Research Scientist, Computational Biology (with Prof. Crispin Miller)",institution:"CRUK Scotland Institute",period:"11/2024 - Present",location:"Glasgow, UK",description:"Computational biology research with a focus on spatial transcriptomics."},{id:"e2",role:"Postdoctoral Research Scientist, Integrative Modelling (with Xiao Fu, Phd)",institution:"CRUK Scotland Institute",period:"03/2024 - 10/2024",location:"Glasgow, UK",description:"Computational biology research with a focus on spatial transcriptomics."},{id:"e3",role:"Postdoctoral Research Scientist, Colorectal Cancer and Wnt Signalling (with Prof. Owen Sansom)",institution:"CRUK Scotland Institute",period:"07/2022 - 03/2024",location:"Glasgow, UK",description:"Investigating oncogenic PI3K signalling using genetically engineered mouse models of colon cancer."},{id:"e4",role:"PhD Studentship, Colorectal Cancer and Wnt Signalling (with Prof. Owen Sansom)",institution:"CRUK Scotland Institute",period:"10/2017 - 07/2022",location:"Glasgow, UK",description:"Investigating oncogenic PI3K signalling using genetically engineered mouse models of colon cancer."},{id:"e5",role:"Master's Thesis, Department of Infectiology, Immunology, Pneumology (with Prof. Ivan Tancevski)",institution:"University clinic department for internal medicine II, Medical University of Innsbruck",period:"02/2017 - 09/2017",location:"Innsbruck, Austria",description:"CRISPR-Cas9 mediated KO of the lipid transporter in J774a.1 macrophages"},{id:"e5",role:"Bachelor's Thesis, Department of  Physiology & Medical Physics (with Prof. Bernhard Flucher)",institution:"Medical University of Innsbruck",period:"03/2015 - 09/2015",location:"Innsbruck, Austria",description:"Expression of Stac3 in dysgenic myotubes"}],Qd=[{id:"ed1",degree:"PhD in Cancer Science",institution:"University of Glasgow",year:"2017 - 2022"},{id:"ed2",degree:"Master's degree in Molecular Medicine",institution:"Medical University of Innsbruck",year:"2015 - 2017"},{id:"ed3",degree:"Bachelor's degree in Molecular Medicine",institution:"Medical University of Innsbruck",year:"2012 - 2015"}],Jd=[{id:"pub0",title:"MAPK-driven epithelial cell plasticity drives colorectal cancer therapeutic resistance",journal:"Nature",year:2025,authors:"White, Mark; Mills, Megan L.; Millett, Laura M.; Gilroy, Kathryn; Hong, Yourae; Zeiger, Lucas B.; Simpson, Rosalin J.; Corry, Shania M.; Ligeza, Amelia; Lannagan, Tamsin R. M.; Susanti, Susanti; Ridgway, Rachel A.; Yazgili, Ayse S.; Grzesiak, Lucile; Amirkhah, Raheleh; Ford, Catriona A.; Vlahov, Nikola; Tovell, Hannah; Officer-Jones, Leah; Ficken, Catherine; Pennie, Rachel; Najumudeen, Arafath K.; Raven, Alexander; Nasreddin, Nadia; Chauhan, Ekansh; Papanastasiou, Andrew S.; Nixon, Colin; Morrison, Vivienne; Jackstadt, Rene; Graham, Janet S.; Miller, Crispin J.; Ross, Sarah J.; Barry, Simon T.; Pavet, Valeria; Wilson, Richard H.; Le Quesne, John; Dunne, Philip D.; Tejpar, Sabine; Leedham, Simon; Campbell, Andrew D.; Sansom, Owen J."},{id:"pub1",title:"The amino acid transporter SLC7A5 drives progression of PI3K-mutant intestinal cancer models and enhances response to MAPK-targeted therapy",journal:"Research Square",year:2024,authors:"Zeiger, Lucas B.; Ford, Catriona; Millett, Laura; Meniel, Valerie; Najumudeen, Arafath; Pennel, Kathryn; Fisher, Natalie; Gilroy, Kathryn; Sphyris, Nathalie; Uribe, Alejandro Huerta; Sumpton, David; Hatthakarnkul, Phimmada; McLaughlin, Sophie; Jones, Phil; Vanhaesebroeck, Bart; Ridgway, Rachel; Nixon, Colin; Pearson, Helen; Phesse, Toby; Barry, Simon; Edwards, Joanne; Dunne, Philip; Campbell, Andrew; Sansom, Owen"},{id:"pub2",title:"Metabolic profiling stratifies colorectal cancer and reveals adenosylhomocysteinase as a therapeutic target",journal:"Nature Metabolism",year:2023,authors:"Vande Voorde, Johan; Steven, Rory T.; Najumudeen, Arafath K.; Ford, Catriona A.; Dexter, Alex; Gonzalez-Fernandez, Ariadna; Nikula, Chelsea J.; Xiang, Yuchen; Ford, Lauren; Maneta Stavrakaki, Stefania; Gilroy, Kathryn; Zeiger, Lucas B.; Pennel, Kathryn; Hatthakarnkul, Phimmada; Elia, Efstathios A.; Nasif, Ammar; Murta, Teresa; Manoli, Eftychios; Mason, Sam; Gillespie, Michael; Lannagan, Tamsin R. M.; Vlahov, Nikola; Ridgway, Rachel A.; Nixon, Colin; Raven, Alexander; Mills, Megan; Athineos, Dimitris; Kanellos, Georgios; Nourse, Craig; Gay, David M.; Hughes, Mark; Burton, Amy; Yan, Bin; Sellers, Katherine; Wu, Vincen; De Ridder, Kobe; Shokry, Engy; Huerta Uribe, Alejandro; Clark, William; Clark, Graeme; Kirschner, Kristina; Thienpont, Bernard; Li, Vivian S. W.; Maddocks, Oliver D. K.; Barry, Simon T.; Goodwin, Richard J. A.; Kinross, James; Edwards, Joanne; Yuneva, Mariia O.; Sumpton, David; Takats, Zoltan; Campbell, Andrew D.; Bunch, Josephine; Sansom, Owen J."},{id:"pub3",title:"A RAC-GEF network critical for early intestinal tumourigenesis",journal:"Nature Communications",year:2021,authors:"Pickering, K. A.; Gilroy, K.; Cassidy, J. W.; Fey, S. K.; Najumudeen, A. K.; Zeiger, L. B.; Vincent, D. F.; Gay, D. M.; Johansson, J.; Fordham, R. P.; Miller, B.; Clark, W.; Hedley, A.; Unal, E. B.; Kiel, C.; McGhee, E.; Machesky, L. M.; Nixon, C.; Johnsson, A. E.; Bain, M.; Strathdee, D.; van Hoof, S. R.; Medema, J. P.; Anderson, K. I.; Brachmann, S. M.; Stucke, V. M.; Malliri, A.; Drysdale, M.; Turner, M.; Serrano, L.; Myant, K.; Campbell, A. D.; Sansom, O. J."},{id:"pub4",title:"Implications of Peak Selection in the Interpretation of Unsupervised Mass Spectrometry Imaging Data Analyses",journal:"Analytical Chemistry",year:2021,authors:"Murta, Teresa; Steven, Rory T.; Nikula, Chelsea J.; Thomas, Spencer A.; Zeiger, Lucas B.; Dexter, Alex; Elia, Efstathios A.; Yan, Bin; Campbell, Andrew D.; Goodwin, Richard J. A.; Takats, Zoltan; Sansom, Owen J.; Bunch, Josephine"},{id:"pub5",title:"The haemochromatosis gene Hfe and Kupffer cells control LDL cholesterol homeostasis and impact on atherosclerosis development.",journal:"European Heart Journal",year:2020,authors:"Demetz, E.; Tymoszuk, P.; Hilbe, R.; Volani, C.; Haschka, D.; Heim, C.; Auer, K.; Lener, D.; Zeiger, L. B.; Pfeifhofer-Obermair, C.; Boehm, A.; Obermair, G. J.; Ablinger, C.; Weiss, G."},{id:"pub6",title:"Wnt ligands influence tumour initiation by controlling the number of intestinal stem cells.",journal:"Nature Communications",year:2018,authors:"Huels, D. J.; Bruens, L.; Hodder, M. C.; Cammareri, P.; Campbell, A. D.; Ridgway, R. A.; Gay, D. M.; Solar-Abboud, M.; Faller, W. J.; Nixon, C.; Zeiger, L. B.; McLaughlin, M. E.; Sansom, O. J."}],wh="0000-0002-8712-3112",kh=[{id:"197791245",title:"MAPK-driven epithelial cell plasticity drives colorectal cancer therapeutic resistance",journal:"Nature",year:2025,authors:"Mark White; Megan L. Mills; Laura M. Millett; Kathryn Gilroy; Yourae Hong; Lucas B. Zeiger; Rosalin J. Simpson; Shania M. Corry; Amelia Ligeza; Tamsin R. M. Lannagan; Susanti Susanti; Rachel A. Ridgway; Ayse S. Yazgili; Lucile Grzesiak; Raheleh Amirkhah; Catriona A. Ford; Nikola Vlahov; Hannah Tovell; Leah Officer-Jones; Catherine Ficken; Rachel Pennie; Arafath K. Najumudeen; Alexander Raven; Nadia Nasreddin; Ekansh Chauhan; Andrew S. Papanastasiou; Colin Nixon; Vivienne Morrison; Rene Jackstadt; Janet S. Graham; Crispin J. Miller; Sarah J. Ross; Simon T. Barry; Valeria Pavet; Richard H. Wilson; John Le Quesne; Philip D. Dunne; Sabine Tejpar; Simon Leedham; Andrew D. Campbell; Owen J. Sansom",doi:"10.1038/s41586-025-09916-w",url:"https://doi.org/10.1038/s41586-025-09916-w",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"197761710",title:"The amino acid transporter SLC7A5 drives progression of PI3K-mutant intestinal cancer models and enhances response to MAPK-targeted therapy",journal:"",year:2024,authors:"Lucas Zeiger; Catriona Ford; Laura Millett; Valerie Meniel; Arafath Najumudeen; Kathryn Pennel; Natalie Fisher; Kathryn Gilroy; Nathalie Sphyris; Alejandro Huerta Uribe; David Sumpton; Phimmada Hatthakarnkul; Sophie McLaughlin; Phil Jones; Bart Vanhaesebroeck; Rachel Ridgway; Colin Nixon; Helen Pearson; Toby Phesse; Simon Barry; Joanne Edwards; Philip Dunne; Andrew Campbell; Owen Sansom",doi:"10.21203/rs.3.rs-5002395/v1",url:"http://dx.doi.org/10.21203/rs.3.rs-5002395/v1",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"preprint"},{id:"147191305",title:"Metabolic profiling stratifies colorectal cancer and reveals adenosylhomocysteinase as a therapeutic target",journal:"Nature Metabolism",year:2023,authors:"Johan Vande Voorde; Rory T. Steven; Arafath K. Najumudeen; Catriona A. Ford; Alex Dexter; Ariadna Gonzalez-Fernandez; Chelsea J. Nikula; Yuchen Xiang; Lauren Ford; Stefania Maneta Stavrakaki; Kathryn Gilroy; Lucas B. Zeiger; Kathryn Pennel; Phimmada Hatthakarnkul; Efstathios A. Elia; Ammar Nasif; Teresa Murta; Eftychios Manoli; Sam Mason; Michael Gillespie; Tamsin R. M. Lannagan; Nikola Vlahov; Rachel A. Ridgway; Colin Nixon; Alexander Raven; Megan Mills; Dimitris Athineos; Georgios Kanellos; Craig Nourse; David M. Gay; Mark Hughes; Amy Burton; Bin Yan; Katherine Sellers; Vincen Wu; Kobe De Ridder; Engy Shokry; Alejandro Huerta Uribe; William Clark; Graeme Clark; Kristina Kirschner; Bernard Thienpont; Vivian S. W. Li; Oliver D. K. Maddocks; Simon T. Barry; Richard J. A. Goodwin; James Kinross; Joanne Edwards; Mariia O. Yuneva; David Sumpton; Zoltan Takats",doi:"10.1038/s42255-023-00857-0",url:"http://dx.doi.org/10.1038/s42255-023-00857-0",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"86188577",title:"A RAC-GEF network critical for early intestinal tumourigenesis",journal:"Nature Communications",year:2021,authors:"K. A. Pickering; K. Gilroy; J. W. Cassidy; S. K. Fey; A. K. Najumudeen; L. B. Zeiger; D. F. Vincent; D. M. Gay; J. Johansson; R. P. Fordham; B. Miller; W. Clark; A. Hedley; E. B. Unal; C. Kiel; E. McGhee; L. M. Machesky; C. Nixon; A. E. Johnsson; M. Bain; D. Strathdee; S. R. van Hoof; J. P. Medema; K. I. Anderson; S. M. Brachmann; V. M. Stucke; A. Malliri; M. Drysdale; M. Turner; L. Serrano; K. Myant; A. D. Campbell; O. J. Sansom",doi:"10.1038/s41467-020-20255-4",url:"https://doi.org/10.1038/s41467-020-20255-4",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"200901153",title:"Implications of Peak Selection in the Interpretation of Unsupervised Mass Spectrometry Imaging Data Analyses",journal:"Analytical Chemistry",year:2021,authors:"Teresa Murta; Rory T. Steven; Chelsea J. Nikula; Spencer A. Thomas; Lucas B. Zeiger; Alex Dexter; Efstathios A. Elia; Bin Yan; Andrew D. Campbell; Richard J. A. Goodwin; Zoltan Takts; Owen J. Sansom; Josephine Bunch",doi:"10.1021/acs.analchem.0c04179",url:"https://doi.org/10.1021/acs.analchem.0c04179",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"71821969",title:"The haemochromatosis gene Hfe and Kupffer cells control LDL cholesterol homeostasis and impact on atherosclerosis development",journal:"European Heart Journal",year:2020,authors:"Egon Demetz; Piotr Tymoszuk; Richard Hilbe; Chiara Volani; David Haschka; Christiane Heim; Kristina Auer; Daniela Lener; Lucas B Zeiger; Christa Pfeifhofer-Obermair; Anna Boehm; Gerald J Obermair; Cornelia Ablinger; Stefan Coassin; Claudia Lamina; Juliane Kager; Verena Petzer; Malte Asshoff; Andrea Schroll; Manfred Nairz; Stefanie Dichtl; Markus Seifert; Laura von Raffay; Christine Fischer; Marina Barros-Pinkelnig; Natascha Brigo; Lara Valente de Souza; Sieghart Sopper; Jakob Hirsch; Michael Graber; Can Gollmann-Tepekyl; Johannes Holfeld; Julia Halper; Sophie Macheiner; Johanna Gostner; Georg F Vogel; Raimund Pechlaner; Patrizia Moser; Medea Imboden; Pedro Marques-Vidal; Nicole M Probst-Hensch; Heike Meiselbach; Konstantin Strauch; Annette Peters; Bernhard Paulweber; Johann Willeit; Stefan Kiechl; Florian Kronenberg; Igor Theurl; Ivan Tancevski; Guenter Weiss",doi:"10.1093/eurheartj/ehaa140",url:"https://doi.org/10.1093/eurheartj/ehaa140",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"71489442",title:"The haemochromatosis gene Hfe and Kupffer cells control LDL cholesterol homeostasis and impact on atherosclerosis development.",journal:"European heart journal",year:2020,authors:"Demetz E; Tymoszuk P; Hilbe R; Volani C; Haschka D; Heim C; Auer K; Lener D; Zeiger LB; Pfeifhofer-Obermair C; Boehm A; Obermair GJ; Ablinger C; Weiss G",doi:"10.1093/eurheartj/ehaa140",url:"http://europepmc.org/abstract/med/32227235",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"},{id:"71489443",title:"Wnt ligands influence tumour initiation by controlling the number of intestinal stem cells.",journal:"Nature communications",year:2018,authors:"Huels DJ; Bruens L; Hodder MC; Cammareri P; Campbell AD; Ridgway RA; Gay DM; Solar-Abboud M; Faller WJ; Nixon C; Zeiger LB; McLaughlin ME; Sansom OJ",doi:"10.1038/s41467-018-03426-2",url:"http://europepmc.org/abstract/med/29556067",orcidUrl:"https://orcid.org/0000-0002-8712-3112",type:"journal-article"}],jr={orcid:wh,publications:kh},Yd=({project:r})=>i.jsxs(gn,{to:`/research/${r.id}`,className:"group flex flex-col bg-neutral-900 border border-neutral-800 rounded-xl overflow-hidden hover:border-neutral-600 transition-all duration-300 h-full shadow-sm hover:shadow-lg hover:shadow-neutral-900/50",children:[i.jsxs("div",{className:"h-48 overflow-hidden relative flex-shrink-0",children:[i.jsx("div",{className:"absolute inset-0 bg-neutral-950/20 group-hover:bg-transparent transition-colors z-10"}),i.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover transform md:group-hover:scale-105 transition-transform duration-700 grayscale-0 md:grayscale md:group-hover:grayscale-0"}),i.jsx("div",{className:"absolute top-4 right-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i.jsx("div",{className:"bg-white text-black p-1.5 rounded-full",children:i.jsx(lh,{size:16})})})]}),i.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[i.jsx("div",{className:"flex justify-between items-start mb-3",children:i.jsx("span",{className:"text-xs font-mono text-neutral-300 bg-neutral-800 px-2 py-1 rounded border border-neutral-700",children:r.category})}),i.jsx("h3",{className:"text-xl font-bold text-neutral-100 mb-2 group-hover:text-white",children:r.title}),i.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed mb-6 line-clamp-3 flex-grow",children:r.description}),i.jsxs("div",{className:"pt-4 border-t border-neutral-800 mt-auto flex justify-between items-center",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.slice(0,3).map(o=>i.jsxs("span",{className:"text-xs text-neutral-500",children:["#",o]},o))}),i.jsxs("span",{className:"text-xs font-medium text-neutral-200 flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Read More ",i.jsx(Wd,{size:14})]})]})]})]}),Zr=({title:r,subtitle:o,date:l,children:c,tags:d,className:f=""})=>i.jsxs("div",{className:`group p-6 rounded-xl bg-neutral-900/40 border border-neutral-800 hover:border-neutral-700 hover:bg-neutral-900/60 transition-all duration-300 ${f}`,children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral-100 group-hover:text-white transition-colors",children:r}),o&&i.jsx("p",{className:"text-neutral-300 font-medium text-sm mt-1",children:o})]}),l&&i.jsx("span",{className:"text-xs font-mono text-neutral-300 bg-neutral-900 px-2 py-1 rounded border border-neutral-800 whitespace-nowrap",children:l})]}),i.jsx("div",{className:"text-neutral-300 text-sm leading-relaxed mt-3",children:c}),d&&d.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-neutral-800/50",children:d.map(p=>i.jsx("span",{className:"text-xs text-neutral-300 bg-neutral-950 px-2 py-1 rounded border border-neutral-800",children:p},p))})]}),Nh="/assets/profile-B2BGmAUo.jpg",bh=()=>{const r=w.useRef(null),o=()=>{r.current&&r.current.scrollBy({left:-320,behavior:"smooth"})},l=()=>{r.current&&r.current.scrollBy({left:320,behavior:"smooth"})},c=jr.publications||[],f=[...c.length>0?c:Jd].sort((x,N)=>N.year-x.year),p=`https://orcid.org/${jr.orcid}`,m=[...Kd].sort((x,N)=>{const b=new Date(x.date).getTime(),P=new Date(N.date).getTime();return Number.isNaN(b)&&console.warn(`Invalid news date for "${x.title}": ${x.date}`),Number.isNaN(P)&&console.warn(`Invalid news date for "${N.title}": ${N.date}`),Number.isNaN(b)&&Number.isNaN(P)?0:Number.isNaN(b)?1:Number.isNaN(P)?-1:P-b}),g=x=>x.doi?{href:`https://doi.org/${x.doi}`,label:"DOI"}:x.url?{href:x.url,label:"Link"}:x.orcidUrl?{href:x.orcidUrl,label:"ORCID"}:p?{href:p,label:"ORCID"}:null,y=x=>{x.preventDefault(),alert("In a real deployment, this would download 'cv.pdf'. Please ensure you add a file named 'cv.pdf' to your public directory.")};return i.jsxs("div",{className:"animate-in fade-in duration-700",children:[i.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-12 md:py-20 grid md:grid-cols-2 gap-12 items-center min-h-[70vh]",children:[i.jsxs("div",{className:"space-y-6 md:space-y-8 order-2 md:order-1",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-neutral-900 border border-neutral-800 text-xs font-medium text-emerald-500",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),gh.label]}),i.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-white leading-tight",children:["Mapping the Architecture of ",i.jsx("span",{className:"text-neutral-500",children:"Health and Disease."})]}),i.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed max-w-lg",children:"Lucas Zeiger, PhD | CRUK Scotland Institute | Glasgow"}),i.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[i.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-black rounded-lg font-medium hover:bg-neutral-200 transition-colors",onClick:x=>{x.preventDefault(),document.getElementById("research")?.scrollIntoView({behavior:"smooth"})},children:["View Research ",i.jsx(rs,{size:18})]}),i.jsx("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-neutral-900 border border-neutral-800 text-white rounded-lg font-medium hover:bg-neutral-800 transition-colors",onClick:x=>{x.preventDefault(),document.getElementById("cv")?.scrollIntoView({behavior:"smooth"})},children:"Curriculum Vitae"})]})]}),i.jsxs("div",{className:"relative flex flex-col items-center md:items-end mt-8 md:mt-0 order-1 md:order-2",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-neutral-800/20 blur-2xl rounded-full transform scale-90"}),i.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80 rounded-2xl overflow-hidden border border-neutral-800 shadow-2xl bg-neutral-900 transition-all duration-700",children:[i.jsx("img",{src:Nh,alt:"Lucas Zeiger",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-neutral-950/60 via-transparent to-transparent"})]}),i.jsx("div",{className:"absolute -bottom-6 -right-6 md:bottom-6 md:-left-12 md:right-auto bg-neutral-900/90 backdrop-blur border border-neutral-800 px-6 py-3 rounded-xl shadow-xl z-20",children:i.jsx("p",{className:"text-white font-bold text-lg whitespace-nowrap",children:"Lucas Zeiger, PhD"})})]}),i.jsxs("div",{className:"mt-10 flex gap-3",children:[i.jsx("a",{href:_t.github,target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(ls,{size:18})}),i.jsx("a",{href:_t.linkedin,target:"_blank",rel:"noreferrer","aria-label":"LinkedIn",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(uo,{size:18})}),i.jsx("a",{href:_t.twitter,target:"_blank",rel:"noreferrer","aria-label":"Twitter/X",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(fo,{size:18})}),i.jsx("a",{href:_t.scholar,target:"_blank",rel:"noreferrer","aria-label":"Google Scholar",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(od,{size:18})}),i.jsx("a",{href:_t.researchgate,target:"_blank",rel:"noreferrer","aria-label":"ResearchGate",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(ud,{size:18})}),i.jsx("a",{href:`mailto:${_t.email}`,"aria-label":"Email",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(co,{size:18})})]})]})]}),i.jsx("section",{className:"bg-neutral-900/20 py-16 border-y border-neutral-900",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"About Me"}),i.jsx("div",{className:"text-neutral-300 leading-8 text-lg",children:xh})]})}),i.jsx("section",{id:"research",className:"py-24 border-b border-neutral-900",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[i.jsxs("div",{className:"flex justify-between items-end mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Research Highlights"}),i.jsx("p",{className:"text-neutral-300",children:"Swipe to explore recent projects."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:o,className:"p-2 rounded-full border border-neutral-800 hover:bg-neutral-800 text-neutral-300 hover:text-white transition-colors",children:i.jsx(uh,{size:20})}),i.jsx("button",{onClick:l,className:"p-2 rounded-full border border-neutral-800 hover:bg-neutral-800 text-neutral-300 hover:text-white transition-colors",children:i.jsx(Wd,{size:20})})]})]}),i.jsxs("div",{ref:r,className:"flex gap-6 overflow-x-auto pb-8 -mx-6 px-6 no-scrollbar snap-x snap-mandatory",children:[yo.map(x=>i.jsx("div",{className:"min-w-[85vw] md:min-w-[350px] lg:min-w-[400px] snap-center",children:i.jsx(Yd,{project:x})},x.id)),i.jsx("div",{className:"min-w-[200px] snap-center flex items-center justify-center",children:i.jsxs(gn,{to:"/research",className:"group flex flex-col items-center gap-3 text-neutral-300 hover:text-white transition-colors p-8",children:[i.jsx("div",{className:"p-4 rounded-full border border-neutral-800 bg-neutral-900 group-hover:border-neutral-600 transition-colors",children:i.jsx(rs,{size:24})}),i.jsx("span",{className:"font-medium",children:"View All Projects"})]})})]})]})}),i.jsx("section",{id:"news",className:"py-20 border-b border-neutral-900",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[i.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-6 mb-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"News"}),i.jsx("p",{className:"text-neutral-300",children:"Short updates and recent milestones."})]}),i.jsxs(gn,{to:"/news",className:"inline-flex items-center gap-2 text-sm text-neutral-300 hover:text-white transition-colors",children:["View all news ",i.jsx(rs,{size:16})]})]}),i.jsx("ul",{className:"space-y-2",children:m.map(x=>i.jsxs("li",{className:"text-sm text-neutral-300",children:[i.jsxs("span",{className:"text-neutral-500",children:[x.displayDate," - "]}),i.jsx(gn,{to:`/news?item=${x.id}`,className:"text-neutral-200 hover:text-white transition-colors",children:x.title})]},x.id))})]})}),i.jsxs("section",{id:"cv",className:"max-w-4xl mx-auto px-6 py-24",children:[i.jsxs("div",{className:"flex justify-between items-end mb-12",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Curriculum Vitae"}),i.jsx("p",{className:"text-neutral-300",children:"Academic and professional background."})]}),i.jsxs("button",{onClick:y,className:"hidden",children:[i.jsx($d,{size:16}),i.jsx("span",{children:"PDF"})]})]}),i.jsxs("div",{className:"space-y-16",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-[1px] bg-neutral-700"}),"Experience"]}),i.jsx("div",{className:"space-y-4",children:qd.map(x=>i.jsx(Zr,{title:x.role,subtitle:x.institution,date:x.period,children:x.description},x.id))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-[1px] bg-neutral-700"}),"Education"]}),i.jsx("div",{className:"space-y-4",children:Qd.map(x=>i.jsx(Zr,{title:x.degree,subtitle:x.institution,date:x.year,children:x.details},x.id))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-[1px] bg-neutral-700"}),"Selected Publications"]}),i.jsx("div",{className:"space-y-4",children:f.map(x=>{const N=g(x),b=x.doi?`https://doi.org/${x.doi}`:void 0,P=x.url?"Publisher":"Link";return i.jsxs(Zr,{title:N?i.jsx("a",{href:N.href,target:"_blank",rel:"noreferrer",className:"text-neutral-100 hover:text-white transition-colors underline-offset-4 hover:underline",children:x.title}):x.title,subtitle:x.journal||void 0,date:x.year?x.year.toString():void 0,children:[i.jsx("p",{className:"italic text-neutral-300",children:x.authors}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs uppercase tracking-wider text-neutral-400",children:[b&&i.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:"DOI"}),x.url&&i.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:P}),p&&i.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:"ORCID"})]})]},x.id)})})]}),i.jsx("div",{className:"flex justify-center pt-8",children:i.jsxs(gn,{to:"/cv",className:"inline-flex items-center gap-2 px-6 py-3 border border-neutral-800 rounded-lg text-neutral-300 hover:text-white hover:bg-neutral-900 transition-colors",children:["View Full CV ",i.jsx(rs,{size:16})]})}),i.jsxs("div",{className:"flex justify-center gap-3 pt-10",children:[i.jsx("a",{href:_t.github,target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(ls,{size:18})}),i.jsx("a",{href:_t.linkedin,target:"_blank",rel:"noreferrer","aria-label":"LinkedIn",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(uo,{size:18})}),i.jsx("a",{href:_t.twitter,target:"_blank",rel:"noreferrer","aria-label":"Twitter/X",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(fo,{size:18})}),i.jsx("a",{href:_t.scholar,target:"_blank",rel:"noreferrer","aria-label":"Google Scholar",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(od,{size:18})}),i.jsx("a",{href:_t.researchgate,target:"_blank",rel:"noreferrer","aria-label":"ResearchGate",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(ud,{size:18})}),i.jsx("a",{href:`mailto:${_t.email}`,"aria-label":"Email",className:"p-2 rounded-full border border-neutral-800 bg-neutral-900 text-neutral-300 hover:text-white hover:border-neutral-600 transition-colors",children:i.jsx(co,{size:18})})]})]})]})]})},jh=()=>{const r=jr.publications||[],l=[...r.length>0?r:Jd].sort((p,m)=>m.year-p.year),c=`https://orcid.org/${jr.orcid}`,d=p=>p.doi?{href:`https://doi.org/${p.doi}`,label:"DOI"}:p.url?{href:p.url,label:"Link"}:p.orcidUrl?{href:p.orcidUrl,label:"ORCID"}:c?{href:c,label:"ORCID"}:null,f=p=>{p.preventDefault(),alert("In a real deployment, this would download 'cv.pdf'. Please ensure you add a file named 'cv.pdf' to your public directory.")};return i.jsxs("div",{className:"max-w-4xl mx-auto px-6 pb-20 animate-in slide-in-from-bottom-4 duration-700 fade-in",children:[i.jsxs("div",{className:"flex justify-between items-end mb-12 border-b border-neutral-800 pb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Curriculum Vitae"}),i.jsx("p",{className:"text-neutral-300",children:"Academic and professional background."})]}),i.jsxs("a",{href:"/cv.pdf",onClick:f,className:"hidden",children:[i.jsx($d,{size:16}),i.jsx("span",{children:"Download PDF"})]})]}),i.jsxs("div",{className:"space-y-16",children:[i.jsxs("section",{children:[i.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-8 h-[1px] bg-neutral-700"}),"Research experience"]}),i.jsx("div",{className:"space-y-4",children:qd.map(p=>i.jsxs(Zr,{title:p.role,subtitle:p.institution,date:p.period,children:[p.description,i.jsx("div",{className:"mt-2 text-xs text-neutral-500 font-medium uppercase tracking-wider",children:p.location})]},p.id))})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-8 h-[1px] bg-neutral-700"}),"Education"]}),i.jsx("div",{className:"space-y-4",children:Qd.map(p=>i.jsx(Zr,{title:p.degree,subtitle:p.institution,date:p.year,children:p.details&&i.jsx("p",{children:p.details})},p.id))})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[i.jsx("span",{className:"w-8 h-[1px] bg-neutral-700"}),"Selected Publications"]}),i.jsx("div",{className:"space-y-4",children:l.map(p=>{const m=d(p),g=p.doi?`https://doi.org/${p.doi}`:void 0,y=p.url?"Publisher":"Link";return i.jsxs(Zr,{title:m?i.jsx("a",{href:m.href,target:"_blank",rel:"noreferrer",className:"text-neutral-100 hover:text-white transition-colors underline-offset-4 hover:underline",children:p.title}):p.title,subtitle:p.journal||void 0,date:p.year?p.year.toString():void 0,children:[i.jsx("p",{className:"italic text-neutral-300",children:p.authors}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs uppercase tracking-wider text-neutral-400",children:[g&&i.jsx("a",{href:g,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:"DOI"}),p.url&&i.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:y}),c&&i.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"px-2 py-1 rounded border border-neutral-800 hover:border-neutral-600 transition-colors",children:"ORCID"})]})]},p.id)})})]})]})]})},Sh=()=>i.jsxs("div",{className:"max-w-6xl mx-auto px-6 pb-20 animate-in slide-in-from-bottom-4 duration-700 fade-in",children:[i.jsxs("div",{className:"mb-16",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Research"}),i.jsx("p",{className:"text-neutral-300 text-lg max-w-2xl",children:"Selected publications and projects I have led or contributed to."})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:yo.map(r=>i.jsx(Yd,{project:r},r.id))})]}),Ch=()=>{const{id:r}=Vd(),o=xo(),l=yo.find(c=>c.id===r);return w.useEffect(()=>{window.scrollTo(0,0)},[]),l?i.jsxs("div",{className:"max-w-4xl mx-auto px-6 pb-24 animate-in fade-in duration-500",children:[i.jsxs("button",{onClick:()=>o(-1),className:"mb-8 flex items-center gap-2 text-sm text-neutral-300 hover:text-white transition-colors",children:[i.jsx(ld,{size:16})," Back"]}),i.jsxs("div",{className:"space-y-6 mb-12",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-900 border border-neutral-800 text-neutral-200",children:l.category}),i.jsxs("span",{className:"flex items-center gap-1 text-neutral-300",children:[i.jsx(oh,{size:14})," ",l.date]})]}),i.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white tracking-tight",children:l.title}),i.jsxs("div",{className:"flex gap-4 pt-2",children:[l.link&&i.jsxs("a",{href:l.link,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-black rounded-lg font-medium text-sm hover:bg-neutral-200 transition-colors",children:[i.jsx(ch,{size:16})," Read Paper"]}),l.github&&i.jsxs("a",{href:l.github,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-neutral-900 border border-neutral-800 text-white rounded-lg font-medium text-sm hover:bg-neutral-800 transition-colors",children:[i.jsx(ls,{size:16})," View Code"]})]})]}),i.jsx("div",{className:"w-full aspect-video rounded-xl overflow-hidden border border-neutral-800 mb-12 bg-neutral-900",children:i.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700"})}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[i.jsxs("div",{className:"md:col-span-2 space-y-12",children:[i.jsxs("section",{children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"About the Project"}),i.jsx("div",{className:"text-neutral-300 leading-relaxed text-lg",children:l.longDescription||l.description})]}),l.openQuestions&&i.jsxs("section",{className:"bg-neutral-900/40 border border-neutral-800/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Open Questions"}),i.jsx("ul",{className:"space-y-3",children:l.openQuestions.map((c,d)=>i.jsxs("li",{className:"flex gap-3 text-neutral-300",children:[i.jsxs("span",{className:"text-neutral-500 font-mono",children:["0",d+1]}),i.jsx("span",{children:c})]},d))})]})]}),i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"border-t border-neutral-800 pt-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-white mb-4 uppercase tracking-wider",children:"Technologies"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map(c=>i.jsx("span",{className:"px-2 py-1 bg-neutral-900 text-neutral-300 text-xs rounded border border-neutral-800",children:c},c))})]})})]})]}):i.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral-200",children:"Project Not Found"}),i.jsxs(gn,{to:"/research",className:"text-neutral-300 hover:text-white flex items-center gap-2",children:[i.jsx(ld,{size:16})," Back to Research"]})]})},Mh=()=>{const r=or(),l=new URLSearchParams(r.search).get("item"),c=[...Kd].sort((d,f)=>{const p=new Date(d.date).getTime(),m=new Date(f.date).getTime();return Number.isNaN(p)&&console.warn(`Invalid news date for "${d.title}": ${d.date}`),Number.isNaN(m)&&console.warn(`Invalid news date for "${f.title}": ${f.date}`),Number.isNaN(p)&&Number.isNaN(m)?0:Number.isNaN(p)?1:Number.isNaN(m)?-1:m-p});return w.useEffect(()=>{if(!l)return;const d=document.getElementById(l);d&&d.scrollIntoView({behavior:"smooth",block:"start"})},[l]),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-24 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"mb-16",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"News"}),i.jsx("p",{className:"text-neutral-300 text-lg max-w-2xl",children:"Short updates on awards, talks, and milestones."})]}),i.jsx("div",{className:"space-y-10",children:c.map(d=>i.jsxs("article",{id:d.id,className:"scroll-mt-28 border border-neutral-800/70 rounded-xl p-6 bg-neutral-900/30",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-neutral-400",children:[i.jsx("span",{className:"px-2 py-1 rounded-full bg-neutral-900 border border-neutral-800 text-neutral-300",children:d.displayDate}),i.jsx("span",{children:d.summary})]}),i.jsx("h2",{className:"text-2xl font-semibold text-white mt-4",children:d.title}),i.jsx("div",{className:"text-neutral-300 leading-relaxed mt-4",children:d.body})]},d.id))})]})},Xd=[{id:"cellular-automata",title:"Cellular automata visualizer",description:"Interactive grid-based simulations and rule exploration.",embedPath:"/playground/cellular-automata/index.html",previewPath:"/playground/cellular-automata/index.html"},{id:"halftone-loop",title:"Halftone loop visualizer",description:"Generate perfect looping halftone animations on a canvas."},{id:"location-pulse",title:"City information dashboard",description:"Live weather, air quality, seismic, and Wikipedia context for any city."},{id:"publications-explorer",title:"Publications explorer",description:"Faceted ORCID search with coauthor graph, and export tools."},{id:"modular-synth",title:"Modular synth canvas",description:"Patchable audio-rate gates, envelopes, and CV with draggable modules."}],Ph=()=>{const r=w.useRef(null),o=w.useRef(null),l=w.useRef(0),c=120,d=80,f=60,p=8,m=.6,g=4,y=.05,x=1,N="#0b1020",b="#b7f7dc";return w.useEffect(()=>{const P=r.current;if(!P)return;const S=P.getContext("2d");if(!S)return;P.width=c,P.height=d;const E=[];for(let O=Math.floor(p/2);O<c;O+=p)E.push(O);const R=[];for(let O=Math.floor(p/2);O<d;O+=p)R.push(O);const H=O=>{const z=2*Math.PI*x*O/f;S.fillStyle=N,S.fillRect(0,0,c,d);const X=(m+g)/2,ie=(g-m)/2;for(const he of R)for(const je of E){const Ie=(je-c/2)*y,ge=(he-d/2)*y,Ze=Math.sqrt(Ie*Ie+ge*ge),He=Math.atan2(ge,Ie),Te=Math.cos(He*8+z*2),Fe=.55*Math.sin(Ze*10-z)+.45*Te,Re=Math.min(g,Math.max(m,X+ie*Fe));S.beginPath(),S.fillStyle=b,S.ellipse(je,he,Re,Re,0,0,Math.PI*2),S.fill()}},U=()=>{l.current=(l.current+1)%f,H(l.current),o.current=requestAnimationFrame(U)};return H(l.current),o.current=requestAnimationFrame(U),()=>{o.current&&cancelAnimationFrame(o.current)}},[]),i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 overflow-hidden",children:i.jsx("canvas",{ref:r,className:"w-full h-full"})})},Eh=()=>{const r=w.useRef(null),o=w.useRef(null),l=w.useRef(0),c=22,d=14,f=8,p=c*f,m=d*f,g=180;return w.useEffect(()=>{const y=r.current;if(!y)return;const x=y.getContext("2d");if(!x)return;y.width=p,y.height=m;const N=()=>Array.from({length:d},()=>Array(c).fill(0)),b=(O,z)=>{const X=Math.floor((c-z[0].length)/2),ie=Math.floor((d-z.length)/2);z.forEach((he,je)=>{he.forEach((Ie,ge)=>{Ie&&O[ie+je]&&O[ie+je][X+ge]!==void 0&&(O[ie+je][X+ge]=1)})})},P=[[0,0,0,0,0,0,1,0],[1,1,0,0,0,0,0,0],[0,1,0,0,0,1,1,1]];let S=N();b(S,P);const E=(O,z)=>{let X=0;for(let ie=-1;ie<=1;ie+=1)for(let he=-1;he<=1;he+=1){if(he===0&&ie===0)continue;const je=(O+he+c)%c,Ie=(z+ie+d)%d;X+=S[Ie][je]}return X},R=()=>{const O=Array.from({length:d},()=>Array(c).fill(0));for(let z=0;z<d;z+=1)for(let X=0;X<c;X+=1){const ie=E(X,z),he=S[z][X]===1;O[z][X]=he?ie===2||ie===3?1:0:ie===3?1:0}S=O},H=()=>{x.fillStyle="#0b0f1b",x.fillRect(0,0,p,m),x.strokeStyle="rgba(148, 163, 184, 0.12)",x.lineWidth=1;for(let O=0;O<=c;O+=1)x.beginPath(),x.moveTo(O*f+.5,0),x.lineTo(O*f+.5,m),x.stroke();for(let O=0;O<=d;O+=1)x.beginPath(),x.moveTo(0,O*f+.5),x.lineTo(p,O*f+.5),x.stroke();x.fillStyle="#5eead4";for(let O=0;O<d;O+=1)for(let z=0;z<c;z+=1)S[O][z]&&x.fillRect(z*f+1,O*f+1,f-2,f-2)},U=O=>{O-l.current>=g&&(R(),H(),l.current=O),o.current=requestAnimationFrame(U)};return H(),o.current=requestAnimationFrame(U),()=>{o.current&&cancelAnimationFrame(o.current)}},[]),i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 overflow-hidden",children:i.jsx("canvas",{ref:r,className:"w-full h-full"})})},Rh=(r,o,l,c)=>{const d=l/2,f=c/2,p=Math.min(l,c)*.28,m=r.map((E,R)=>{const H=R/r.length*Math.PI*2;return{id:E,x:d+Math.cos(H)*p,y:f+Math.sin(H)*p}}),g=r.map(()=>({x:0,y:0})),y=new Map(r.map((E,R)=>[E,R])),x=140,N=1200,b=.05,P=.85,S=6;for(let E=0;E<x;E+=1){for(let R=0;R<m.length;R+=1)for(let H=R+1;H<m.length;H+=1){const U=m[R].x-m[H].x,O=m[R].y-m[H].y,z=Math.sqrt(U*U+O*O)||1,X=N/(z*z),ie=U/z*X,he=O/z*X;g[R].x+=ie,g[R].y+=he,g[H].x-=ie,g[H].y-=he}o.forEach(R=>{const H=y.get(R.source),U=y.get(R.target);if(H===void 0||U===void 0)return;const O=m[U].x-m[H].x,z=m[U].y-m[H].y,X=Math.sqrt(O*O+z*z)||1,ie=b*R.weight,he=O/X*ie,je=z/X*ie;g[H].x+=he,g[H].y+=je,g[U].x-=he,g[U].y-=je});for(let R=0;R<m.length;R+=1)g[R].x*=P,g[R].y*=P,m[R].x+=g[R].x,m[R].y+=g[R].y,m[R].x=Math.min(l-S,Math.max(S,m[R].x)),m[R].y=Math.min(c-S,Math.max(S,m[R].y))}return new Map(m.map(E=>[E.id,{x:E.x,y:E.y}]))},Ih=()=>{const r=w.useRef(null);return w.useEffect(()=>{const o=r.current;if(!o)return;const l=o.getContext("2d");if(!l)return;const c=120,d=80;o.width=c,o.height=d;const f=new Map;jr.publications.forEach(b=>{(b.authors.includes(";")?b.authors.split(";"):b.authors.split(",")).map(S=>S.trim()).filter(Boolean).forEach(S=>{f.set(S,(f.get(S)??0)+1)})});const p=Math.min(16,f.size),m=Array.from(f.entries()).sort((b,P)=>P[1]-b[1]).slice(0,p).map(([b])=>b),g=new Set(m),y=new Map;jr.publications.forEach(b=>{const S=(b.authors.includes(";")?b.authors.split(";"):b.authors.split(",")).map(E=>E.trim()).filter(E=>g.has(E));for(let E=0;E<S.length;E+=1)for(let R=E+1;R<S.length;R+=1){const H=S[E],U=S[R],O=H<U?`${H}|||${U}`:`${U}|||${H}`;y.set(O,(y.get(O)??0)+1)}});const x=Array.from(y.entries()).map(([b,P])=>{const[S,E]=b.split("|||");return{source:S,target:E,weight:P}}),N=Rh(m,x,c,d);l.fillStyle="#050608",l.fillRect(0,0,c,d),l.strokeStyle="rgba(148, 163, 184, 0.25)",l.lineWidth=1,x.forEach(({source:b,target:P})=>{const S=N.get(b),E=N.get(P);!S||!E||(l.beginPath(),l.moveTo(S.x,S.y),l.lineTo(E.x,E.y),l.stroke())}),m.forEach((b,P)=>{const S=N.get(b);if(!S)return;const E=b.toLowerCase().includes("zeiger");l.beginPath(),l.fillStyle=E?"#f472b6":P%2===0?"#60a5fa":"#34d399",l.arc(S.x,S.y,E?4:3,0,Math.PI*2),l.fill()})},[]),i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 overflow-hidden",children:i.jsx("canvas",{ref:r,className:"w-full h-full"})})},Dh=({id:r,title:o,previewPath:l})=>r==="cellular-automata"&&l?i.jsx(Eh,{}):r==="halftone-loop"?i.jsx(Ph,{}):r==="location-pulse"?i.jsx(Lh,{}):r==="publications-explorer"?i.jsx(Ih,{}):r==="modular-synth"?i.jsx(Th,{}):i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 flex items-center justify-center",children:i.jsx("span",{className:"text-[10px] uppercase tracking-widest text-neutral-500",children:o.split(" ")[0]})}),Lh=()=>{const r=w.useRef(null),o=w.useRef(null);return w.useEffect(()=>{const l=r.current;if(!l)return;const c=l.getContext("2d");if(!c)return;const d=120,f=80;l.width=d,l.height=f;const p=g=>{const y=g/1e3%2,x=.5+.5*Math.sin(y*Math.PI);c.fillStyle="#050608",c.fillRect(0,0,d,f),c.fillStyle="#111827",c.fillRect(6,6,80,10),c.fillRect(6,20,80,8),c.fillRect(6,32,46,12),c.fillRect(56,32,30,12),c.fillRect(6,48,40,10),c.fillRect(50,48,36,10);const N=90,b=6,P=24,S=20;c.fillStyle="#0f172a",c.fillRect(N,b,P,S),c.strokeStyle="rgba(148, 163, 184, 0.25)",c.strokeRect(N,b,P,S);const E=N+P*.55,R=b+S*.55;c.fillStyle="#f43f5e",c.beginPath(),c.arc(E,R,1.6+x*.6,0,Math.PI*2),c.fill(),c.strokeStyle="rgba(244, 63, 94, 0.5)",c.beginPath(),c.arc(E,R,3+x*2,0,Math.PI*2),c.stroke(),c.fillStyle="#0b0f1b",c.fillRect(N,b+S+4,P,8)},m=g=>{p(g),o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[]),i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 overflow-hidden",children:i.jsx("canvas",{ref:r,className:"w-full h-full"})})},Th=()=>i.jsx("div",{className:"w-24 h-16 rounded-lg border border-neutral-800 bg-neutral-950/70 flex items-center justify-center",children:i.jsxs("svg",{width:"90",height:"56",viewBox:"0 0 90 56",fill:"none",children:[i.jsx("rect",{x:"4",y:"10",width:"26",height:"36",rx:"6",fill:"#111827",stroke:"#334155"}),i.jsx("rect",{x:"34",y:"6",width:"24",height:"32",rx:"6",fill:"#0f172a",stroke:"#1f2937"}),i.jsx("rect",{x:"62",y:"18",width:"24",height:"30",rx:"6",fill:"#111827",stroke:"#334155"}),i.jsx("circle",{cx:"12",cy:"20",r:"3",fill:"#22d3ee"}),i.jsx("circle",{cx:"26",cy:"26",r:"3",fill:"#f59e0b"}),i.jsx("circle",{cx:"42",cy:"16",r:"2.5",fill:"#22d3ee"}),i.jsx("circle",{cx:"54",cy:"24",r:"2.5",fill:"#22d3ee"}),i.jsx("circle",{cx:"68",cy:"28",r:"2.5",fill:"#f59e0b"}),i.jsx("circle",{cx:"80",cy:"34",r:"2.5",fill:"#f59e0b"}),i.jsx("path",{d:"M12 20 C 24 16, 34 16, 42 16",stroke:"#38bdf8",strokeWidth:"1.5"}),i.jsx("path",{d:"M26 26 C 40 26, 50 26, 68 28",stroke:"#f59e0b",strokeWidth:"1.5"})]})}),zh=()=>i.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-24 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"mb-16",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Playground"}),i.jsx("p",{className:"text-neutral-300 text-lg max-w-2xl",children:"Experiments, visualizers, and interactive prototypes."})]}),i.jsx("div",{className:"space-y-4",children:Xd.map(r=>i.jsxs(gn,{to:`/playground/${r.id}`,className:"flex gap-4 items-start border border-neutral-800/70 rounded-xl px-6 py-5 bg-neutral-900/30 hover:border-neutral-600 transition-colors",children:[i.jsx(Dh,{id:r.id,title:r.title,previewPath:r.previewPath}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:r.title}),i.jsx("p",{className:"text-neutral-300",children:r.description})]})]},r.id))})]}),Ba=[{id:"aurora",label:"Aurora Drift",width:560,height:520,frames:84,fps:24,spacing:14,rMin:1,rMax:8,waveStrength:.7,waveScale:.022,waveSpeed:1,background:"#0b1020",foreground:"#b7f7dc",pattern:"crossfade"},{id:"sunburst",label:"Solar Bloom",width:540,height:540,frames:72,fps:24,spacing:16,rMin:1,rMax:9,waveStrength:.8,waveScale:.018,waveSpeed:1,background:"#120b05",foreground:"#ffe5a3",pattern:"radial"},{id:"vortex",label:"Vortex Ribbons",width:560,height:520,frames:96,fps:24,spacing:13,rMin:1,rMax:7,waveStrength:.75,waveScale:.02,waveSpeed:2,background:"#0d1015",foreground:"#8dd5ff",pattern:"vortex"},{id:"checker",label:"Pulse Grid",width:520,height:520,frames:60,fps:24,spacing:12,rMin:1,rMax:6,waveStrength:.65,waveScale:.028,waveSpeed:1,background:"#07090f",foreground:"#ffd1f2",pattern:"checker"},{id:"tide",label:"Lagoon Tide",width:580,height:520,frames:90,fps:24,spacing:15,rMin:1,rMax:8,waveStrength:.7,waveScale:.02,waveSpeed:1,background:"#06131a",foreground:"#b4ffe3",pattern:"tide"},{id:"static-noise",label:"Static Mirage",width:560,height:520,frames:96,fps:24,spacing:11,rMin:.8,rMax:6.5,waveStrength:.9,waveScale:.03,waveSpeed:2,background:"#0b0a13",foreground:"#ffd6a5",pattern:"noise-field"},{id:"orbit",label:"Orbiting Choir",width:600,height:520,frames:120,fps:24,spacing:16,rMin:1,rMax:10,waveStrength:.85,waveScale:.016,waveSpeed:2,background:"#05070d",foreground:"#c8d3ff",pattern:"spiral-lattice"},{id:"ripple-loom",label:"Ripple Loom",width:560,height:540,frames:84,fps:24,spacing:12,rMin:1,rMax:7,waveStrength:.8,waveScale:.024,waveSpeed:1,background:"#0f0b0f",foreground:"#e6ffb0",pattern:"radial-burst"},{id:"halo",label:"Halo Cascade",width:540,height:540,frames:72,fps:24,spacing:14,rMin:1,rMax:9,waveStrength:.75,waveScale:.02,waveSpeed:2,background:"#0a0f18",foreground:"#ffb3c8",pattern:"spiral-lattice"},{id:"glass-grid",label:"Glass Grid",width:520,height:520,frames:60,fps:24,spacing:10,rMin:.8,rMax:5.5,waveStrength:.7,waveScale:.03,waveSpeed:1,background:"#0a0a0c",foreground:"#b7f1ff",pattern:"radial-burst"},{id:"moire-lens",label:"Moire Lens",width:560,height:520,frames:96,fps:24,spacing:10,rMin:.8,rMax:6,waveStrength:.75,waveScale:.03,waveSpeed:2,background:"#090c12",foreground:"#c4f0ff",pattern:"moire"},{id:"tessellate",label:"Tessellated Bloom",width:580,height:520,frames:84,fps:24,spacing:13,rMin:1,rMax:8,waveStrength:.8,waveScale:.022,waveSpeed:1,background:"#080a0f",foreground:"#ffdcb2",pattern:"tessellation"}],yt=Ba[0],Ah=(r,o,l)=>Math.min(l,Math.max(o,r)),Ln=r=>{const o=r.replace("#",""),l=o.length===3?o.split("").map(d=>d+d).join(""):o,c=parseInt(l,16);return{r:c>>16&255,g:c>>8&255,b:c&255}},cd=(r,o,l)=>`#${[r,o,l].map(c=>c.toString(16).padStart(2,"0")).join("")}`,Tn=({r,g:o,b:l})=>{const c=r/255,d=o/255,f=l/255,p=Math.max(c,d,f),m=Math.min(c,d,f),g=p-m;let y=0,x=0;const N=(p+m)/2;if(g!==0){switch(x=g/(1-Math.abs(2*N-1)),p){case c:y=(d-f)/g%6;break;case d:y=(f-c)/g+2;break;default:y=(c-d)/g+4}y=Math.round(y*60),y<0&&(y+=360)}return{h:y,s:Math.round(x*100),l:Math.round(N*100)}},dd=(r,o,l)=>{const c=o/100,d=l/100,f=(1-Math.abs(2*d-1))*c,p=f*(1-Math.abs(r/60%2-1)),m=d-f/2;let g=0,y=0,x=0;return r<60?(g=f,y=p):r<120?(g=p,y=f):r<180?(y=f,x=p):r<240?(y=p,x=f):r<300?(g=p,x=f):(g=f,x=p),{r:Math.round((g+m)*255),g:Math.round((y+m)*255),b:Math.round((x+m)*255)}},fd=(r,o,l)=>{const c=[];for(let f=Math.floor(l/2);f<r;f+=l)c.push(f);const d=[];for(let f=Math.floor(l/2);f<o;f+=l)d.push(f);return{xs:c,ys:d}},_h=()=>{const r=w.useRef(null),o=w.useRef(null),l=w.useRef(0),c=w.useRef(0),[d,f]=w.useState(yt.id),[p,m]=w.useState(yt.width),[g,y]=w.useState(yt.height),[x,N]=w.useState(yt.frames),[b,P]=w.useState(yt.fps),[S,E]=w.useState(yt.spacing),[R,H]=w.useState(yt.rMin),[U,O]=w.useState(yt.rMax),[z,X]=w.useState(yt.waveStrength),[ie,he]=w.useState(yt.waveScale),[je,Ie]=w.useState(yt.waveSpeed),[ge,Ze]=w.useState(yt.background),[He,Te]=w.useState(yt.foreground),[et,Fe]=w.useState(()=>Tn(Ln(yt.background)).h),[Re,me]=w.useState(()=>Tn(Ln(yt.foreground)).h),[Q,le]=w.useState(()=>Tn(Ln(yt.background)).s),[ne,M]=w.useState(()=>Tn(Ln(yt.foreground)).s),[B,we]=w.useState(()=>Tn(Ln(yt.background)).l),[Ne,Se]=w.useState(()=>Tn(Ln(yt.foreground)).l),[Ce,te]=w.useState(yt.pattern),[oe,re]=w.useState(!0),[ce,T]=w.useState(!1),[_,G]=w.useState(null),ae=w.useMemo(()=>Ba.find($=>$.id===d)??Ba[0],[d]),ze=Number.isInteger(je)&&x>0,qe=w.useMemo(()=>fd(p,g,S),[S,p,g]),Ee=($,it,Je,Me)=>{const Pe=2*Math.PI*Me.waveSpeed*it/Me.frames;$.fillStyle=Me.background,$.fillRect(0,0,Me.width,Me.height);const ht=(Me.rMin+Me.rMax)/2,Yt=(Me.rMax-Me.rMin)/2;for(const Ct of Je.ys)for(const Wt of Je.xs){const tt=(Wt-Me.width/2)*Me.waveScale,st=(Ct-Me.height/2)*Me.waveScale,ft=Math.sqrt(tt*tt+st*st),sn=Math.atan2(st,tt);let _e=0;switch(Me.pattern){case"radial":{_e=Math.sin(ft*6-Pe)*.7+Math.cos(sn*4+Pe)*.3;break}case"vortex":{_e=Math.sin(ft*5+sn*3-Pe*2)*.6+Math.cos(ft*3-Pe)*.4;break}case"checker":{const vt=(Math.floor(Wt/Me.spacing)+Math.floor(Ct/Me.spacing))%2;_e=Math.sin(tt*3+Pe)*.5+Math.cos(st*3-Pe*2)*.5,_e+=vt?.2:-.2;break}case"tide":{_e=Math.sin(tt*2+Pe)*.6+Math.sin(st*3-Pe)*.4;break}case"noise-field":{const vt=Math.sin(tt*12.3+st*7.1+Pe*2)*Math.cos(tt*5.7-st*9.2+Pe),Et=Math.sin(ft*8-Pe*2);_e=.65*vt+.35*Et;break}case"spiral-lattice":{const vt=Math.sin(ft*6+sn*5-Pe*2),Et=Math.cos(tt*4-st*4+Pe);_e=.6*vt+.4*Et;break}case"radial-burst":{const vt=Math.cos(sn*8+Pe*2);_e=.55*Math.sin(ft*10-Pe)+.45*vt;break}case"moire":{const vt=Math.sin((tt+st)*6+Pe),Et=Math.sin((tt-st)*6-Pe*2),xn=Math.cos(ft*4-Pe);_e=.5*(vt+Et)+.2*xn;break}case"tessellation":{const vt=Math.sin(tt*5+Pe)+Math.sin(tt*2.5+st*4-Pe),Et=Math.cos(tt*3-st*1.5+Pe*2);_e=.5*vt+.5*Et;break}case"crossfade":default:{const vt=Math.sin(1.3*tt+1.7*st+Pe),Et=Math.sin(-1.9*tt+1.1*st-Pe),xn=Math.sin(ft*4-Pe*2);_e=.5*(vt+Et)+xn*.2;break}}const jn=Ah(ht+Yt*(Me.waveStrength*_e),Me.rMin,Me.rMax);$.beginPath(),$.fillStyle=Me.foreground,$.ellipse(Wt,Ct,jn,jn,0,0,Math.PI*2),$.fill()}};w.useEffect(()=>{const $=r.current;if(!$)return;const it=$.getContext("2d");if(!it)return;$.width=p,$.height=g;const Je=Pe=>Ee(it,Pe,qe,{width:p,height:g,frames:x,spacing:S,rMin:R,rMax:U,waveStrength:z,waveScale:ie,waveSpeed:je,background:ge,foreground:He,pattern:Ce}),Me=Pe=>{if(oe){const ht=1e3/b;Pe-l.current>=ht&&(c.current=(c.current+1)%x,l.current=Pe,Je(c.current))}o.current=requestAnimationFrame(Me)};return Je(c.current),o.current=requestAnimationFrame(Me),()=>{o.current&&cancelAnimationFrame(o.current)}},[p,g,x,b,S,R,U,z,ie,je,ge,He,Ce,qe,oe]),w.useEffect(()=>{c.current=0,l.current=0},[x]),w.useEffect(()=>{const $=Ba.find(Me=>Me.id===d);if(!$)return;m($.width),y($.height),N($.frames),P($.fps),E($.spacing),H($.rMin),O($.rMax),X($.waveStrength),he($.waveScale),Ie($.waveSpeed),Ze($.background),Te($.foreground);const it=Tn(Ln($.background)),Je=Tn(Ln($.foreground));Fe(it.h),me(Je.h),le(it.s),M(Je.s),we(it.l),Se(Je.l),te($.pattern)},[d]),w.useEffect(()=>{const $=dd(et,Q,B);Ze(cd($.r,$.g,$.b))},[et,Q,B]),w.useEffect(()=>{const $=dd(Re,ne,Ne);Te(cd($.r,$.g,$.b))},[Re,ne,Ne]);const Ue=($,it,Je,Me,Pe)=>{it($);const ht=Tn(Ln($));Je(ht.h),Me(ht.s),Pe(ht.l)},Ge=($,it)=>{const Je=URL.createObjectURL($),Me=document.createElement("a");Me.href=Je,Me.download=it,Me.click(),URL.revokeObjectURL(Je)},Qe=async()=>{if(!r.current||ce)return;if(typeof MediaRecorder>"u"){G("MediaRecorder is not available in this browser.");return}const $=document.createElement("canvas");$.width=p,$.height=g;const it=$.getContext("2d");if(!it)return;const Je=fd(p,g,S),Me=1e3/b,ht=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"].find(_e=>MediaRecorder.isTypeSupported(_e));if(!ht){G(`${format.toUpperCase()} export is not supported in this browser.`);return}const Yt=oe;Yt&&re(!1),T(!0),G("Rendering WEBM...");const Ct=$.captureStream(b),Wt=new MediaRecorder(Ct,{mimeType:ht}),tt=[];Wt.ondataavailable=_e=>{_e.data.size>0&&tt.push(_e.data)};const st=new Promise(_e=>{Wt.onstop=()=>_e()});Wt.start();for(let _e=0;_e<x;_e+=1)Ee(it,_e,Je,{width:p,height:g,frames:x,spacing:S,rMin:R,rMax:U,waveStrength:z,waveScale:ie,waveSpeed:je,background:ge,foreground:He,pattern:Ce}),await new Promise(jn=>setTimeout(jn,Me));Wt.stop(),await st;const ft=new Blob(tt,{type:ht}),sn=ae.label.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");Ge(ft,`${sn||ae.id}.webm`),T(!1),G("Exported WEBM."),Yt&&re(!0)};return i.jsxs("div",{className:"grid lg:grid-cols-[320px_1fr] gap-6",children:[i.jsxs("div",{className:"border border-neutral-800/70 rounded-xl p-5 bg-neutral-900/30 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Controls"}),i.jsx("span",{className:`text-[11px] uppercase tracking-widest px-2 py-1 rounded-full border ${ze?"border-emerald-500/40 text-emerald-300 bg-emerald-500/10":"border-amber-500/40 text-amber-300 bg-amber-500/10"}`,children:ze?"Perfect loop":"Loop warning"})]}),i.jsx("button",{className:"text-xs uppercase tracking-wider px-3 py-1 rounded-full border border-neutral-800 text-neutral-300 hover:text-white",onClick:()=>re($=>!$),children:oe?"Pause":"Play"})]}),i.jsxs("div",{className:"space-y-3 text-sm text-neutral-300",children:[i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Preset"}),i.jsx("select",{value:d,onChange:$=>f($.target.value),className:"w-44 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right",children:Ba.map($=>i.jsx("option",{value:$.id,children:$.label},$.id))})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Width"}),i.jsx("input",{type:"number",min:240,max:1200,value:p,onChange:$=>m(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Height"}),i.jsx("input",{type:"number",min:240,max:1200,value:g,onChange:$=>y(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Frames"}),i.jsx("input",{type:"number",min:24,max:240,value:x,onChange:$=>N(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"FPS"}),i.jsx("input",{type:"number",min:6,max:60,value:b,onChange:$=>P(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Spacing"}),i.jsx("input",{type:"number",min:6,max:40,value:S,onChange:$=>E(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Radius Min"}),i.jsx("input",{type:"number",min:.5,max:20,step:.5,value:R,onChange:$=>H(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Radius Max"}),i.jsx("input",{type:"number",min:1,max:30,step:.5,value:U,onChange:$=>O(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Wave Strength"}),i.jsx("input",{type:"number",min:0,max:1,step:.05,value:z,onChange:$=>X(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Wave Scale"}),i.jsx("input",{type:"number",min:.005,max:.08,step:.005,value:ie,onChange:$=>he(Number($.target.value)),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Wave Speed"}),i.jsx("input",{type:"number",min:1,max:4,step:1,value:je,onChange:$=>Ie(Math.round(Number($.target.value))||1),className:"w-24 bg-neutral-950/60 border border-neutral-800 rounded px-2 py-1 text-right"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Background"}),i.jsx("input",{type:"color",value:ge,onChange:$=>Ue($.target.value,Ze,Fe,le,we),className:"h-8 w-20 bg-transparent border border-neutral-800 rounded"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Background Hue"}),i.jsx("input",{type:"range",min:0,max:360,value:et,onChange:$=>Fe(Number($.target.value)),className:"w-40 accent-emerald-400"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Background Sat"}),i.jsx("input",{type:"range",min:0,max:100,value:Q,onChange:$=>le(Number($.target.value)),className:"w-40 accent-emerald-400"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Background Light"}),i.jsx("input",{type:"range",min:5,max:90,value:B,onChange:$=>we(Number($.target.value)),className:"w-40 accent-emerald-400"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Foreground"}),i.jsx("input",{type:"color",value:He,onChange:$=>Ue($.target.value,Te,me,M,Se),className:"h-8 w-20 bg-transparent border border-neutral-800 rounded"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Foreground Hue"}),i.jsx("input",{type:"range",min:0,max:360,value:Re,onChange:$=>me(Number($.target.value)),className:"w-40 accent-pink-300"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Foreground Sat"}),i.jsx("input",{type:"range",min:0,max:100,value:ne,onChange:$=>M(Number($.target.value)),className:"w-40 accent-pink-300"})]}),i.jsxs("label",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{children:"Foreground Light"}),i.jsx("input",{type:"range",min:10,max:95,value:Ne,onChange:$=>Se(Number($.target.value)),className:"w-40 accent-pink-300"})]})]}),i.jsxs("div",{className:"border-t border-neutral-800 pt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs uppercase tracking-wider text-neutral-400",children:"Export Loop"}),_&&i.jsx("span",{className:"text-xs text-neutral-400",children:_})]}),i.jsx("div",{className:"text-xs uppercase tracking-wider",children:i.jsx("button",{onClick:()=>Qe(),disabled:ce,className:"w-full rounded-lg border border-neutral-800 px-3 py-2 text-neutral-200 hover:text-white hover:border-neutral-600 disabled:opacity-40",children:"Export WebM"})})]})]}),i.jsx("div",{className:"border border-neutral-800/70 rounded-xl p-4 bg-neutral-900/30",children:i.jsx("canvas",{ref:r,className:"w-full rounded-lg bg-neutral-950"})})]})},pd="Glasgow",Vh=900*1e3,Oh=1200*1e3,Fh=600*1e3,md=1,hd=9.5,ot=(r,o=1)=>r===void 0||Number.isNaN(r)?"":r.toFixed(o),gd=r=>r?r.length>=16?r.slice(11,16):r:"",Uh=r=>r?Intl.NumberFormat("en-GB").format(Math.round(r)):"",Bh=r=>r?`${ot(r,1)} km`:"",Hh=(r,o)=>{if(!r||!o)return"";const l=new Date(r);return Number.isNaN(l.getTime())?"":new Intl.DateTimeFormat("en-GB",{timeZone:o,timeStyle:"short"}).format(l)},Zl=r=>{const o=r?.amount;if(!o)return;const l=Number(o);return Number.isFinite(l)?l:void 0},Gh=r=>{const o=r?.time;if(o)return o.startsWith("+")?o.slice(1).split("T")[0]:o.split("T")[0]},xd=(r,o,l,c)=>{const d=y=>y*Math.PI/180,f=d(l-r),p=d(c-o),m=Math.sin(f/2)*Math.sin(f/2)+Math.cos(d(r))*Math.cos(d(l))*Math.sin(p/2)*Math.sin(p/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))},Wh=r=>{const[o,l]=w.useState(()=>new Date);return w.useEffect(()=>{const d=window.setInterval(()=>l(new Date),1e3);return()=>window.clearInterval(d)},[]),w.useMemo(()=>r?new Intl.DateTimeFormat("en-GB",{timeZone:r,dateStyle:"medium",timeStyle:"medium"}).format(o):"",[o,r])},yd=r=>r===0?"Clear sky":r===1||r===2?"Mainly clear":r===3?"Overcast":r===45||r===48?"Fog":r>=51&&r<=57?"Drizzle":r>=61&&r<=67?"Rain":r>=71&&r<=77?"Snow":r>=80&&r<=82?"Rain showers":r>=85&&r<=86?"Snow showers":r>=95&&r<=99?"Thunderstorm":"Mixed conditions",$h=r=>r===void 0||Number.isNaN(r)?null:r<=50?{label:"Good",guidance:"No special precautions.",index:0,color:"emerald"}:r<=100?{label:"Moderate",guidance:"Sensitive groups: consider reducing prolonged outdoor exertion.",index:1,color:"amber"}:r<=150?{label:"Unhealthy for Sensitive Groups",guidance:"Sensitive groups: reduce outdoor exertion.",index:2,color:"orange"}:r<=200?{label:"Unhealthy",guidance:"Sensitive groups: reduce outdoor exertion.",index:3,color:"rose"}:r<=300?{label:"Very Unhealthy",guidance:"Sensitive groups: reduce outdoor exertion.",index:4,color:"red"}:{label:"Hazardous",guidance:"Sensitive groups: reduce outdoor exertion.",index:5,color:"red"},Kh=r=>{switch(r){case"emerald":return"border-emerald-500/50 text-emerald-300";case"amber":return"border-amber-500/50 text-amber-300";case"orange":return"border-orange-500/50 text-orange-300";case"rose":return"border-rose-500/50 text-rose-300";case"red":return"border-red-500/50 text-red-300";default:return"border-neutral-700 text-neutral-300"}},qh=r=>{switch(r){case"emerald":return"bg-emerald-400";case"amber":return"bg-amber-400";case"orange":return"bg-orange-400";case"rose":return"bg-rose-500";case"red":return"bg-red-600";default:return"bg-neutral-700"}},Qh=r=>{if(!r)return null;const o=r.co!==void 0?r.co/1e3:void 0,l=[{key:"PM2.5",value:r.pm25,scale:35},{key:"PM10",value:r.pm10,scale:50},{key:"O",value:r.o3,scale:100},{key:"NO",value:r.no2,scale:200},{key:"CO",value:o,scale:10,isMg:!0}].filter(c=>c.value!==void 0);return l.length===0?null:(l.sort((c,d)=>d.value/d.scale-c.value/c.scale),l[0].key)},Jh=()=>{const[r,o]=w.useState(pd),[l,c]=w.useState(pd),[d,f]=w.useState(null),[p,m]=w.useState(null),[g,y]=w.useState(null),[x,N]=w.useState(null),[b,P]=w.useState(null),[S,E]=w.useState(null),[R,H]=w.useState(null),[U,O]=w.useState(!1),[z,X]=w.useState(null),ie=w.useRef(null),he=w.useRef(null),je=w.useRef(null),Ie=w.useRef(null),ge=w.useRef(null),Ze=w.useRef(null),He=w.useRef(!1),Te=w.useRef(null),et=Wh(d?.timezone),Fe=w.useMemo(()=>$h(g?.aqi),[g?.aqi]),Re=w.useMemo(()=>Qh(g),[g]),me=w.useCallback(()=>{ie.current&&window.clearInterval(ie.current),he.current&&window.clearInterval(he.current),je.current&&window.clearInterval(je.current),ie.current=null,he.current=null,je.current=null},[]);w.useEffect(()=>{let te=!0;const oe=async()=>{if(window.L)return window.L;if(!document.querySelector("link[data-leaflet]")){const ce=document.createElement("link");ce.rel="stylesheet",ce.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",ce.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",ce.crossOrigin="",ce.setAttribute("data-leaflet","true"),document.head.appendChild(ce)}return new Promise((ce,T)=>{const _=document.querySelector("script[data-leaflet]");if(_){_.addEventListener("load",()=>ce(window.L)),_.addEventListener("error",()=>T(new Error("Leaflet failed to load.")));return}const G=document.createElement("script");G.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",G.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",G.crossOrigin="",G.setAttribute("data-leaflet","true"),G.async=!0,G.onload=()=>ce(window.L),G.onerror=()=>T(new Error("Leaflet failed to load.")),document.body.appendChild(G)})};return(async()=>{if(Ie.current)try{const ce=await oe();if(!te||!Ie.current)return;if(ge.current||(ge.current=ce.map(Ie.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,keyboard:!1,touchZoom:!1,zoomSnap:.5,zoomDelta:.5,minZoom:1,maxZoom:13}),ce.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"&copy; OpenStreetMap contributors"}).addTo(ge.current)),d){const T=He.current?hd:md;ge.current.setView([d.latitude,d.longitude],T),Ze.current?Ze.current.setLatLng([d.latitude,d.longitude]):Ze.current=ce.marker([d.latitude,d.longitude]).addTo(ge.current)}}catch{H("Map failed to load.")}})(),()=>{te=!1,ge.current&&(ge.current.remove(),ge.current=null,Ze.current=null)}},[d]);const Q=w.useCallback(async te=>{const oe=Te.current?.signal,re=new URL("https://api.open-meteo.com/v1/forecast");re.searchParams.set("latitude",te.latitude.toString()),re.searchParams.set("longitude",te.longitude.toString()),re.searchParams.set("current_weather","true"),re.searchParams.set("daily","sunrise,sunset,temperature_2m_max,temperature_2m_min,precipitation_sum,precipitation_probability_max,windspeed_10m_max,windgusts_10m_max,weathercode"),re.searchParams.set("forecast_days","8"),re.searchParams.set("timezone","auto");const ce=await fetch(re.toString(),{signal:oe});if(!ce.ok)throw new Error("Weather service is unavailable.");const T=await ce.json(),_=T.current_weather,G=T.daily,ae=Array.isArray(G?.time)?G.time.slice(1,8).map((ze,qe)=>{const Ee=qe+1;return{date:ze,weathercode:G.weathercode?.[Ee],tempMax:G.temperature_2m_max?.[Ee],tempMin:G.temperature_2m_min?.[Ee],precipSum:G.precipitation_sum?.[Ee],precipProb:G.precipitation_probability_max?.[Ee],windMax:G.windspeed_10m_max?.[Ee],gustsMax:G.windgusts_10m_max?.[Ee]}}):void 0;m({temperature:_?.temperature,windspeed:_?.windspeed,winddirection:_?.winddirection,weathercode:_?.weathercode,sunrise:G?.sunrise?.[0],sunset:G?.sunset?.[0],tempMax:G?.temperature_2m_max?.[0],tempMin:G?.temperature_2m_min?.[0],forecast:ae})},[]),le=w.useCallback(async te=>{const oe=Te.current?.signal,re=new URL("https://air-quality-api.open-meteo.com/v1/air-quality");re.searchParams.set("latitude",te.latitude.toString()),re.searchParams.set("longitude",te.longitude.toString()),re.searchParams.set("current","us_aqi,pm10,pm2_5,carbon_monoxide,nitrogen_dioxide,ozone"),re.searchParams.set("timezone","auto");const ce=await fetch(re.toString(),{signal:oe});if(!ce.ok)throw new Error("Air quality service is unavailable.");const _=(await ce.json()).current||{};y({aqi:_.us_aqi,pm10:_.pm10,pm25:_.pm2_5,co:_.carbon_monoxide,no2:_.nitrogen_dioxide,o3:_.ozone,time:_.time})},[]),ne=w.useCallback(async te=>{const oe=Te.current?.signal;let ce=te.name;const T=await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(ce)}`,{signal:oe});let _=null;if(T.ok&&(_=await T.json()),!_||_.type==="disambiguation"){const Qe=new URL("https://en.wikipedia.org/w/api.php");Qe.searchParams.set("action","query"),Qe.searchParams.set("list","search"),Qe.searchParams.set("srsearch",`${te.name} ${te.country}`),Qe.searchParams.set("srlimit","5"),Qe.searchParams.set("format","json"),Qe.searchParams.set("origin","*");const $=await fetch(Qe.toString(),{signal:oe});if(!$.ok)throw new Error("Wikipedia search is unavailable.");const Je=(await $.json()).query?.search||[],Me=Je.find(ht=>ht.title.toLowerCase()===te.name.toLowerCase())||Je[0];if(!Me?.title){N(null);return}ce=Me.title;const Pe=await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(ce)}`,{signal:oe});if(!Pe.ok)throw new Error("Wikipedia summary is unavailable.");_=await Pe.json()}let G;const ae=new URL("https://en.wikipedia.org/w/api.php");ae.searchParams.set("action","query"),ae.searchParams.set("prop","pageprops"),ae.searchParams.set("titles",ce),ae.searchParams.set("format","json"),ae.searchParams.set("origin","*");const ze=await fetch(ae.toString(),{signal:oe});if(ze.ok){const $=(await ze.json()).query?.pages||{};G=Object.values($)[0]?.pageprops?.wikibase_item}let qe,Ee,Ue,Ge;if(G){const Qe=await fetch(`https://www.wikidata.org/wiki/Special:EntityData/${G}.json`,{signal:oe});if(Qe.ok){const Je=(await Qe.json()).entities?.[G]?.claims||{},Me=Je.P1082?.[0]?.mainsnak?.datavalue?.value,Pe=Je.P2046?.[0]?.mainsnak?.datavalue?.value,ht=Je.P2044?.[0]?.mainsnak?.datavalue?.value,Yt=Je.P571?.[0]?.mainsnak?.datavalue?.value;qe=Zl(Me);const Ct=Zl(Pe);Ct!==void 0&&(Ee=Ct>1e4?Ct/1e6:Ct),Ue=Zl(ht),Ge=Gh(Yt)}}N({title:_.title||ce,extract:_.extract||"No summary available.",url:_.content_urls?.desktop?.page||`https://en.wikipedia.org/wiki/${encodeURIComponent(ce)}`,population:qe,areaKm2:Ee,elevationM:Ue,inception:Ge})},[]),M=w.useCallback(async te=>{const oe=Te.current?.signal,re=await fetch("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojson",{signal:oe});if(!re.ok)throw new Error("Earthquake feed is unavailable.");const _=((await re.json()).features||[]).map(ae=>{const ze=ae.geometry?.coordinates||[],qe=ze[0],Ee=ze[1],Ue=xd(te.latitude,te.longitude,Ee,qe);return{title:ae.properties?.title||"Unknown event",place:ae.properties?.place||"Unknown location",time:ae.properties?.time||0,magnitude:ae.properties?.mag??0,distanceKm:Ue}}).filter(ae=>Number.isFinite(ae.distanceKm)).sort((ae,ze)=>ae.distanceKm-ze.distanceKm),G=_.find(ae=>ae.distanceKm<=500);P(G||_[0]||null)},[]),B=w.useCallback(async te=>{const oe=Te.current?.signal,re=new Date,ce=new Date(re.getTime()-1e3*60*60*24*30),T=new URL("https://earthquake.usgs.gov/fdsnws/event/1/query");T.searchParams.set("format","geojson"),T.searchParams.set("starttime",ce.toISOString().slice(0,10)),T.searchParams.set("endtime",re.toISOString().slice(0,10)),T.searchParams.set("latitude",te.latitude.toString()),T.searchParams.set("longitude",te.longitude.toString()),T.searchParams.set("maxradiuskm","50"),T.searchParams.set("orderby","time");const _=await fetch(T.toString(),{signal:oe});if(!_.ok)throw new Error("Local seismic history is unavailable.");const ae=(await _.json()).features?.[0];if(!ae){E(null);return}const ze=ae.geometry?.coordinates||[],qe=ze[0],Ee=ze[1],Ue=xd(te.latitude,te.longitude,Ee,qe);E({title:ae.properties?.title||"Recent event",place:ae.properties?.place||"Unknown location",time:ae.properties?.time||0,magnitude:ae.properties?.mag??0,distanceKm:Ue})},[]),we=w.useCallback(async te=>{const oe=await Promise.allSettled([Q(te),le(te),ne(te),M(te),B(te)]),re=oe.filter(ce=>ce.status==="rejected").length;if(re===oe.length)throw new Error("All data sources are unavailable.");return X(new Date),{failed:re,total:oe.length}},[le,M,B,Q,ne]),Ne=w.useCallback(async te=>{const oe=Te.current?.signal,re=new URL("https://geocoding-api.open-meteo.com/v1/search");re.searchParams.set("name",te),re.searchParams.set("count","1"),re.searchParams.set("language","en"),re.searchParams.set("format","json");const ce=await fetch(re.toString(),{signal:oe});if(!ce.ok)throw new Error("Geocoding service is unavailable.");const _=(await ce.json()).results?.[0];if(!_)throw new Error("No results for that location.");return{name:_.name,country:_.country,admin1:_.admin1,latitude:_.latitude,longitude:_.longitude,timezone:_.timezone}},[]);w.useEffect(()=>{let te=!0;return(async()=>{O(!0),H(null),me(),Te.current&&Te.current.abort(),Te.current=new AbortController;try{const re=await Ne(l);if(!te||(f(re),await we(re),!te))return;ie.current=window.setInterval(()=>Q(re),Vh),he.current=window.setInterval(()=>le(re),Oh),je.current=window.setInterval(()=>M(re),Fh)}catch(re){if(!te)return;H(re instanceof Error?re.message:"Something went wrong.")}finally{te&&O(!1)}})(),()=>{te=!1,me(),Te.current&&Te.current.abort()}},[l,le,we,Ne,M,Q,me]);const Se=te=>{te.preventDefault();const oe=r.trim();oe.length>0&&oe!==l&&c(oe)},Ce=d?`${d.name}${d.admin1?`, ${d.admin1}`:""}, ${d.country}`:l;return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-neutral-800 bg-neutral-900/30 p-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-neutral-500",children:"City information dashboard"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:Ce}),i.jsx("p",{className:"text-sm text-neutral-400",children:"Weather, air quality, seismic, and Wikipedia context in one place."})]}),i.jsx("div",{className:"w-full max-w-sm md:max-w-[240px]",children:i.jsxs("div",{className:"relative isolate z-0 h-36 w-full overflow-hidden rounded-xl border border-neutral-800 bg-neutral-950/70",onMouseEnter:()=>{He.current=!0,d&&ge.current&&ge.current.flyTo([d.latitude,d.longitude],hd,{duration:1.4})},onMouseLeave:()=>{He.current=!1,d&&ge.current&&ge.current.flyTo([d.latitude,d.longitude],md,{duration:1.4})},children:[i.jsx("div",{ref:Ie,className:"absolute inset-0 pointer-events-none z-0"}),i.jsx("div",{className:"absolute bottom-2 left-2 rounded-full border border-neutral-800 bg-neutral-900/80 px-2 py-1 text-[10px] uppercase tracking-widest text-neutral-400",children:"Map"})]})})]}),i.jsxs("form",{onSubmit:Se,className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsx("input",{type:"text",value:r,onChange:te=>o(te.target.value),placeholder:"Enter a city or region",className:"flex-1 rounded-lg border border-neutral-800 bg-neutral-950/70 px-4 py-2 text-sm text-neutral-200 focus:border-neutral-500 focus:outline-none"}),i.jsx("button",{type:"submit",className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-black hover:bg-neutral-200",children:"Search"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-neutral-400",children:[i.jsxs("span",{children:["Local time: ",et]}),z&&i.jsxs("span",{children:["Last update: ",z.toLocaleTimeString("en-GB")]}),d&&i.jsxs("span",{children:["Lat ",ot(d.latitude,3)," / Lon ",ot(d.longitude,3)]})]}),R&&i.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:R})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/30 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Weather"}),i.jsx("span",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"Open-Meteo"})]}),i.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"Temperature"}),i.jsxs("p",{className:"text-3xl font-semibold text-white",children:[ot(p?.temperature),"C"]}),i.jsx("p",{className:"text-xs text-neutral-500",children:p?yd(p.weathercode):""})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"Wind"}),i.jsxs("p",{className:"text-lg text-neutral-100",children:[ot(p?.windspeed)," km/h"]}),i.jsxs("p",{className:"text-xs text-neutral-500",children:["Direction ",ot(p?.winddirection,0),""]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"High / Low"}),i.jsxs("p",{className:"text-lg text-neutral-100",children:[ot(p?.tempMax)," / ",ot(p?.tempMin),""]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"Sunrise / Sunset"}),i.jsxs("p",{className:"text-lg text-neutral-100",children:[gd(p?.sunrise)," / ",gd(p?.sunset)]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-semibold text-white",children:"Next 7 days"}),i.jsx("span",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"Daily"})]}),i.jsxs("div",{className:"mt-3 flex gap-3 overflow-x-auto pb-2",children:[(p?.forecast||[]).map(te=>i.jsxs("div",{className:"min-w-[160px] rounded-xl border border-neutral-800/80 bg-neutral-950/40 p-4",children:[i.jsx("div",{className:"text-xs uppercase tracking-wider text-neutral-500",children:new Date(te.date).toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"})}),i.jsxs("div",{className:"mt-2 text-lg font-semibold text-white",children:[ot(te.tempMax)," / ",ot(te.tempMin),""]}),i.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:yd(te.weathercode??0)}),i.jsxs("div",{className:"mt-3 space-y-1 text-xs text-neutral-400",children:[i.jsxs("div",{children:["Precip: ",ot(te.precipSum)," mm"]}),i.jsxs("div",{children:["Chance: ",ot(te.precipProb,0),"%"]}),i.jsxs("div",{children:["Wind: ",ot(te.windMax)," km/h"]}),i.jsxs("div",{children:["Gusts: ",ot(te.gustsMax)," km/h"]})]})]},te.date)),(!p?.forecast||p.forecast.length===0)&&i.jsx("div",{className:"text-sm text-neutral-400",children:"Forecast unavailable."})]})]})]}),i.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/30 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Air quality"}),i.jsx("a",{href:"https://open-meteo.com/",target:"_blank",rel:"noreferrer",className:"text-xs uppercase tracking-wider text-neutral-500 hover:text-neutral-300",children:"Open-Meteo"})]}),i.jsxs("div",{className:"mt-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"US AQI"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("p",{className:"text-3xl font-semibold text-white",children:ot(g?.aqi,0)}),Fe&&i.jsx("span",{className:`rounded-full border px-3 py-1 text-xs uppercase tracking-wider ${Kh(Fe.color)}`,children:Fe.label})]}),i.jsx("div",{className:"mt-2 flex gap-1",children:Array.from({length:6}).map((te,oe)=>i.jsx("span",{className:`h-1.5 flex-1 rounded-full ${Fe&&oe<=Fe.index?qh(Fe.color):"bg-neutral-800"}`},oe))}),i.jsx("p",{className:"mt-2 text-xs text-neutral-400",children:Fe?.guidance||"AQI unavailable."}),i.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:Re?`Driver: ${Re}`:"Driver: "})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-neutral-500",children:[i.jsx("span",{className:"uppercase tracking-wider",children:"Current concentrations"}),i.jsx("span",{children:"Instantaneous estimate; health categories use AQI."})]}),i.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border border-neutral-800/70 bg-neutral-950/40 px-3 py-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"PM2.5"}),i.jsxs("p",{className:"text-sm text-neutral-100",children:[ot(g?.pm25)," g/m"]})]}),i.jsxs("div",{className:"rounded-lg border border-neutral-800/70 bg-neutral-950/40 px-3 py-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"PM10"}),i.jsxs("p",{className:"text-sm text-neutral-100",children:[ot(g?.pm10)," g/m"]})]}),i.jsxs("div",{className:"rounded-lg border border-neutral-800/70 bg-neutral-950/40 px-3 py-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"O"}),i.jsxs("p",{className:"text-sm text-neutral-100",children:[ot(g?.o3)," g/m"]})]}),i.jsxs("div",{className:"rounded-lg border border-neutral-800/70 bg-neutral-950/40 px-3 py-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"NO"}),i.jsxs("p",{className:"text-sm text-neutral-100",children:[ot(g?.no2)," g/m"]})]}),i.jsxs("div",{className:"rounded-lg border border-neutral-800/70 bg-neutral-950/40 px-3 py-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"CO"}),i.jsxs("p",{className:"text-sm text-neutral-100",children:[g?.co!==void 0?ot(g.co/1e3,2):""," mg/m"]})]})]})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-neutral-400",children:[i.jsx("span",{children:Ce}),i.jsxs("span",{children:["Updated ",Hh(g?.time,d?.timezone)," local"]})]})]}),i.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/30 p-6 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Wikipedia snapshot"}),i.jsx("span",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"MediaWiki"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-lg font-semibold text-white",children:x?.title||"No entry found"}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-neutral-300",children:x?.extract||"We could not find a nearby Wikipedia entry."}),i.jsxs("div",{className:"mt-4 grid gap-3 text-xs text-neutral-400 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"uppercase tracking-wider text-neutral-500",children:"Population"}),i.jsx("p",{className:"text-sm text-neutral-200",children:Uh(x?.population)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"uppercase tracking-wider text-neutral-500",children:"Area"}),i.jsx("p",{className:"text-sm text-neutral-200",children:Bh(x?.areaKm2)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"uppercase tracking-wider text-neutral-500",children:"Elevation"}),i.jsx("p",{className:"text-sm text-neutral-200",children:x?.elevationM?`${ot(x.elevationM,0)} m`:""})]}),i.jsxs("div",{children:[i.jsx("p",{className:"uppercase tracking-wider text-neutral-500",children:"Established"}),i.jsx("p",{className:"text-sm text-neutral-200",children:x?.inception||""})]})]}),x?.url&&i.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"mt-3 inline-flex text-sm text-neutral-200 underline-offset-4 hover:underline",children:"Read more on Wikipedia"})]})]}),i.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/30 p-6 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Nearest seismic activity"}),i.jsx("span",{className:"text-xs uppercase tracking-wider text-neutral-500",children:"USGS (last 24h)"})]}),i.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-neutral-400",children:"Closest event"}),i.jsx("p",{className:"text-lg font-semibold text-white",children:b?.title||"No events found"}),i.jsx("p",{className:"text-xs text-neutral-500",children:b?`${ot(b.distanceKm,0)} km away  M${ot(b.magnitude,1)}  ${b.place}`:"Check back later."}),b&&b.distanceKm>500&&i.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:"No seismic activity detected within 500 km in the last 24 hours."})]}),b&&i.jsx("div",{className:"text-xs text-neutral-400",children:new Date(b.time).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short"})})]}),i.jsx("div",{className:"mt-4 border-t border-neutral-800 pt-4 text-xs text-neutral-400",children:S?i.jsxs("span",{children:["Last event within 50 km (last 30 days): ",new Date(S.time).toLocaleDateString("en-GB"),"  M",ot(S.magnitude,1)]}):i.jsx("span",{children:"No events within 50 km in the last 30 days."})})]})]}),U&&i.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-neutral-500",children:"Loading live sources"})]})},Yh=["zeiger","lucas"],Qr=840,Jr=560,Xh=.6,Zh=2.4,Ua=(r,o)=>r.includes(o)?r.filter(l=>l!==o):[...r,o],Zd=r=>(r.includes(";")?r.split(";"):r.split(",")).map(l=>l.trim()).filter(Boolean),os={"zeiger lb":"Lucas Zeiger","zeiger l b":"Lucas Zeiger","zeiger l. b.":"Lucas Zeiger","zeiger lucas":"Lucas Zeiger","lucas b zeiger":"Lucas Zeiger","lucas b. zeiger":"Lucas Zeiger","lucas zeiger":"Lucas Zeiger","lucas z":"Lucas Zeiger","sansom oj":"Owen Sansom","sansom o j":"Owen Sansom","o j sansom":"Owen Sansom"},fs=r=>r.toLowerCase().replace(/[^a-z\s.]/g," ").replace(/\s+/g," ").trim(),vd=r=>r.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),ef=r=>{const l=fs(r).split(" ").filter(Boolean);if(!l.length)return"";if(l.length===1)return l[0];if(l.length===2&&l[1].length<=3)return`${l[0]}-${l[1].charAt(0)}`;const c=l[0];return`${l[l.length-1]}-${c.charAt(0)}`},tf=r=>{const o=fs(r);if(os[o])return os[o];const l=o.split(" ").filter(Boolean);if(l.length===0)return r.trim();if(l.length>=2){const[c,...d]=l,f=d[d.length-1],p=d.slice(0,-1).join(" ");if(p.length>0&&p.length<=3)return vd(`${c} ${f}`)}return vd(o)},e0=r=>{const o=new Map;r.flatMap(d=>Zd(d.authors)).forEach(d=>{const f=fs(d),p=os[f],m=p??tf(d),g=ef(p??d);if(!g)return;o.has(g)||o.set(g,new Map);const y=o.get(g);y&&y.set(m,(y.get(m)??0)+1)});const c=new Map;return o.forEach((d,f)=>{const p=Array.from(d.entries()).sort((m,g)=>g[1]!==m[1]?g[1]-m[1]:g[0].length-m[0].length);p.length&&c.set(f,p[0][0])}),c},t0=r=>r.map(o=>{const d=`${(o.authorsList[0]||"author").split(" ").slice(-1)[0].toLowerCase()}${o.year}`,f=[`title={${o.title}}`,`author={${o.authorsList.join(" and ")}}`,`year={${o.year}}`,o.journal?`journal={${o.journal}}`:"",o.doi?`doi={${o.doi}}`:"",o.url?`url={${o.url}}`:""].filter(Boolean);return`@article{${d},
  ${f.join(`,
  `)}
}`}).join(`

`),n0=r=>JSON.stringify(r.map(o=>({id:o.id,type:"article-journal",title:o.title,issued:{"date-parts":[[o.year]]},"container-title":o.journal||void 0,author:o.authorsList.map(l=>({literal:l})),DOI:o.doi||void 0,URL:o.url||void 0})),null,2),r0=(r,o,l)=>Math.min(l,Math.max(o,r)),a0=(r,o,l,c)=>{const d=Math.min(l,c)*.35,f=r.map((b,P)=>{const S=P/r.length*Math.PI*2;return{...b,x:l/2+Math.cos(S)*d,y:c/2+Math.sin(S)*d}}),p=r.map(()=>({x:0,y:0})),m=new Map(r.map((b,P)=>[b.id,P])),g=160,y=2200,x=.03,N=.85;for(let b=0;b<g;b+=1){for(let P=0;P<f.length;P+=1)for(let S=P+1;S<f.length;S+=1){const E=f[P].x-f[S].x,R=f[P].y-f[S].y,H=Math.sqrt(E*E+R*R)||1,U=y/(H*H),O=E/H*U,z=R/H*U;p[P].x+=O,p[P].y+=z,p[S].x-=O,p[S].y-=z}o.forEach(P=>{const S=m.get(P.source),E=m.get(P.target);if(S===void 0||E===void 0)return;const R=f[E].x-f[S].x,H=f[E].y-f[S].y,U=Math.sqrt(R*R+H*H)||1,O=x*P.weight,z=R/U*O,X=H/U*O;p[S].x+=z,p[S].y+=X,p[E].x-=z,p[E].y-=X});for(let P=0;P<f.length;P+=1)p[P].x*=N,p[P].y*=N,f[P].x+=p[P].x,f[P].y+=p[P].y,f[P].x=Math.min(l-20,Math.max(20,f[P].x)),f[P].y=Math.min(c-20,Math.max(20,f[P].y))}return f},i0=()=>{const r=w.useMemo(()=>{const T=jr.publications,_=e0(T),G=ae=>{const ze=fs(ae),qe=os[ze],Ee=ef(qe??ae);return _.get(Ee)??qe??tf(ae)};return T.map(ae=>({...ae,id:String(ae.id),journal:ae.journal||"Unknown journal",authorsList:Array.from(new Set(Zd(ae.authors).map(G)))})).sort((ae,ze)=>ze.year-ae.year)},[]),o=T=>String(T.id),[l,c]=w.useState(""),[d,f]=w.useState([]),[p,m]=w.useState([]),[g,y]=w.useState([]),[x,N]=w.useState([]),[b,P]=w.useState({}),[S,E]=w.useState(""),[R,H]=w.useState(!1),[U,O]=w.useState(!1),[z,X]=w.useState(1),[ie,he]=w.useState({}),je=w.useRef(null),Ie=w.useRef(null),ge=w.useRef({id:null,offsetX:0,offsetY:0,moved:!1}),Ze=w.useMemo(()=>Array.from(new Set(r.map(T=>T.year))).sort((T,_)=>_-T),[r]),He=w.useMemo(()=>{const T=new Map;return r.forEach(_=>T.set(_.journal,(T.get(_.journal)??0)+1)),Array.from(T.entries()).sort((_,G)=>G[1]-_[1])},[r]),Te=w.useMemo(()=>{const T=new Map;return r.forEach(_=>T.set(_.type,(T.get(_.type)??0)+1)),Array.from(T.entries()).sort((_,G)=>G[1]-_[1])},[r]),et=w.useMemo(()=>{const T=new Map;return r.forEach(_=>{_.authorsList.forEach(G=>{T.set(G,(T.get(G)??0)+1)})}),Array.from(T.entries()).sort((_,G)=>G[1]-_[1])},[r]),Fe=w.useMemo(()=>{const T=l.trim().toLowerCase();return r.filter(_=>{if(d.length&&!d.includes(_.year)||p.length&&!p.includes(_.journal)||g.length&&!g.includes(_.type)||x.length&&!_.authorsList.some(G=>x.includes(G)))return!1;if(T){const G=_.title.toLowerCase().includes(T),ae=_.journal.toLowerCase().includes(T),ze=_.authorsList.some(qe=>qe.toLowerCase().includes(T));return G||ae||ze}return!0})},[r,l,d,p,g,x]),Re=w.useMemo(()=>r.filter(T=>b[o(T)]),[r,b]);w.useEffect(()=>{const T={};Fe.forEach(_=>{T[o(_)]=!0}),P(T)},[Fe]);const me=w.useMemo(()=>{const T=new Map;Re.forEach(Ee=>{Ee.authorsList.forEach(Ue=>{T.set(Ue,(T.get(Ue)??0)+1)})});const _=Array.from(T.entries()).sort((Ee,Ue)=>Ue[1]-Ee[1]).slice(0,24).map(([Ee,Ue])=>({id:Ee,label:Ee,count:Ue})),G=new Set(_.map(Ee=>Ee.id)),ae=new Map;Re.forEach(Ee=>{const Ue=Ee.authorsList.filter(Ge=>G.has(Ge));for(let Ge=0;Ge<Ue.length;Ge+=1)for(let Qe=Ge+1;Qe<Ue.length;Qe+=1){const $=`${Ue[Ge]}|||${Ue[Qe]}`;ae.set($,(ae.get($)??0)+1)}});const ze=Array.from(ae.entries()).map(([Ee,Ue])=>{const[Ge,Qe]=Ee.split("|||");return{source:Ge,target:Qe,weight:Ue}});return{nodes:a0(_,ze,Qr,Jr),edges:ze}},[Re]),Q=w.useMemo(()=>{const T=new Map;return me.nodes.forEach(_=>{T.set(_.id,{x:_.x,y:_.y})}),T},[me]),le=async(T,_)=>{try{await navigator.clipboard.writeText(T),E(`${_} copied to clipboard`)}catch{E("Copy failed: please try again")}window.setTimeout(()=>E(""),2e3)},ne=()=>{const T={};r.forEach(_=>{T[o(_)]=!0}),P(T)},M=()=>{P({})},B=()=>{c(""),f([]),m([]),y([]),N([])},we=T=>Yh.some(_=>T.toLowerCase().includes(_)),Ne=T=>{const _=T<0?1.08:.92;X(G=>r0(G*_,Xh,Zh))};w.useEffect(()=>{const T=je.current;if(!T)return;const _=G=>{G.preventDefault(),G.stopPropagation(),Ne(G.deltaY)};return T.addEventListener("wheel",_,{passive:!1}),()=>{T.removeEventListener("wheel",_)}},[]);const Se=()=>{X(1)},Ce=T=>{const _=Ie.current;if(!_)return{x:0,y:0};const G=_.getBoundingClientRect(),ae=Qr/G.width,ze=Jr/G.height,qe=(T.clientX-G.left)*ae,Ee=(T.clientY-G.top)*ze,Ue=Qr/2,Ge=Jr/2;return{x:Ue+(qe-Ue)/z,y:Ge+(Ee-Ge)/z}},te=(T,_)=>{T.stopPropagation();const G=Ce(T),ae=ie[_]??Q.get(_);ae&&(ge.current={id:_,offsetX:G.x-ae.x,offsetY:G.y-ae.y,moved:!1})},oe=T=>{const _=ge.current.id;if(!_)return;const G=Ce(T);(Math.abs(G.x-(ie[_]?.x??0))>.5||Math.abs(G.y-(ie[_]?.y??0))>.5)&&(ge.current.moved=!0),he(ae=>({...ae,[_]:{x:G.x-ge.current.offsetX,y:G.y-ge.current.offsetY}}))},re=()=>{ge.current.id=null,ge.current.moved=!1},ce=T=>{if(ge.current.moved){ge.current.moved=!1,ge.current.id=null;return}N(_=>Ua(_,T)),ge.current.id=null};return w.useEffect(()=>{const T={};me.nodes.forEach(_=>{T[_.id]={x:_.x,y:_.y}}),he(T)},[me]),i.jsx("div",{className:"space-y-10",children:i.jsxs("section",{className:"grid gap-8 lg:grid-cols-[280px_1fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-sm uppercase tracking-[0.2em] text-neutral-500",children:"Search"}),i.jsx("input",{value:l,onChange:T=>c(T.target.value),placeholder:"Title, journal, author",className:"w-full rounded-lg border border-neutral-800 bg-neutral-950/40 px-3 py-2 text-sm text-neutral-100 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),i.jsx("button",{type:"button",onClick:B,className:"text-xs text-neutral-400 hover:text-white",children:"Clear all filters"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Year"}),i.jsx("div",{className:"space-y-2",children:Ze.map(T=>i.jsx("label",{className:"flex items-center justify-between text-sm text-neutral-300",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:d.includes(T),onChange:()=>f(_=>Ua(_,T)),className:"accent-emerald-400"}),T]})},T))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Type"}),i.jsx("div",{className:"space-y-2",children:Te.map(([T,_])=>i.jsxs("label",{className:"flex items-center justify-between text-sm text-neutral-300",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:g.includes(T),onChange:()=>y(G=>Ua(G,T)),className:"accent-emerald-400"}),T]}),i.jsx("span",{className:"text-xs text-neutral-500",children:_})]},T))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Journal"}),i.jsx("div",{className:"space-y-2",children:(U?He:He.slice(0,6)).map(([T,_])=>i.jsxs("label",{className:"flex items-center justify-between text-sm text-neutral-300",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:p.includes(T),onChange:()=>m(G=>Ua(G,T)),className:"accent-emerald-400"}),i.jsx("span",{className:"truncate",children:T})]}),i.jsx("span",{className:"text-xs text-neutral-500",children:_})]},T))}),He.length>6?i.jsx("button",{type:"button",onClick:()=>O(T=>!T),className:"text-xs text-neutral-400 hover:text-white",children:U?"Show fewer journals":"Show all journals"}):null]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Coauthors"}),i.jsx("div",{className:"space-y-2",children:(R?et:et.slice(0,8)).map(([T,_])=>i.jsxs("label",{className:"flex items-center justify-between text-sm text-neutral-300",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:x.includes(T),onChange:()=>N(G=>Ua(G,T)),className:"accent-emerald-400"}),i.jsx("span",{className:"truncate",children:T})]}),i.jsx("span",{className:"text-xs text-neutral-500",children:_})]},T))}),et.length>8?i.jsx("button",{type:"button",onClick:()=>H(T=>!T),className:"text-xs text-neutral-400 hover:text-white",children:R?"Show fewer coauthors":"Show all coauthors"}):null]})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"rounded-2xl border border-neutral-800/70 bg-neutral-900/40 p-6",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-500",children:"Results"}),i.jsxs("h2",{className:"text-2xl font-semibold text-white",children:[Re.length," publications"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("button",{type:"button",onClick:ne,className:"rounded-full border border-emerald-500/30 px-4 py-2 text-sm text-emerald-100 hover:bg-emerald-500/10",children:"Select all"}),i.jsx("button",{type:"button",onClick:M,className:"rounded-full border border-neutral-700 px-4 py-2 text-sm text-neutral-300 hover:border-neutral-500",children:"Clear selection"})]})]})}),i.jsxs("div",{className:"rounded-2xl border border-neutral-800/70 bg-neutral-900/40 p-6",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Coauthor graph"}),i.jsx("p",{className:"text-sm text-neutral-400",children:"Click nodes to filter publications by collaborator."})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-neutral-500",children:[i.jsxs("span",{children:["Top ",me.nodes.length]}),i.jsx("button",{type:"button",onClick:Se,className:"rounded-full border border-neutral-700 px-3 py-1 text-xs text-neutral-300 hover:border-neutral-500",children:"Reset view"})]})]}),i.jsx("div",{ref:je,className:"mt-4 overflow-hidden rounded-xl border border-neutral-800 bg-neutral-950/40",style:{touchAction:"none",overscrollBehavior:"contain"},children:i.jsx("svg",{ref:Ie,viewBox:`0 0 ${Qr} ${Jr}`,className:"h-[620px] w-full",onPointerMove:oe,onPointerUp:re,onPointerLeave:re,onPointerCancel:re,style:{touchAction:"none"},children:i.jsxs("g",{transform:`translate(${Qr/2} ${Jr/2}) scale(${z}) translate(${-Qr/2} ${-Jr/2})`,children:[me.edges.map(T=>{const _=ie[T.source]??Q.get(T.source),G=ie[T.target]??Q.get(T.target);return!_||!G?null:i.jsx("line",{x1:_.x,y1:_.y,x2:G.x,y2:G.y,stroke:"rgba(148, 163, 184, 0.25)",strokeWidth:Math.max(1,T.weight*.5)},`${T.source}-${T.target}`)}),me.nodes.map(T=>{const _=x.includes(T.id),G=we(T.label),ae=ie[T.id]??{x:T.x,y:T.y};return i.jsxs("g",{onPointerDown:ze=>te(ze,T.id),onPointerUp:()=>ce(T.id),className:"cursor-pointer",children:[i.jsx("circle",{cx:ae.x,cy:ae.y,r:G?14:10,fill:_?"#34d399":G?"#f472b6":"#60a5fa",stroke:"rgba(15, 23, 42, 0.7)",strokeWidth:2}),i.jsx("text",{x:ae.x+14,y:ae.y+5,fontSize:"12",fill:"rgba(226, 232, 240, 0.8)",children:T.label})]},T.id)})]})})}),i.jsx("p",{className:"mt-3 text-xs text-neutral-500",children:"Scroll to zoom  drag nodes to reposition"})]}),i.jsxs("div",{className:"rounded-2xl border border-neutral-800/70 bg-neutral-900/40 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Export selected"}),i.jsx("p",{className:"text-sm text-neutral-400",children:"Export the currently selected publications as BibTeX or CSL JSON."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[i.jsx("button",{type:"button",onClick:()=>le(t0(Re),"BibTeX"),className:"rounded-full border border-emerald-500/60 px-4 py-2 text-sm text-emerald-200 hover:bg-emerald-500/10 disabled:opacity-50",disabled:!Re.length,children:"Copy BibTeX"}),i.jsx("button",{type:"button",onClick:()=>le(n0(Re),"CSL JSON"),className:"rounded-full border border-blue-500/60 px-4 py-2 text-sm text-blue-200 hover:bg-blue-500/10 disabled:opacity-50",disabled:!Re.length,children:"Copy CSL JSON"}),i.jsx("span",{className:"text-sm text-neutral-400",children:Re.length?`${Re.length} selected`:"No publications selected"})]}),S?i.jsx("p",{className:"mt-3 text-sm text-emerald-300",children:S}):null]}),i.jsxs("div",{className:"space-y-4",children:[Re.map(T=>{const _=!!b[o(T)],G=T.url||(T.doi?`https://doi.org/${T.doi}`:void 0);return i.jsx("div",{className:"rounded-2xl border border-neutral-800/70 bg-neutral-900/40 p-5",children:i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("input",{type:"checkbox",checked:_,onChange:()=>{const ae=o(T);P(ze=>{const qe={...ze};return qe[ae]?delete qe[ae]:qe[ae]=!0,qe})},className:"mt-1 accent-emerald-400"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:T.title}),i.jsxs("p",{className:"text-sm text-neutral-400",children:[T.journal,"  ",T.year,"  ",T.type]}),i.jsxs("p",{className:"text-sm text-neutral-500",children:[T.authorsList.slice(0,6).join(", "),T.authorsList.length>6?"":""]})]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:G?i.jsx("a",{href:G,target:"_blank",rel:"noreferrer",className:"text-sm text-emerald-300 hover:text-emerald-200",children:"Open"}):null})]})},T.id)}),Re.length?null:i.jsx("div",{className:"rounded-2xl border border-neutral-800/70 bg-neutral-900/40 p-6 text-neutral-300",children:Fe.length?"No publications selected.":"No publications match these filters."})]})]})]})})};function V(r,o,l){return Math.min(l,Math.max(o,r))}function W(r,o,l,c=8){const d=l.currentTime,f=c/1e3;r.cancelScheduledValues(d),r.setValueAtTime(r.value,d),r.linearRampToValueAtTime(o,d+f)}function Yr(r,o,l){const c=l.currentTime;r.cancelScheduledValues(c),r.setValueAtTime(o,c)}function wd(r){const o=[32,64,128,256,512,1024,2048,4096,8192,16384,32768],l=Math.round(r);let c=o[0],d=Math.abs(l-c);for(const f of o){const p=Math.abs(l-f);p<d&&(c=f,d=p)}return c}function eo(r,o=2048){const l=V(r,0,50),c=new Float32Array(o);for(let d=0;d<o;d+=1){const f=d/(o-1)*2-1;c[d]=Math.atan(f*l)/Math.atan(l)}return c}function as(r,o,l){const c=new ConstantSourceNode(r,{offset:o}),d=new GainNode(r,{gain:l}),f=new GainNode(r,{gain:1});c.connect(f),d.connect(f),c.start();const p=new GainNode(r,{gain:0}),m=new GainNode(r,{gain:0});f.connect(p.gain);const g=new ConstantSourceNode(r,{offset:1}),y=new GainNode(r,{gain:-1});return f.connect(y),g.connect(m.gain),y.connect(m.gain),g.start(),{mixPos:c,mixCvIn:d,mixSum:f,wet:p,dry:m,one:g,inv:y,setMix:x=>W(c.offset,V(x,-2,2),r,20),setDepth:x=>W(d.gain,V(x,0,4),r,20),dispose:()=>{try{c.stop(),g.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect()}}}function to(r,o,l){const c=V(l,.05,8),d=Math.max(1,Math.floor(r.sampleRate*c)),f=new AudioBuffer({length:d,numberOfChannels:1,sampleRate:r.sampleRate}),p=f.getChannelData(0),m=V(Math.round(o),0,3);for(let g=0;g<d;g+=1){const y=g/(d-1);let x=1-y;m===0&&(x=Math.pow(x,2.2)),m===1&&(x=Math.pow(x,3.6)),m===2&&(x=Math.pow(x,2.8)),m===3&&(x=Math.pow(x,1.8));let N=(Math.random()*2-1)*x;m===2&&(N+=Math.sin(2*Math.PI*(200+600*y)*(g/r.sampleRate))*x*.15),m===3&&(N+=Math.sin(2*Math.PI*(120+1200*y)*(g/r.sampleRate))*x*.2),p[g]=N}return f}function kd(r,o,l,c){const d=new ConstantSourceNode(r,{offset:o}),f=new GainNode(r,{gain:l});return d.connect(c),f.connect(c),d.start(),{base:d,modIn:f,setBase:p=>W(d.offset,p,r),setDepth:p=>W(f.gain,p,r),dispose:()=>{try{d.stop()}catch{}d.disconnect(),f.disconnect()}}}const br={keyboard:{type:"keyboard",title:"Keyboard",inputs:[],outputs:[{id:"pitch",name:"PITCH (Hz)",dir:"out",kind:"pitch"},{id:"pitch3",name:"PITCH (V2)",dir:"out",kind:"pitch"},{id:"pitch5",name:"PITCH (V3)",dir:"out",kind:"pitch"},{id:"gate",name:"GATE",dir:"out",kind:"gate"}],params:[{id:"pitchHz",label:"Pitch (Hz)",min:20,max:2e3,step:.01,defaultValue:110},{id:"glideMs",label:"Glide (ms)",min:0,max:500,step:1,defaultValue:0},{id:"gate",label:"Gate (0/1)",min:0,max:1,step:1,defaultValue:0},{id:"trigMs",label:"Trig (ms)",min:1,max:200,step:1,defaultValue:10}],create:(r,o)=>{const l=new ConstantSourceNode(r,{offset:o.params.pitchHz??110}),c=new ConstantSourceNode(r,{offset:o.params.pitch3Hz??o.params.pitchHz??110}),d=new ConstantSourceNode(r,{offset:o.params.pitch5Hz??o.params.pitchHz??110});l.start(),c.start(),d.start();const f=new AudioWorkletNode(r,"gate-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[1]}),p=f.parameters.get("gate");let m=o.params.glideMs??0;const g={id:o.id,type:"keyboard",inputs:{},outputs:{pitch:l,pitch3:c,pitch5:d,gate:f},setParam:(y,x)=>{if(y==="pitchHz"){const N=m,b=r.currentTime,P=V(x,20,2e4);l.offset.cancelScheduledValues(b),l.offset.setValueAtTime(l.offset.value,b),N<=0?l.offset.setValueAtTime(P,b):l.offset.linearRampToValueAtTime(P,b+N/1e3)}y==="pitch3Hz"&&W(c.offset,V(x,20,2e4),r),y==="pitch5Hz"&&W(d.offset,V(x,20,2e4),r),y==="glideMs"&&(m=V(x,0,500)),y==="gate"&&p&&(p.value=x>=.5?1:0)},dispose:()=>{try{l.stop(),c.stop(),d.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect()}};return p&&(p.value=(o.params.gate??0)>=.5?1:0),g}},osc:{type:"osc",title:"Osc",inputs:[{id:"pitch",name:"PITCH",dir:"in",kind:"pitch"},{id:"fm",name:"FM",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"baseHz",label:"Base (Hz)",min:0,max:2e3,step:.01,defaultValue:110},{id:"pitchAmt",label:"Pitch Amt",min:0,max:2,step:.001,defaultValue:1},{id:"fmDepthHz",label:"FM Depth (Hz)",min:0,max:4e3,step:1,defaultValue:0},{id:"level",label:"Level",min:0,max:1,step:.001,defaultValue:.2},{id:"wave",label:"Wave (0=sine 1=saw 2=square 3=tri)",min:0,max:3,step:1,defaultValue:1}],create:(r,o)=>{const l=new OscillatorNode(r,{type:"sawtooth",frequency:0}),c=new GainNode(r,{gain:o.params.level??.2}),d=kd(r,o.params.baseHz??110,0,l.frequency),f=new GainNode(r,{gain:o.params.pitchAmt??1});f.connect(l.frequency);const p=new GainNode(r,{gain:o.params.fmDepthHz??0});p.connect(l.frequency),l.connect(c),l.start();const m=["sine","sawtooth","square","triangle"],g=x=>{const N=Math.round(V(x,0,3));l.type=m[N]};return g(o.params.wave??1),{id:o.id,type:"osc",inputs:{pitch:f,fm:p},outputs:{out:c},setParam:(x,N)=>{x==="baseHz"&&d.setBase(V(N,0,2e4)),x==="pitchAmt"&&W(f.gain,V(N,0,4),r),x==="fmDepthHz"&&W(p.gain,V(N,0,2e4),r),x==="level"&&W(c.gain,V(N,0,1),r),x==="wave"&&g(N)},dispose:()=>{try{l.stop()}catch{}l.disconnect(),c.disconnect(),f.disconnect(),p.disconnect(),d.dispose()}}}},filter:{type:"filter",title:"Filter",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"cutoffCv",name:"CUTOFF CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"cutoff",label:"Cutoff (Hz)",min:20,max:2e4,step:1,defaultValue:1200},{id:"cutoffDepthHz",label:"Cutoff Depth (Hz)",min:0,max:12e3,step:1,defaultValue:0},{id:"q",label:"Res (Q)",min:.1,max:30,step:.01,defaultValue:.7}],create:(r,o)=>{const l=new BiquadFilterNode(r,{type:"lowpass",frequency:0,Q:o.params.q??.7}),c=kd(r,o.params.cutoff??1200,0,l.frequency),d=new GainNode(r,{gain:o.params.cutoffDepthHz??0});return d.connect(l.frequency),{id:o.id,type:"filter",inputs:{in:l,cutoffCv:d},outputs:{out:l},setParam:(p,m)=>{p==="cutoff"&&c.setBase(V(m,20,2e4)),p==="cutoffDepthHz"&&W(d.gain,V(m,0,2e4),r),p==="q"&&W(l.Q,V(m,.1,40),r)},dispose:()=>{l.disconnect(),d.disconnect(),c.dispose()}}}},adsr:{type:"adsr",title:"ADSR",inputs:[{id:"gate",name:"GATE",dir:"in",kind:"gate"}],outputs:[{id:"env",name:"ENV",dir:"out",kind:"cv"}],params:[{id:"attack",label:"Attack (s)",min:0,max:5,step:.001,defaultValue:.01},{id:"decay",label:"Decay (s)",min:0,max:5,step:.001,defaultValue:.15},{id:"sustain",label:"Sustain",min:0,max:1,step:.001,defaultValue:.6},{id:"release",label:"Release (s)",min:0,max:5,step:.001,defaultValue:.2}],create:(r,o)=>{const l=new AudioWorkletNode(r,"adsr-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]}),c=l.parameters;return c.get("attack").value=o.params.attack??.01,c.get("decay").value=o.params.decay??.15,c.get("sustain").value=o.params.sustain??.6,c.get("release").value=o.params.release??.2,{id:o.id,type:"adsr",inputs:{gate:l},outputs:{env:l},setParam:(f,p)=>{const m=l.parameters.get(f);m&&W(m,p,r,12)},dispose:()=>{l.disconnect()}}}},vca:{type:"vca",title:"VCA",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"cv",name:"CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"bias",label:"Bias",min:0,max:1,step:.001,defaultValue:0},{id:"cvDepth",label:"CV Depth",min:0,max:2,step:.001,defaultValue:1}],create:(r,o)=>{const l=new GainNode(r,{gain:0}),c=new ConstantSourceNode(r,{offset:o.params.bias??0}),d=new GainNode(r,{gain:o.params.cvDepth??1});return c.connect(l.gain),d.connect(l.gain),c.start(),{id:o.id,type:"vca",inputs:{in:l,cv:d},outputs:{out:l},setParam:(p,m)=>{p==="bias"&&W(c.offset,V(m,0,1),r),p==="cvDepth"&&W(d.gain,V(m,0,4),r)},dispose:()=>{try{c.stop()}catch{}c.disconnect(),d.disconnect(),l.disconnect()}}}},lfo:{type:"lfo",title:"LFO",inputs:[],outputs:[{id:"out",name:"OUT",dir:"out",kind:"cv"}],params:[{id:"rate",label:"Rate (Hz)",min:.01,max:40,step:.01,defaultValue:4},{id:"depth",label:"Depth",min:0,max:1,step:.001,defaultValue:1},{id:"wave",label:"Wave (0=sine 1=saw 2=square 3=tri)",min:0,max:3,step:1,defaultValue:0}],create:(r,o)=>{const l=new OscillatorNode(r,{type:"sine",frequency:o.params.rate??4}),c=new GainNode(r,{gain:o.params.depth??1});l.connect(c),l.start();const d=["sine","sawtooth","square","triangle"],f=m=>{l.type=d[Math.round(V(m,0,3))]};return f(o.params.wave??0),{id:o.id,type:"lfo",inputs:{},outputs:{out:c},setParam:(m,g)=>{m==="rate"&&W(l.frequency,V(g,.01,200),r),m==="depth"&&W(c.gain,V(g,0,2),r),m==="wave"&&f(g)},dispose:()=>{try{l.stop()}catch{}l.disconnect(),c.disconnect()}}}},arp:{type:"arp",title:"Arp",inputs:[{id:"clock",name:"CLOCK",dir:"in",kind:"gate"},{id:"root",name:"ROOT (Hz)",dir:"in",kind:"pitch"}],outputs:[{id:"pitch",name:"PITCH (Hz)",dir:"out",kind:"pitch"},{id:"gate",name:"GATE",dir:"out",kind:"gate"}],params:[{id:"rootHz",label:"Root (Hz)",min:40,max:1e3,step:.01,defaultValue:220},{id:"interval",label:"Interval (st)",min:1,max:24,step:1,defaultValue:7},{id:"steps",label:"Steps",min:1,max:8,step:1,defaultValue:4},{id:"pattern",label:"Pattern (0=up 1=down 2=updown)",min:0,max:2,step:1,defaultValue:0},{id:"gateMs",label:"Gate (ms)",min:5,max:400,step:1,defaultValue:120}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new AudioWorkletNode(r,"arp-pitch-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]}),f=new AudioWorkletNode(r,"arp-gate-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]});l.connect(d),l.connect(f);const p=new ConstantSourceNode(r,{offset:o.params.rootHz??220});p.connect(d.parameters.get("rootHz")),c.connect(d.parameters.get("rootHz")),p.start();const m=(x,N)=>{const b=d.parameters.get(x),P=f.parameters.get(x);b&&W(b,N,r,12),P&&W(P,N,r,12)};m("interval",o.params.interval??7),m("steps",o.params.steps??4),m("pattern",o.params.pattern??0);const g=f.parameters.get("gateMs");return g&&(g.value=o.params.gateMs??120),{id:o.id,type:"arp",inputs:{clock:l,root:c},outputs:{pitch:d,gate:f},setParam:(x,N)=>{if(x==="rootHz"){W(p.offset,N,r,12);return}if(x==="gateMs"){const b=f.parameters.get("gateMs");b&&W(b,N,r,12);return}m(x,N)},dispose:()=>{try{p.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect()}}}},offset:{type:"offset",title:"Offset",inputs:[],outputs:[{id:"out",name:"OUT",dir:"out",kind:"cv"}],params:[{id:"value",label:"Value",min:-1,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new ConstantSourceNode(r,{offset:o.params.value??0});return l.start(),{id:o.id,type:"offset",inputs:{},outputs:{out:l},setParam:(d,f)=>{d==="value"&&W(l.offset,V(f,-10,10),r,12)},dispose:()=>{try{l.stop()}catch{}l.disconnect()}}}},attenuverter:{type:"attenuverter",title:"Attenuverter",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"amount",label:"Amount (-1..1)",min:-1,max:1,step:.001,defaultValue:1}],create:(r,o)=>{const l=new GainNode(r,{gain:o.params.amount??1});return{id:o.id,type:"attenuverter",inputs:{in:l},outputs:{out:l},setParam:(d,f)=>{d==="amount"&&W(l.gain,V(f,-4,4),r)},dispose:()=>{l.disconnect()}}}},mixer:{type:"mixer",title:"Mixer",inputs:[{id:"in1",name:"IN 1",dir:"in",kind:"audio"},{id:"in2",name:"IN 2",dir:"in",kind:"audio"},{id:"in3",name:"IN 3",dir:"in",kind:"audio"},{id:"in4",name:"IN 4",dir:"in",kind:"audio"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"level1",label:"Level 1",min:0,max:2,step:.001,defaultValue:1},{id:"level2",label:"Level 2",min:0,max:2,step:.001,defaultValue:1},{id:"level3",label:"Level 3",min:0,max:2,step:.001,defaultValue:1},{id:"level4",label:"Level 4",min:0,max:2,step:.001,defaultValue:1},{id:"master",label:"Master",min:0,max:2,step:.001,defaultValue:1}],create:(r,o)=>{const l=new GainNode(r,{gain:o.params.level1??1}),c=new GainNode(r,{gain:o.params.level2??1}),d=new GainNode(r,{gain:o.params.level3??1}),f=new GainNode(r,{gain:o.params.level4??1}),p=new GainNode(r,{gain:o.params.master??1});return l.connect(p),c.connect(p),d.connect(p),f.connect(p),{id:o.id,type:"mixer",inputs:{in1:l,in2:c,in3:d,in4:f},outputs:{out:p},setParam:(g,y)=>{g==="level1"&&W(l.gain,V(y,0,4),r),g==="level2"&&W(c.gain,V(y,0,4),r),g==="level3"&&W(d.gain,V(y,0,4),r),g==="level4"&&W(f.gain,V(y,0,4),r),g==="master"&&W(p.gain,V(y,0,4),r)},dispose:()=>{l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect()}}}},scope:{type:"scope",title:"Scope",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"thru",label:"Thru (0=tap,1=inline)",min:0,max:1,step:1,defaultValue:1},{id:"view",label:"View (0=time,1=fft)",min:0,max:1,step:1,defaultValue:0},{id:"fftSize",label:"FFT Size",min:32,max:32768,step:1,defaultValue:2048},{id:"smoothing",label:"Smoothing",min:0,max:1,step:.01,defaultValue:.85},{id:"minDb",label:"Min dB",min:-120,max:-10,step:1,defaultValue:-90},{id:"maxDb",label:"Max dB",min:-120,max:0,step:1,defaultValue:-10}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new AnalyserNode(r,{fftSize:wd(o.params.fftSize??2048),smoothingTimeConstant:V(o.params.smoothing??.85,0,1),minDecibels:V(o.params.minDb??-90,-120,-10),maxDecibels:V(o.params.maxDb??-10,-120,0)}),d=new GainNode(r,{gain:o.params.thru??1});return l.connect(c),c.connect(d),{id:o.id,type:"scope",inputs:{in:l},outputs:{out:d},viz:{analyser:c},setParam:(p,m)=>{p==="thru"&&W(d.gain,m>=.5?1:0,r,10),p!=="view"&&(p==="fftSize"&&(c.fftSize=wd(m)),p==="smoothing"&&(c.smoothingTimeConstant=V(m,0,1)),p==="minDb"&&(c.minDecibels=V(m,-120,-10)),p==="maxDb"&&(c.maxDecibels=V(m,-120,0)))},dispose:()=>{l.disconnect(),c.disconnect(),d.disconnect()}}}},vcmixer:{type:"vcmixer",title:"VC Mixer",inputs:[{id:"in1",name:"IN 1",dir:"in",kind:"audio"},{id:"cv1",name:"CV 1",dir:"in",kind:"cv"},{id:"in2",name:"IN 2",dir:"in",kind:"audio"},{id:"cv2",name:"CV 2",dir:"in",kind:"cv"},{id:"in3",name:"IN 3",dir:"in",kind:"audio"},{id:"cv3",name:"CV 3",dir:"in",kind:"cv"},{id:"in4",name:"IN 4",dir:"in",kind:"audio"},{id:"cv4",name:"CV 4",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"level1",label:"Level 1",min:0,max:2,step:.001,defaultValue:1},{id:"depth1",label:"CV Depth 1",min:0,max:2,step:.001,defaultValue:0},{id:"level2",label:"Level 2",min:0,max:2,step:.001,defaultValue:1},{id:"depth2",label:"CV Depth 2",min:0,max:2,step:.001,defaultValue:0},{id:"level3",label:"Level 3",min:0,max:2,step:.001,defaultValue:1},{id:"depth3",label:"CV Depth 3",min:0,max:2,step:.001,defaultValue:0},{id:"level4",label:"Level 4",min:0,max:2,step:.001,defaultValue:1},{id:"depth4",label:"CV Depth 4",min:0,max:2,step:.001,defaultValue:0},{id:"master",label:"Master",min:0,max:2,step:.001,defaultValue:1}],create:(r,o)=>{const l=new GainNode(r,{gain:o.params.master??1}),c=[new GainNode(r,{gain:0}),new GainNode(r,{gain:0}),new GainNode(r,{gain:0}),new GainNode(r,{gain:0})],d=[new ConstantSourceNode(r,{offset:o.params.level1??1}),new ConstantSourceNode(r,{offset:o.params.level2??1}),new ConstantSourceNode(r,{offset:o.params.level3??1}),new ConstantSourceNode(r,{offset:o.params.level4??1})],f=[new GainNode(r,{gain:o.params.depth1??0}),new GainNode(r,{gain:o.params.depth2??0}),new GainNode(r,{gain:o.params.depth3??0}),new GainNode(r,{gain:o.params.depth4??0})];for(let m=0;m<4;m+=1)d[m].connect(c[m].gain),f[m].connect(c[m].gain),d[m].start(),c[m].connect(l);return{id:o.id,type:"vcmixer",inputs:{in1:c[0],cv1:f[0],in2:c[1],cv2:f[1],in3:c[2],cv3:f[2],in4:c[3],cv4:f[3]},outputs:{out:l},setParam:(m,g)=>{m==="master"&&W(l.gain,V(g,0,4),r),m==="level1"&&W(d[0].offset,V(g,0,4),r),m==="depth1"&&W(f[0].gain,V(g,0,4),r),m==="level2"&&W(d[1].offset,V(g,0,4),r),m==="depth2"&&W(f[1].gain,V(g,0,4),r),m==="level3"&&W(d[2].offset,V(g,0,4),r),m==="depth3"&&W(f[2].gain,V(g,0,4),r),m==="level4"&&W(d[3].offset,V(g,0,4),r),m==="depth4"&&W(f[3].gain,V(g,0,4),r)},dispose:()=>{for(let m=0;m<4;m+=1){try{d[m].stop()}catch{}d[m].disconnect(),f[m].disconnect(),c[m].disconnect()}l.disconnect()}}}},cvproc:{type:"cvproc",title:"CV Proc",inputs:[{id:"in",name:"IN",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"cv"}],params:[{id:"scale",label:"Scale",min:-4,max:4,step:.001,defaultValue:1},{id:"offset",label:"Offset",min:-1,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:o.params.scale??1}),c=new GainNode(r,{gain:1}),d=new ConstantSourceNode(r,{offset:o.params.offset??0});return d.start(),l.connect(c),d.connect(c),{id:o.id,type:"cvproc",inputs:{in:l},outputs:{out:c},setParam:(p,m)=>{p==="scale"&&W(l.gain,V(m,-8,8),r),p==="offset"&&W(d.offset,V(m,-10,10),r,12)},dispose:()=>{try{d.stop()}catch{}d.disconnect(),l.disconnect(),c.disconnect()}}}},crossfader:{type:"crossfader",title:"Crossfader",inputs:[{id:"a",name:"A",dir:"in",kind:"audio"},{id:"b",name:"B",dir:"in",kind:"audio"},{id:"cv",name:"CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"pos",label:"Pos (0..1)",min:0,max:1,step:.001,defaultValue:.5},{id:"cvDepth",label:"CV Depth",min:0,max:2,step:.001,defaultValue:1}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new GainNode(r,{gain:0}),p=new ConstantSourceNode(r,{offset:o.params.pos??.5});p.start();const m=new GainNode(r,{gain:o.params.cvDepth??1}),g=new GainNode(r,{gain:1});p.connect(g),m.connect(g),g.connect(f.gain);const y=new ConstantSourceNode(r,{offset:1});y.start();const x=new GainNode(r,{gain:-1});g.connect(x),y.connect(d.gain),x.connect(d.gain),l.connect(d),c.connect(f);const N=new GainNode(r,{gain:1});return d.connect(N),f.connect(N),{id:o.id,type:"crossfader",inputs:{a:l,b:c,cv:m},outputs:{out:N},setParam:(P,S)=>{P==="pos"&&W(p.offset,V(S,-4,4),r,12),P==="cvDepth"&&W(m.gain,V(S,0,8),r)},dispose:()=>{try{p.stop(),y.stop()}catch{}p.disconnect(),y.disconnect(),m.disconnect(),g.disconnect(),x.disconnect(),l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),N.disconnect()}}}},slew:{type:"slew",title:"Slew",inputs:[{id:"in",name:"IN",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"cv"}],params:[{id:"rise",label:"Rise (s)",min:0,max:5,step:.001,defaultValue:.05},{id:"fall",label:"Fall (s)",min:0,max:5,step:.001,defaultValue:.05}],create:(r,o)=>{const l=new AudioWorkletNode(r,"slew-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]}),c=o.params.rise??.05,d=o.params.fall??.05;return l.parameters.get("rise").value=c,l.parameters.get("fall").value=d,{id:o.id,type:"slew",inputs:{in:l},outputs:{out:l},setParam:(p,m)=>{const g=l.parameters.get(p);g&&W(g,V(m,0,10),r,20)},dispose:()=>{l.disconnect()}}}},samplehold:{type:"samplehold",title:"S&H",inputs:[{id:"in",name:"IN",dir:"in",kind:"cv"},{id:"clk",name:"CLK",dir:"in",kind:"gate"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"cv"}],params:[{id:"threshold",label:"Thresh",min:-1,max:1,step:.01,defaultValue:.5}],create:(r,o)=>{const l=new AudioWorkletNode(r,"samplehold-processor",{numberOfInputs:2,numberOfOutputs:1,outputChannelCount:[1]});l.parameters.get("threshold").value=o.params.threshold??.5;const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1});return c.connect(l,0,0),d.connect(l,0,1),{id:o.id,type:"samplehold",inputs:{in:c,clk:d},outputs:{out:l},setParam:(p,m)=>{const g=l.parameters.get(p);g&&W(g,V(m,-1,1),r,20)},dispose:()=>{c.disconnect(),d.disconnect(),l.disconnect()}}}},quantizer:{type:"quantizer",title:"Quantizer",inputs:[{id:"in",name:"IN (Hz)",dir:"in",kind:"pitch"}],outputs:[{id:"out",name:"OUT (Hz)",dir:"out",kind:"pitch"}],params:[{id:"enabled",label:"Enabled",min:0,max:1,step:1,defaultValue:1},{id:"root",label:"Root (0=C..11=B)",min:0,max:11,step:1,defaultValue:0},{id:"scale",label:"Scale (0=chr 1=maj 2=min 3=pent 4=blu)",min:0,max:4,step:1,defaultValue:0},{id:"transpose",label:"Transpose (st)",min:-24,max:24,step:1,defaultValue:0}],create:(r,o)=>{const l=new AudioWorkletNode(r,"quantizer-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]}),c=o.params.enabled??1,d=o.params.root??0,f=o.params.scale??0,p=o.params.transpose??0;return l.parameters.get("enabled").value=c,l.parameters.get("root").value=d,l.parameters.get("scale").value=f,l.parameters.get("transpose").value=p,{id:o.id,type:"quantizer",inputs:{in:l},outputs:{out:l},setParam:(g,y)=>{g==="enabled"&&Yr(l.parameters.get("enabled"),y>=.5?1:0,r),g==="root"&&Yr(l.parameters.get("root"),V(Math.round(y),0,11),r),g==="scale"&&Yr(l.parameters.get("scale"),V(Math.round(y),0,4),r),g==="transpose"&&Yr(l.parameters.get("transpose"),V(Math.round(y),-48,48),r)},dispose:()=>{l.disconnect()}}}},logic:{type:"logic",title:"Logic",inputs:[{id:"a",name:"A",dir:"in",kind:"gate"},{id:"b",name:"B",dir:"in",kind:"gate"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"gate"}],params:[{id:"mode",label:"Mode (0..7)",min:0,max:7,step:1,defaultValue:0},{id:"threshold",label:"Thresh",min:-1,max:1,step:.01,defaultValue:.5}],create:(r,o)=>{const l=new AudioWorkletNode(r,"logic-processor",{numberOfInputs:2,numberOfOutputs:1,outputChannelCount:[1]});l.parameters.get("mode").value=o.params.mode??0,l.parameters.get("threshold").value=o.params.threshold??.5;const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1});return c.connect(l,0,0),d.connect(l,0,1),{id:o.id,type:"logic",inputs:{a:c,b:d},outputs:{out:l},setParam:(p,m)=>{p==="mode"&&Yr(l.parameters.get("mode"),V(Math.round(m),0,7),r),p==="threshold"&&W(l.parameters.get("threshold"),V(m,-1,1),r,20)},dispose:()=>{c.disconnect(),d.disconnect(),l.disconnect()}}}},noise:{type:"noise",title:"Noise",inputs:[],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"type",label:"Type (0=white,1=pink)",min:0,max:1,step:1,defaultValue:0},{id:"level",label:"Level",min:0,max:1,step:.001,defaultValue:.2}],create:(r,o)=>{const l=new AudioWorkletNode(r,"noise-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[1]});return l.parameters.get("type").value=o.params.type??0,l.parameters.get("level").value=o.params.level??.2,{id:o.id,type:"noise",inputs:{},outputs:{out:l},setParam:(d,f)=>{d==="type"&&Yr(l.parameters.get("type"),f>=.5?1:0,r),d==="level"&&W(l.parameters.get("level"),V(f,0,1),r,12)},dispose:()=>{l.disconnect()}}}},delay:{type:"delay",title:"Delay",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"timeCv",name:"TIME CV",dir:"in",kind:"cv"},{id:"fbCv",name:"FB CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"time",label:"Time (s)",min:0,max:2,step:.001,defaultValue:.25},{id:"timeDepth",label:"Time Depth (s)",min:0,max:2,step:.001,defaultValue:0},{id:"feedback",label:"Feedback",min:0,max:.95,step:.001,defaultValue:.35},{id:"fbDepth",label:"FB Depth",min:0,max:.95,step:.001,defaultValue:0},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.3},{id:"mixDepth",label:"Mix Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new DelayNode(r,{maxDelayTime:2,delayTime:0}),p=new GainNode(r,{gain:0}),m=new ConstantSourceNode(r,{offset:o.params.time??.25}),g=new GainNode(r,{gain:o.params.timeDepth??0});m.connect(f.delayTime),g.connect(f.delayTime),m.start();const y=new ConstantSourceNode(r,{offset:o.params.feedback??.35}),x=new GainNode(r,{gain:o.params.fbDepth??0});y.connect(p.gain),x.connect(p.gain),y.start();const N=new ConstantSourceNode(r,{offset:o.params.mix??.3}),b=new GainNode(r,{gain:o.params.mixDepth??0}),P=new GainNode(r,{gain:1});N.connect(P),b.connect(P),N.start();const S=new GainNode(r,{gain:0}),E=new GainNode(r,{gain:0});P.connect(S.gain);const R=new ConstantSourceNode(r,{offset:1}),H=new GainNode(r,{gain:-1});return P.connect(H),R.connect(E.gain),H.connect(E.gain),R.start(),c.connect(E).connect(d),c.connect(f),f.connect(S).connect(d),f.connect(p).connect(f),{id:o.id,type:"delay",inputs:{in:c,timeCv:g,fbCv:x,mixCv:b},outputs:{out:d},setParam:(O,z)=>{O==="time"&&W(m.offset,V(z,0,2),r,20),O==="timeDepth"&&W(g.gain,V(z,0,2),r,20),O==="feedback"&&W(y.offset,V(z,0,.95),r,20),O==="fbDepth"&&W(x.gain,V(z,0,.95),r,20),O==="mix"&&W(N.offset,V(z,-2,2),r,20),O==="mixDepth"&&W(b.gain,V(z,0,4),r,20)},dispose:()=>{try{m.stop(),y.stop(),N.stop(),R.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),P.disconnect(),S.disconnect(),E.disconnect(),R.disconnect(),H.disconnect()}}}},distortion:{type:"distortion",title:"Distortion",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"driveCv",name:"DRIVE CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"drive",label:"Drive",min:0,max:1,step:.001,defaultValue:.4},{id:"driveDepth",label:"Drive Depth",min:0,max:40,step:.01,defaultValue:0},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.7},{id:"mixDepth",label:"Mix Depth",min:0,max:1,step:.001,defaultValue:0},{id:"post",label:"Post",min:0,max:2,step:.001,defaultValue:1},{id:"oversample",label:"Over (0=none 1=2x 2=4x)",min:0,max:2,step:1,defaultValue:2}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new ConstantSourceNode(r,{offset:1}),p=new GainNode(r,{gain:o.params.driveDepth??0});f.connect(d.gain),p.connect(d.gain),f.start();const m=new WaveShaperNode(r,{curve:eo(1),oversample:"4x"}),g=new GainNode(r,{gain:o.params.post??1}),y=new ConstantSourceNode(r,{offset:o.params.mix??.7}),x=new GainNode(r,{gain:o.params.mixDepth??0}),N=new GainNode(r,{gain:1});y.connect(N),x.connect(N),y.start();const b=new GainNode(r,{gain:0}),P=new GainNode(r,{gain:0});N.connect(b.gain);const S=new ConstantSourceNode(r,{offset:1}),E=new GainNode(r,{gain:-1});N.connect(E),S.connect(P.gain),E.connect(P.gain),S.start(),l.connect(P).connect(c),l.connect(d),d.connect(m),m.connect(g),g.connect(b).connect(c);const H=1+(o.params.drive??.4)*40;m.curve=eo(H),f.offset.value=H;const U=Math.round(o.params.oversample??2);return m.oversample=U===0?"none":U===1?"2x":"4x",{id:o.id,type:"distortion",inputs:{in:l,driveCv:p,mixCv:x},outputs:{out:c},setParam:(z,X)=>{if(z==="drive"){const he=1+V(X,0,1)*40;m.curve=eo(he),W(f.offset,he,r,20)}if(z==="driveDepth"&&W(p.gain,V(X,0,80),r,20),z==="mix"&&W(y.offset,V(X,-2,2),r,20),z==="mixDepth"&&W(x.gain,V(X,0,4),r,20),z==="post"&&W(g.gain,V(X,0,4),r,20),z==="oversample"){const ie=V(Math.round(X),0,2);m.oversample=ie===0?"none":ie===1?"2x":"4x"}},dispose:()=>{try{f.stop(),y.stop(),S.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),m.disconnect(),g.disconnect(),f.disconnect(),p.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),P.disconnect(),S.disconnect(),E.disconnect()}}}},chorus:{type:"chorus",title:"Chorus",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"rateCv",name:"RATE CV",dir:"in",kind:"cv"},{id:"depthCv",name:"DEPTH CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"rate",label:"Rate (Hz)",min:.01,max:10,step:.01,defaultValue:.8},{id:"rateDepthHz",label:"Rate CV Depth (Hz)",min:0,max:20,step:.01,defaultValue:0},{id:"baseDelay",label:"Base (s)",min:0,max:.05,step:1e-4,defaultValue:.02},{id:"depth",label:"Depth (s)",min:0,max:.02,step:1e-4,defaultValue:.005},{id:"depthCvDepth",label:"Depth CV Depth (s)",min:0,max:.02,step:1e-4,defaultValue:0},{id:"feedback",label:"Feedback",min:0,max:.95,step:.001,defaultValue:0},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.5},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new GainNode(r,{gain:0}),p=new GainNode(r,{gain:0}),m=new DelayNode(r,{maxDelayTime:.05,delayTime:0}),g=new GainNode(r,{gain:o.params.feedback??0}),y=new ConstantSourceNode(r,{offset:o.params.baseDelay??.02});y.connect(m.delayTime),y.start();const x=new OscillatorNode(r,{type:"sine",frequency:o.params.rate??.8}),N=new GainNode(r,{gain:o.params.depth??.005});x.connect(N),N.connect(m.delayTime),x.start();const b=new GainNode(r,{gain:o.params.rateDepthHz??0});b.connect(x.frequency);const P=new GainNode(r,{gain:o.params.depthCvDepth??0});P.connect(N.gain);const S=new ConstantSourceNode(r,{offset:o.params.mix??.5}),E=new GainNode(r,{gain:o.params.mixDepth??0}),R=new GainNode(r,{gain:1});S.connect(R),E.connect(R),S.start(),R.connect(p.gain);const H=new ConstantSourceNode(r,{offset:1}),U=new GainNode(r,{gain:-1});return R.connect(U),H.connect(f.gain),U.connect(f.gain),H.start(),c.connect(f).connect(d),c.connect(m),m.connect(p).connect(d),m.connect(g).connect(m),{id:o.id,type:"chorus",inputs:{in:c,rateCv:b,depthCv:P,mixCv:E},outputs:{out:d},setParam:(z,X)=>{z==="rate"&&W(x.frequency,V(X,.01,40),r),z==="rateDepthHz"&&W(b.gain,V(X,0,80),r,20),z==="baseDelay"&&W(y.offset,V(X,0,.05),r,20),z==="depth"&&W(N.gain,V(X,0,.05),r,20),z==="depthCvDepth"&&W(P.gain,V(X,0,.05),r,20),z==="feedback"&&W(g.gain,V(X,0,.95),r,20),z==="mix"&&W(S.offset,V(X,-2,2),r,20),z==="mixDepth"&&W(E.gain,V(X,0,4),r,20)},dispose:()=>{try{y.stop(),S.stop(),H.stop(),x.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),P.disconnect(),S.disconnect(),E.disconnect(),R.disconnect(),H.disconnect(),U.disconnect()}}}},phaser:{type:"phaser",title:"Phaser",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"freqCv",name:"FREQ CV",dir:"in",kind:"cv"},{id:"rateCv",name:"RATE CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"baseFreq",label:"Base (Hz)",min:20,max:4e3,step:1,defaultValue:700},{id:"depthHz",label:"Depth (Hz)",min:0,max:4e3,step:1,defaultValue:600},{id:"freqCvDepthHz",label:"Freq CV Depth (Hz)",min:0,max:8e3,step:1,defaultValue:0},{id:"rate",label:"Rate (Hz)",min:.01,max:10,step:.01,defaultValue:.4},{id:"rateDepthHz",label:"Rate CV Depth (Hz)",min:0,max:20,step:.01,defaultValue:0},{id:"feedback",label:"Feedback",min:0,max:.95,step:.001,defaultValue:.2},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.5},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:0}),f=new GainNode(r,{gain:0}),p=new GainNode(r,{gain:1}),m=[new BiquadFilterNode(r,{type:"allpass",frequency:0,Q:.7}),new BiquadFilterNode(r,{type:"allpass",frequency:0,Q:.7}),new BiquadFilterNode(r,{type:"allpass",frequency:0,Q:.7}),new BiquadFilterNode(r,{type:"allpass",frequency:0,Q:.7})],g=new ConstantSourceNode(r,{offset:o.params.baseFreq??700});g.start();for(const z of m)g.connect(z.frequency);const y=new OscillatorNode(r,{type:"sine",frequency:o.params.rate??.4}),x=new GainNode(r,{gain:o.params.depthHz??600});y.connect(x);for(const z of m)x.connect(z.frequency);y.start();const N=new GainNode(r,{gain:o.params.freqCvDepthHz??0});for(const z of m)N.connect(z.frequency);const b=new GainNode(r,{gain:o.params.rateDepthHz??0});b.connect(y.frequency);const P=new GainNode(r,{gain:o.params.feedback??.2}),S=new ConstantSourceNode(r,{offset:o.params.mix??.5}),E=new GainNode(r,{gain:o.params.mixDepth??0}),R=new GainNode(r,{gain:1});S.connect(R),E.connect(R),S.start(),R.connect(f.gain);const H=new ConstantSourceNode(r,{offset:1}),U=new GainNode(r,{gain:-1});return R.connect(U),H.connect(d.gain),U.connect(d.gain),H.start(),l.connect(d).connect(c),l.connect(p),P.connect(p),p.connect(m[0]),m[0].connect(m[1]),m[1].connect(m[2]),m[2].connect(m[3]),m[3].connect(f).connect(c),m[3].connect(P),{id:o.id,type:"phaser",inputs:{in:l,freqCv:N,rateCv:b,mixCv:E},outputs:{out:c},setParam:(z,X)=>{z==="baseFreq"&&W(g.offset,V(X,20,2e4),r,20),z==="depthHz"&&W(x.gain,V(X,0,2e4),r,20),z==="freqCvDepthHz"&&W(N.gain,V(X,0,2e4),r,20),z==="rate"&&W(y.frequency,V(X,.01,40),r),z==="rateDepthHz"&&W(b.gain,V(X,0,80),r,20),z==="feedback"&&W(P.gain,V(X,0,.95),r,20),z==="mix"&&W(S.offset,V(X,-2,2),r,20),z==="mixDepth"&&W(E.gain,V(X,0,4),r,20)},dispose:()=>{try{g.stop(),S.stop(),H.stop(),y.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),P.disconnect();for(const z of m)z.disconnect();g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),S.disconnect(),E.disconnect(),R.disconnect(),H.disconnect(),U.disconnect()}}}},reverb:{type:"reverb",title:"Reverb",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"preDelay",label:"PreDelay (s)",min:0,max:.2,step:.001,defaultValue:.01},{id:"decay",label:"Decay (s)",min:.05,max:6,step:.05,defaultValue:1.8},{id:"dampHz",label:"Damp (Hz)",min:200,max:2e4,step:1,defaultValue:8e3},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.35},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=R=>{const H=V(R,.05,6),U=Math.max(1,Math.floor(r.sampleRate*H)),O=new AudioBuffer({length:U,numberOfChannels:1,sampleRate:r.sampleRate}),z=O.getChannelData(0);for(let X=0;X<U;X+=1){const ie=X/(U-1),he=Math.pow(1-ie,3);z[X]=(Math.random()*2-1)*he}return O},c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new GainNode(r,{gain:0}),p=new GainNode(r,{gain:0}),m=new DelayNode(r,{maxDelayTime:.2,delayTime:o.params.preDelay??.01}),g=new ConvolverNode(r,{buffer:l(o.params.decay??1.8)}),y=new BiquadFilterNode(r,{type:"lowpass",frequency:o.params.dampHz??8e3,Q:.707}),x=new ConstantSourceNode(r,{offset:o.params.mix??.35}),N=new GainNode(r,{gain:o.params.mixDepth??0}),b=new GainNode(r,{gain:1});x.connect(b),N.connect(b),x.start(),b.connect(p.gain);const P=new ConstantSourceNode(r,{offset:1}),S=new GainNode(r,{gain:-1});return b.connect(S),P.connect(f.gain),S.connect(f.gain),P.start(),c.connect(f).connect(d),c.connect(m),m.connect(g),g.connect(y),y.connect(p).connect(d),{id:o.id,type:"reverb",inputs:{in:c,mixCv:N},outputs:{out:d},setParam:(R,H)=>{if(R==="preDelay"&&W(m.delayTime,V(H,0,.2),r,20),R==="decay"){const U=V(H,.05,6);g.buffer=l(U)}R==="dampHz"&&W(y.frequency,V(H,20,2e4),r,30),R==="mix"&&W(x.offset,V(H,-2,2),r,20),R==="mixDepth"&&W(N.gain,V(H,0,4),r,20)},dispose:()=>{try{x.stop(),P.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),P.disconnect(),S.disconnect()}}}},bitcrusher:{type:"bitcrusher",title:"Bitcrusher",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"bitDepth",label:"Bits",min:1,max:16,step:1,defaultValue:8},{id:"downsample",label:"Downsample",min:1,max:64,step:1,defaultValue:4},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.7},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:0}),f=new GainNode(r,{gain:0}),p=new AudioWorkletNode(r,"bitcrusher-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]});p.parameters.get("bitDepth").value=o.params.bitDepth??8,p.parameters.get("downsample").value=o.params.downsample??4;const m=new ConstantSourceNode(r,{offset:o.params.mix??.7}),g=new GainNode(r,{gain:o.params.mixDepth??0}),y=new GainNode(r,{gain:1});m.connect(y),g.connect(y),m.start(),y.connect(f.gain);const x=new ConstantSourceNode(r,{offset:1}),N=new GainNode(r,{gain:-1});return y.connect(N),x.connect(d.gain),N.connect(d.gain),x.start(),l.connect(d).connect(c),l.connect(p),p.connect(f).connect(c),{id:o.id,type:"bitcrusher",inputs:{in:l,mixCv:g},outputs:{out:c},setParam:(P,S)=>{if(P==="bitDepth"){const E=V(Math.round(S),1,16);p.parameters.get("bitDepth").value=E}if(P==="downsample"){const E=V(Math.round(S),1,64);p.parameters.get("downsample").value=E}P==="mix"&&W(m.offset,V(S,-2,2),r,20),P==="mixDepth"&&W(g.gain,V(S,0,4),r,20)},dispose:()=>{try{m.stop(),x.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect()}}}},compressor:{type:"compressor",title:"Compressor",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"threshold",label:"Threshold (dB)",min:-100,max:0,step:1,defaultValue:-18},{id:"knee",label:"Knee (dB)",min:0,max:40,step:1,defaultValue:12},{id:"ratio",label:"Ratio",min:1,max:20,step:.1,defaultValue:6},{id:"attack",label:"Attack (s)",min:0,max:1,step:.001,defaultValue:.003},{id:"release",label:"Release (s)",min:0,max:1,step:.001,defaultValue:.15},{id:"makeup",label:"Makeup",min:0,max:4,step:.001,defaultValue:1},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:1},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:0}),f=new GainNode(r,{gain:0}),p=new DynamicsCompressorNode(r,{threshold:o.params.threshold??-18,knee:o.params.knee??12,ratio:o.params.ratio??6,attack:o.params.attack??.003,release:o.params.release??.15}),m=new GainNode(r,{gain:o.params.makeup??1}),g=new ConstantSourceNode(r,{offset:o.params.mix??1}),y=new GainNode(r,{gain:o.params.mixDepth??0}),x=new GainNode(r,{gain:1});g.connect(x),y.connect(x),g.start(),x.connect(f.gain);const N=new ConstantSourceNode(r,{offset:1}),b=new GainNode(r,{gain:-1});return x.connect(b),N.connect(d.gain),b.connect(d.gain),N.start(),l.connect(d).connect(c),l.connect(p),p.connect(m),m.connect(f).connect(c),{id:o.id,type:"compressor",inputs:{in:l,mixCv:y},outputs:{out:c},setParam:(S,E)=>{S==="threshold"&&W(p.threshold,V(E,-100,0),r,30),S==="knee"&&W(p.knee,V(E,0,40),r,30),S==="ratio"&&W(p.ratio,V(E,1,20),r,30),S==="attack"&&W(p.attack,V(E,0,1),r,30),S==="release"&&W(p.release,V(E,0,1),r,30),S==="makeup"&&W(m.gain,V(E,0,10),r,20),S==="mix"&&W(g.offset,V(E,-2,2),r,20),S==="mixDepth"&&W(y.gain,V(E,0,4),r,20)},dispose:()=>{try{g.stop(),N.stop()}catch{}l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect()}}}},flanger:{type:"flanger",title:"Flanger",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"rateCv",name:"RATE CV",dir:"in",kind:"cv"},{id:"depthCv",name:"DEPTH CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"rate",label:"Rate (Hz)",min:.01,max:5,step:.01,defaultValue:.25},{id:"rateDepthHz",label:"Rate CV Depth (Hz)",min:0,max:10,step:.01,defaultValue:0},{id:"baseDelay",label:"Base (s)",min:0,max:.01,step:1e-5,defaultValue:.003},{id:"depth",label:"Depth (s)",min:0,max:.01,step:1e-5,defaultValue:.002},{id:"depthCvDepth",label:"Depth CV Depth (s)",min:0,max:.01,step:1e-5,defaultValue:0},{id:"feedback",label:"Feedback",min:0,max:.95,step:.001,defaultValue:.3},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.5},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new DelayNode(r,{maxDelayTime:.01,delayTime:0}),p=new GainNode(r,{gain:o.params.feedback??.3}),m=new ConstantSourceNode(r,{offset:o.params.baseDelay??.003});m.connect(f.delayTime),m.start();const g=new OscillatorNode(r,{type:"sine",frequency:o.params.rate??.25}),y=new GainNode(r,{gain:o.params.depth??.002});g.connect(y),y.connect(f.delayTime),g.start();const x=new GainNode(r,{gain:o.params.rateDepthHz??0});x.connect(g.frequency);const N=new GainNode(r,{gain:o.params.depthCvDepth??0});N.connect(y.gain);const b=as(r,o.params.mix??.5,o.params.mixDepth??0);return c.connect(b.dry).connect(d),c.connect(f),f.connect(b.wet).connect(d),f.connect(p).connect(f),{id:o.id,type:"flanger",inputs:{in:c,rateCv:x,depthCv:N,mixCv:b.mixCvIn},outputs:{out:d},setParam:(S,E)=>{S==="rate"&&W(g.frequency,V(E,.01,20),r),S==="rateDepthHz"&&W(x.gain,V(E,0,80),r,20),S==="baseDelay"&&W(m.offset,V(E,0,.01),r,20),S==="depth"&&W(y.gain,V(E,0,.01),r,20),S==="depthCvDepth"&&W(N.gain,V(E,0,.01),r,20),S==="feedback"&&W(p.gain,V(E,0,.95),r,20),S==="mix"&&b.setMix(E),S==="mixDepth"&&b.setDepth(E)},dispose:()=>{try{m.stop(),g.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),g.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.dispose()}}}},stereochorus:{type:"stereochorus",title:"Stereo Chorus",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"rateCv",name:"RATE CV",dir:"in",kind:"cv"},{id:"depthCv",name:"DEPTH CV",dir:"in",kind:"cv"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"rate",label:"Rate (Hz)",min:.01,max:5,step:.01,defaultValue:.8},{id:"rateDepthHz",label:"Rate CV Depth (Hz)",min:0,max:10,step:.01,defaultValue:0},{id:"baseDelay",label:"Base (s)",min:0,max:.05,step:1e-4,defaultValue:.02},{id:"depth",label:"Depth (s)",min:0,max:.02,step:1e-4,defaultValue:.006},{id:"depthCvDepth",label:"Depth CV Depth (s)",min:0,max:.02,step:1e-4,defaultValue:0},{id:"width",label:"Width",min:0,max:1,step:.001,defaultValue:1},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.5},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const c=new GainNode(r,{gain:1}),d=new GainNode(r,{gain:1}),f=new DelayNode(r,{maxDelayTime:.05,delayTime:0}),p=new DelayNode(r,{maxDelayTime:.05,delayTime:0}),m=new ConstantSourceNode(r,{offset:o.params.baseDelay??.02});m.connect(f.delayTime),m.connect(p.delayTime),m.start();const g=o.params.rate??.8,y=new OscillatorNode(r,{type:"sine",frequency:g}),x=new OscillatorNode(r,{type:"sine",frequency:g}),N=new DelayNode(r,{maxDelayTime:.5,delayTime:.25/g}),b=new GainNode(r,{gain:o.params.depth??.006});y.connect(b),b.connect(f.delayTime),x.connect(N),N.connect(b),b.connect(p.delayTime),y.start(),x.start();const P=new GainNode(r,{gain:o.params.rateDepthHz??0});P.connect(y.frequency),P.connect(x.frequency);const S=new GainNode(r,{gain:o.params.depthCvDepth??0});S.connect(b.gain);const E=new GainNode(r,{gain:o.params.width??1}),R=new StereoPannerNode(r,{pan:-1}),H=new StereoPannerNode(r,{pan:1}),U=as(r,o.params.mix??.5,o.params.mixDepth??0);return c.connect(U.dry).connect(d),c.connect(f),c.connect(p),f.connect(E).connect(R).connect(U.wet),p.connect(E).connect(H).connect(U.wet),U.wet.connect(d),{id:o.id,type:"stereochorus",inputs:{in:c,rateCv:P,depthCv:S,mixCv:U.mixCvIn},outputs:{out:d},setParam:(z,X)=>{if(z==="rate"){const ie=V(X,.01,20);W(y.frequency,ie,r),W(x.frequency,ie,r),W(N.delayTime,.25/ie,r,30)}z==="rateDepthHz"&&W(P.gain,V(X,0,80),r,20),z==="baseDelay"&&W(m.offset,V(X,0,.05),r,20),z==="depth"&&W(b.gain,V(X,0,.05),r,20),z==="depthCvDepth"&&W(S.gain,V(X,0,.05),r,20),z==="width"&&W(E.gain,V(X,0,2),r,20),z==="mix"&&U.setMix(X),z==="mixDepth"&&U.setDepth(X)},dispose:()=>{try{m.stop(),y.stop(),x.stop()}catch{}c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.disconnect(),y.disconnect(),x.disconnect(),N.disconnect(),b.disconnect(),P.disconnect(),S.disconnect(),E.disconnect(),R.disconnect(),H.disconnect(),U.dispose()}}}},eq3:{type:"eq3",title:"EQ 3",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"lowGain",label:"Low Gain (dB)",min:-24,max:24,step:.1,defaultValue:0},{id:"lowFreq",label:"Low Freq (Hz)",min:20,max:800,step:1,defaultValue:150},{id:"midGain",label:"Mid Gain (dB)",min:-24,max:24,step:.1,defaultValue:0},{id:"midFreq",label:"Mid Freq (Hz)",min:100,max:8e3,step:1,defaultValue:1e3},{id:"midQ",label:"Mid Q",min:.1,max:18,step:.01,defaultValue:1},{id:"highGain",label:"High Gain (dB)",min:-24,max:24,step:.1,defaultValue:0},{id:"highFreq",label:"High Freq (Hz)",min:1e3,max:2e4,step:1,defaultValue:6e3}],create:(r,o)=>{const l=new BiquadFilterNode(r,{type:"lowshelf",frequency:o.params.lowFreq??150,gain:o.params.lowGain??0}),c=new BiquadFilterNode(r,{type:"peaking",frequency:o.params.midFreq??1e3,Q:o.params.midQ??1,gain:o.params.midGain??0}),d=new BiquadFilterNode(r,{type:"highshelf",frequency:o.params.highFreq??6e3,gain:o.params.highGain??0});return l.connect(c),c.connect(d),{id:o.id,type:"eq3",inputs:{in:l},outputs:{out:d},setParam:(p,m)=>{p==="lowGain"&&W(l.gain,V(m,-60,60),r,30),p==="lowFreq"&&W(l.frequency,V(m,20,2e4),r,30),p==="midGain"&&W(c.gain,V(m,-60,60),r,30),p==="midFreq"&&W(c.frequency,V(m,20,2e4),r,30),p==="midQ"&&W(c.Q,V(m,.1,40),r,30),p==="highGain"&&W(d.gain,V(m,-60,60),r,30),p==="highFreq"&&W(d.frequency,V(m,20,2e4),r,30)},dispose:()=>{l.disconnect(),c.disconnect(),d.disconnect()}}}},wavefolder:{type:"wavefolder",title:"Wavefolder",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"drive",label:"Drive",min:0,max:10,step:.001,defaultValue:1.5},{id:"folds",label:"Folds",min:0,max:10,step:.001,defaultValue:1.5},{id:"dcBlock",label:"DC Block",min:0,max:1,step:1,defaultValue:1},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:1},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new AudioWorkletNode(r,"wavefolder-processor",{numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]});d.parameters.get("drive").value=o.params.drive??1.5,d.parameters.get("folds").value=o.params.folds??1.5,d.parameters.get("dcBlock").value=(o.params.dcBlock??1)>=.5?1:0;const f=as(r,o.params.mix??1,o.params.mixDepth??0);return l.connect(f.dry).connect(c),l.connect(d),d.connect(f.wet).connect(c),{id:o.id,type:"wavefolder",inputs:{in:l,mixCv:f.mixCvIn},outputs:{out:c},setParam:(m,g)=>{m==="drive"&&W(d.parameters.get("drive"),V(g,0,10),r,20),m==="folds"&&W(d.parameters.get("folds"),V(g,0,10),r,20),m==="dcBlock"&&(d.parameters.get("dcBlock").value=g>=.5?1:0),m==="mix"&&f.setMix(g),m==="mixDepth"&&f.setDepth(g)},dispose:()=>{l.disconnect(),c.disconnect(),d.disconnect(),f.dispose()}}}},irverb:{type:"irverb",title:"IR Verb",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"},{id:"mixCv",name:"MIX CV",dir:"in",kind:"cv"}],outputs:[{id:"out",name:"OUT",dir:"out",kind:"audio"}],params:[{id:"preset",label:"Preset (0..3)",min:0,max:3,step:1,defaultValue:1},{id:"decay",label:"Decay (s)",min:.05,max:8,step:.05,defaultValue:2.2},{id:"preDelay",label:"PreDelay (s)",min:0,max:.2,step:.001,defaultValue:.01},{id:"dampHz",label:"Damp (Hz)",min:200,max:2e4,step:1,defaultValue:8e3},{id:"mix",label:"Mix (0..1)",min:0,max:1,step:.001,defaultValue:.35},{id:"mixDepth",label:"Mix CV Depth",min:0,max:1,step:.001,defaultValue:0}],create:(r,o)=>{const l=new GainNode(r,{gain:1}),c=new GainNode(r,{gain:1}),d=new DelayNode(r,{maxDelayTime:.2,delayTime:o.params.preDelay??.01}),f=new ConvolverNode(r,{buffer:to(r,o.params.preset??1,o.params.decay??2.2)}),p=new BiquadFilterNode(r,{type:"lowpass",frequency:o.params.dampHz??8e3,Q:.707}),m=as(r,o.params.mix??.35,o.params.mixDepth??0);l.connect(m.dry).connect(c),l.connect(d),d.connect(f),f.connect(p),p.connect(m.wet).connect(c);let g=o.params.preset??1,y=o.params.decay??2.2;return{id:o.id,type:"irverb",inputs:{in:l,mixCv:m.mixCvIn},outputs:{out:c},setParam:(N,b)=>{N==="preDelay"&&W(d.delayTime,V(b,0,.2),r,20),N==="dampHz"&&W(p.frequency,V(b,20,2e4),r,30),N==="preset"&&(g=V(Math.round(b),0,3),f.buffer=to(r,g,y)),N==="decay"&&(y=V(b,.05,8),f.buffer=to(r,g,y)),N==="mix"&&m.setMix(b),N==="mixDepth"&&m.setDepth(b)},dispose:()=>{l.disconnect(),c.disconnect(),d.disconnect(),f.disconnect(),p.disconnect(),m.dispose()}}}},clock:{type:"clock",title:"Clock",inputs:[],outputs:[{id:"out",name:"OUT",dir:"out",kind:"gate"}],params:[{id:"bpm",label:"BPM",min:1,max:400,step:.1,defaultValue:120},{id:"ppq",label:"PPQ",min:1,max:96,step:1,defaultValue:4},{id:"duty",label:"Duty",min:.01,max:.9,step:.01,defaultValue:.1}],create:(r,o)=>{const l=new AudioWorkletNode(r,"clock-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[1]});return l.parameters.get("bpm").value=o.params.bpm??120,l.parameters.get("ppq").value=o.params.ppq??4,l.parameters.get("duty").value=o.params.duty??.1,{id:o.id,type:"clock",inputs:{},outputs:{out:l},setParam:(d,f)=>{const p=l.parameters.get(d);p&&W(p,f,r,40)},dispose:()=>l.disconnect()}}},output:{type:"output",title:"Output",inputs:[{id:"in",name:"IN",dir:"in",kind:"audio"}],outputs:[],params:[{id:"vol",label:"Volume",min:0,max:1.5,step:.001,defaultValue:.7}],create:(r,o)=>{const l=new GainNode(r,{gain:o.params.vol??.7}),c=new DynamicsCompressorNode(r,{threshold:-12,knee:12,ratio:12,attack:.003,release:.15});return l.connect(c).connect(r.destination),{id:o.id,type:"output",inputs:{in:l},outputs:{},setParam:(f,p)=>{f==="vol"&&W(l.gain,V(p,0,2),r)},dispose:()=>{l.disconnect(),c.disconnect()}}}}};class s0{constructor(o){this.instances=new Map,this.cables=new Map,this.connected=new Map,this.ctx=o}get audioContext(){return this.ctx}getAnalyser(o){return this.instances.get(o)?.viz?.analyser??null}upsertModule(o){let l=this.instances.get(o.id);l||(l=br[o.type].create(this.ctx,o),this.instances.set(o.id,l));const c=Object.entries(o.params);if(l.type==="keyboard"){for(const[d,f]of c)d!=="gate"&&l.setParam(d,f);Object.prototype.hasOwnProperty.call(o.params,"gate")&&l.setParam("gate",o.params.gate);return}for(const[d,f]of c)l.setParam(d,f)}removeModule(o){for(const[c,d]of this.cables.entries())(d.from.moduleId===o||d.to.moduleId===o)&&this.disconnectCable(c);const l=this.instances.get(o);l&&(l.dispose(),this.instances.delete(o))}setModules(o){const l=new Set(o.map(c=>c.id));for(const c of[...this.instances.keys()])l.has(c)||this.removeModule(c);for(const c of o)this.upsertModule(c)}setCables(o){const l=new Map(o.map(c=>[c.id,c]));for(const c of[...this.cables.keys()])l.has(c)||this.disconnectCable(c);for(const c of o)this.cables.has(c.id)||this.connectCable(c);this.cables=l}connectCable(o){const l=this.instances.get(o.from.moduleId),c=this.instances.get(o.to.moduleId);if(!l||!c)return;const d=l.outputs[o.from.portId],f=c.inputs[o.to.portId];if(!(!d||!f))try{d.connect(f),this.connected.set(o.id,{fromNode:d,toTarget:f}),this.cables.set(o.id,o)}catch{}}disconnectCable(o){const l=this.connected.get(o);if(l){try{l.fromNode.disconnect(l.toTarget)}catch{}this.connected.delete(o)}this.cables.delete(o)}dispose(){for(const o of[...this.cables.keys()])this.disconnectCable(o);for(const o of[...this.instances.keys()])this.removeModule(o)}}async function l0(r){await r.audioWorklet.addModule("/worklets/gate.worklet.js"),await r.audioWorklet.addModule("/worklets/clock.worklet.js"),await r.audioWorklet.addModule("/worklets/adsr.worklet.js"),await r.audioWorklet.addModule("/worklets/arp.worklet.js"),await r.audioWorklet.addModule("/worklets/slew.worklet.js"),await r.audioWorklet.addModule("/worklets/samplehold.worklet.js"),await r.audioWorklet.addModule("/worklets/quantizer.worklet.js"),await r.audioWorklet.addModule("/worklets/logic.worklet.js"),await r.audioWorklet.addModule("/worklets/noise.worklet.js"),await r.audioWorklet.addModule("/worklets/bitcrusher.worklet.js"),await r.audioWorklet.addModule("/worklets/wavefolder.worklet.js")}const o0={a:60,w:61,s:62,e:63,d:64,f:65,t:66,g:67,y:68,h:69,u:70,j:71,k:72},u0=new Set(["baseHz","cutoff","attack","decay","release","rate","bpm","vol","level","depth","q"]),no=1600,ro=1200,c0=.7,po={keyboard:"Keyboard pitch + gate source from your computer keys.",osc:"Primary sound source with wave selection and FM input.",filter:"Lowpass filter with CV cutoff modulation.",vca:"Amplitude control driven by CV (envelopes).",adsr:"Envelope generator from gate signal.",lfo:"Low-frequency mod source for CV.",arp:"Clocked arpeggiator. Patch a root pitch input to follow the keyboard.",clock:"Pulse clock for sync and sequencing.",output:"Master output with light limiting.",offset:"DC offset/bias source (constant CV).",attenuverter:"Scale/invert signals (-1..1). Works for audio or CV.",mixer:"4-channel audio mixer with per-channel levels + master.",scope:"Oscilloscope/spectrum visualizer. Thru=1 inline, Thru=0 tap-only.",vcmixer:"4-channel mixer with per-channel CV control of gain.",cvproc:"Scale and offset a signal (audio or CV).",crossfader:"Blend A/B with manual position and CV.",slew:"Slew limiter (lag processor) for CV/audio. AudioWorklet.",samplehold:"Sample input on rising clock edge and hold. AudioWorklet.",quantizer:"Quantize pitch (Hz) to a scale. Root/scale/transpose.",logic:"Gate logic (AND/OR/XOR/NAND/NOR/XNOR/NOT). Two inputs.",noise:"Noise source (white/pink).",delay:"Delay with feedback and CV-able time/feedback/mix.",distortion:"Waveshaper distortion with CV drive and wet/dry mix.",chorus:"Chorus (modulated delay) with CV-able rate/depth/mix.",phaser:"Phaser (all-pass chain) with CV-able freq/rate/mix and feedback.",reverb:"Convolution reverb (generated IR) with predelay, damping, and mix CV.",bitcrusher:"Bitcrusher (AudioWorklet) with bits/downsample and mix CV.",compressor:"Compressor with makeup gain and mix CV (parallel capable).",flanger:"Flanger (short modulated delay) with CV-able rate/depth/mix and feedback.",stereochorus:"Stereo chorus widening with rate/depth/width and mix CV.",eq3:"3-band EQ (low shelf, mid peak, high shelf).",wavefolder:"Wavefolder (AudioWorklet) with drive/folds and mix CV.",irverb:"Convolver reverb with generated IR presets, predelay, damping, and mix CV."},Nd="synthUserPresets",bd=[{id:"acid-arp-bass",label:"Acid Arp Bass",modules:[{id:"clk1",type:"clock",x:20,y:520,width:220,collapsed:!0,params:{}},{id:"arp1",type:"arp",x:320,y:520,width:220,collapsed:!0,params:{}},{id:"quant1",type:"quantizer",x:620,y:520,width:220,collapsed:!0,params:{}},{id:"log1",type:"logic",x:920,y:520,width:220,collapsed:!0,params:{}},{id:"dist1",type:"distortion",x:20,y:820,width:220,collapsed:!0,params:{}},{id:"delay1",type:"delay",x:320,y:820,width:220,collapsed:!0,params:{}},{id:"comp1",type:"compressor",x:620,y:820,width:220,collapsed:!0,params:{}},{id:"scp1",type:"scope",x:920,y:120,width:240,collapsed:!0,params:{thru:0,view:0,fftSize:2048,smoothing:.85,minDb:-90,maxDb:-10}}],params:{osc1:{wave:1,level:.2,fmDepthHz:0,baseHz:0},flt1:{cutoff:520,cutoffDepthHz:1400,q:9},env1:{attack:.004,decay:.12,sustain:.04,release:.1},vca1:{bias:0,cvDepth:1},clk1:{bpm:140,ppq:4,duty:.12},arp1:{rootHz:0,interval:7,steps:3,pattern:2,gateMs:90},log1:{mode:0,threshold:.5},quant1:{enabled:1,root:0,scale:2,transpose:-24},dist1:{drive:.75,mix:.85,post:1.1},delay1:{time:.12,feedback:.3,mix:.28},comp1:{threshold:-22,ratio:6,makeup:1.2,mix:1},lfo1:{rate:.25,depth:.28,wave:0},kbd1:{gate:0}},cables:[{id:"p1-1",from:{moduleId:"kbd1",portId:"pitch"},to:{moduleId:"arp1",portId:"root"}},{id:"p1-2",from:{moduleId:"clk1",portId:"out"},to:{moduleId:"log1",portId:"a"}},{id:"p1-3",from:{moduleId:"kbd1",portId:"gate"},to:{moduleId:"log1",portId:"b"}},{id:"p1-4",from:{moduleId:"log1",portId:"out"},to:{moduleId:"arp1",portId:"clock"}},{id:"p1-5",from:{moduleId:"arp1",portId:"pitch"},to:{moduleId:"quant1",portId:"in"}},{id:"p1-6",from:{moduleId:"quant1",portId:"out"},to:{moduleId:"osc1",portId:"pitch"}},{id:"p1-7",from:{moduleId:"arp1",portId:"gate"},to:{moduleId:"env1",portId:"gate"}},{id:"p1-8",from:{moduleId:"env1",portId:"env"},to:{moduleId:"vca1",portId:"cv"}},{id:"p1-9",from:{moduleId:"env1",portId:"env"},to:{moduleId:"flt1",portId:"cutoffCv"}},{id:"p1-10",from:{moduleId:"osc1",portId:"out"},to:{moduleId:"flt1",portId:"in"}},{id:"p1-11",from:{moduleId:"flt1",portId:"out"},to:{moduleId:"vca1",portId:"in"}},{id:"p1-12",from:{moduleId:"vca1",portId:"out"},to:{moduleId:"dist1",portId:"in"}},{id:"p1-13",from:{moduleId:"dist1",portId:"out"},to:{moduleId:"delay1",portId:"in"}},{id:"p1-14",from:{moduleId:"delay1",portId:"out"},to:{moduleId:"comp1",portId:"in"}},{id:"p1-15",from:{moduleId:"comp1",portId:"out"},to:{moduleId:"out1",portId:"in"}},{id:"p1-16",from:{moduleId:"lfo1",portId:"out"},to:{moduleId:"flt1",portId:"cutoffCv"}},{id:"p1-17",from:{moduleId:"comp1",portId:"out"},to:{moduleId:"scp1",portId:"in"}}]}];function Xr(){const r=globalThis.crypto;return typeof r?.randomUUID=="function"?r.randomUUID():Math.random().toString(16).slice(2)}function d0(r){return 440*Math.pow(2,(r-69)/12)}function f0(r,o){if(!Number.isFinite(o)||o<=0)return r;const l=1/o;return Math.round(r*l)/l}function ao(r){const o={};for(const l of r){const c=l.id.match(/^([a-z]+)(\d+)$/i);if(!c)continue;const d=c[1],f=Number(c[2]);Number.isFinite(f)&&(o[d]=Math.max(o[d]??0,f))}return o}function jd(r,o){const l=new Set;for(const d of o){if(d.type!==r)continue;const f=d.id.match(/^[a-z]+(\d+)$/i);if(!f)continue;const p=Number(f[1]);Number.isFinite(p)&&l.add(p)}let c=1;for(;l.has(c);)c+=1;return c}function io(r){return r.map(o=>{const l=br[o.type],c={};return l.params.forEach(d=>{c[d.id]=d.defaultValue}),{...o,width:o.width??220,collapsed:o.collapsed??!0,params:{...c,...o.params}}})}function nf({embedded:r}){const o=w.useRef(null),l=w.useRef(null),c=w.useRef(null),d=w.useRef(null),f=w.useRef(new Map),p=w.useRef(new Map),[m,g]=w.useState({kind:"none"}),[y,x]=w.useState(null),[N,b]=w.useState(null),[P,S]=w.useState(0),[E,R]=w.useState(1),[H,U]=w.useState(0),[O,z]=w.useState(null),[X,ie]=w.useState({}),[he,je]=w.useState(!1),Ie=w.useRef(null),ge=w.useRef(null),Ze=w.useRef(null),[He,Te]=w.useState({x:0,y:0,visible:!1}),et=w.useRef(!1),Fe=w.useRef(null),Re=w.useRef(null),[me,Q]=w.useState(()=>Cd()),[le,ne]=w.useState(()=>Md()),[M,B]=w.useState(()=>{if(typeof window>"u")return[];try{const v=window.localStorage.getItem(Nd);if(!v)return[];const L=JSON.parse(v);return Array.isArray(L)?L.filter(F=>F&&Array.isArray(F.modules)&&Array.isArray(F.cables)):[]}catch{return[]}}),[we,Ne]=w.useState(null),[Se,Ce]=w.useState(!1),[te,oe]=w.useState(()=>{if(typeof window>"u")return"dark";const v=window.localStorage.getItem("synthTheme");return v==="light"||v==="dark"?v:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}),re=w.useRef(null),ce=w.useRef(null),T=(v,L)=>`${v}:${L}`,_=v=>`${v}`,G=E*c0,ae=(v,L)=>{const F=d.current;if(!F)return{x:v,y:L};const K=F.getBoundingClientRect();return{x:(v-K.left)/G,y:(L-K.top)/G}},ze=(v,L)=>{const F=f.current.get(T(v,L)),K=d.current;if(!F||!K)return null;const Z=F.getBoundingClientRect(),xe=K.getBoundingClientRect();return{x:(Z.left-xe.left+Z.width/2)/G,y:(Z.top-xe.top+Z.height/2)/G}},qe=async()=>{if(ce.current&&re.current)return;const v=new AudioContext;await v.resume(),await l0(v);const L=new s0(v);L.setModules(me),L.setCables(le),re.current=v,ce.current=L};w.useEffect(()=>{const v=ce.current;v&&v.setModules(me)},[me]),w.useEffect(()=>{const v=ce.current;v&&v.setCables(le)},[le]);const Ee=v=>{Q(L=>{let F=null;const K=L.map(Z=>Z.id!=="kbd1"?Z:(F={...Z,params:{...Z.params,...v}},F));return F&&ce.current&&ce.current.upsertModule(F),K})};w.useEffect(()=>{if(!Se)return;const v=new Set,L=K=>{if(K.repeat)return;const Z=K.key.toLowerCase();if(Z==="z"){U(De=>Math.max(-3,De-1));return}if(Z==="x"){U(De=>Math.min(3,De+1));return}const xe=o0[Z];if(xe===void 0)return;v.add(Z);const Ve=d0(xe+H*12);Ee({pitchHz:Ve,pitch3Hz:Ve,pitch5Hz:Ve,gate:1})},F=K=>{const Z=K.key.toLowerCase();v.has(Z)&&(v.delete(Z),v.size===0&&Ee({gate:0}))};return window.addEventListener("keydown",L),window.addEventListener("keyup",F),()=>{window.removeEventListener("keydown",L),window.removeEventListener("keyup",F)}},[Se,H]),w.useEffect(()=>{const v=()=>S(L=>L+1);return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),w.useEffect(()=>{const v=window.requestAnimationFrame(()=>S(L=>L+1));return()=>window.cancelAnimationFrame(v)},[]),w.useEffect(()=>{window.localStorage.setItem("synthTheme",te)},[te]),w.useEffect(()=>{window.localStorage.setItem(Nd,JSON.stringify(M))},[M]),w.useEffect(()=>{const v=L=>{L.key==="Escape"&&x(null)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),w.useEffect(()=>{const v=()=>{je(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",v),()=>document.removeEventListener("fullscreenchange",v)},[]),w.useEffect(()=>{et.current&&(et.current=!1,requestAnimationFrame(()=>{Ja()}))},[E]),w.useEffect(()=>{ft()},[]);const Ue=v=>{const L=bd.find(Z=>Z.id===v);if(L){Q(Z=>{const xe=[...Z],Ve=new Set(xe.map(Xe=>Xe.id));if(L.modules)for(const Xe of L.modules){if(Ve.has(Xe.id))continue;const gt=br[Xe.type],We={};gt.params.forEach(ke=>{We[ke.id]=ke.defaultValue}),xe.push({...Xe,params:{...We,...Xe.params}}),Ve.add(Xe.id)}const De=xe.map(Xe=>{const gt=L.params[Xe.id];return gt?{...Xe,params:{...Xe.params,...gt}}:Xe});return ie(ao(De)),De}),L.cables&&ne(L.cables.map(Z=>({...Z,id:Xr()}))),z(v),x(null),b(null),ft({full:!0});return}const F=M.find(Z=>Z.id===v);if(!F)return;const K=io(F.modules);Q(K),ne(F.cables.map(Z=>({...Z,id:Xr()}))),ie(ao(K)),z(v),x(null),b(null),ft({full:!0})},Ge=v=>{Ne(v),Ze.current&&window.clearTimeout(Ze.current),Ze.current=window.setTimeout(()=>{Ne(null)},2200)},Qe=v=>{const L=io(me.map(K=>({...K,params:{...K.params}}))),F=le.map(K=>({...K}));return{id:Xr(),label:v,modules:L,cables:F,createdAt:Date.now()}},$=()=>{const v=M.find(L=>L.id===O)??Qe("Current Patch");return JSON.stringify(v,null,2)},it=()=>{const v=$();navigator.clipboard.writeText(v).then(()=>Ge("Preset JSON copied."),()=>Ge("Copy failed."))},Je=()=>{const v=window.prompt("Preset name?","My Preset");if(!v)return;const L=Qe(v.trim()||"My Preset");B(F=>[...F,L]),z(L.id),Ge("Preset saved.")},Me=()=>{const v=M.find(F=>F.id===O);if(!v)return;const L={...v,id:Xr(),label:`${v.label} Copy`,createdAt:Date.now()};B(F=>[...F,L]),z(L.id),Ge("Preset duplicated.")},Pe=()=>{const v=M.find(F=>F.id===O);if(!v)return;const L=window.prompt("Rename preset",v.label);L&&(B(F=>F.map(K=>K.id===v.id?{...K,label:L.trim()||K.label}:K)),Ge("Preset renamed."))},ht=()=>{const v=M.find(L=>L.id===O);v&&window.confirm(`Delete preset "${v.label}"?`)&&(B(L=>L.filter(F=>F.id!==v.id)),z(null),Ge("Preset deleted."))},Yt=()=>{const v=M.find(xe=>xe.id===O)??Qe("Current Patch"),L=JSON.stringify(v,null,2),F=new Blob([L],{type:"application/json"}),K=URL.createObjectURL(F),Z=document.createElement("a");Z.href=K,Z.download=`${v.label.replace(/[^a-z0-9_-]+/gi,"_").toLowerCase()||"preset"}.json`,document.body.appendChild(Z),Z.click(),Z.remove(),URL.revokeObjectURL(K),Ge("Preset exported.")},Ct=()=>{Re.current?.click()},Wt=v=>{const L=v.target.files?.[0];if(!L)return;const F=new FileReader;F.onload=()=>{try{const K=F.result;if(typeof K!="string")return;const Z=JSON.parse(K),xe=Array.isArray(Z)?Z:[Z],Ve=[];for(const De of xe){if(!De||!Array.isArray(De.modules)||!Array.isArray(De.cables))continue;const Xe=typeof De.label=="string"?De.label:"Imported Preset";Ve.push({id:Xr(),label:Xe,modules:io(De.modules),cables:De.cables.map(gt=>({...gt})),createdAt:Date.now()})}Ve.length&&(B(De=>[...De,...Ve]),z(Ve[Ve.length-1].id),Ge("Preset imported."))}catch{Ge("Preset import failed.")}finally{v.target.value=""}},F.readAsText(L)};w.useEffect(()=>{S(v=>v+1)},[G]);const tt=async()=>{await qe(),Ce(!0)},st=v=>{if(!d.current)return;const F=new Map;for(const We of me){const ke=p.current.get(_(We.id));if(!ke)continue;const $e=ke.getBoundingClientRect();F.set(We.id,{w:$e.width/G,h:$e.height/G})}const K=16;if(v?.full){const We=[],ke=new Map,$e=[...me].sort((Ke,wt)=>Ke.y===wt.y?Ke.x-wt.x:Ke.y-wt.y);for(const Ke of $e){const wt=F.get(Ke.id);if(!wt)continue;let Be=Ke.x,Vt=Ke.y,$t=!0;for(;$t;){$t=!1;for(const ln of We){const Cr=Be<ln.x+ln.w+K&&Be+wt.w+K>ln.x,ps=Vt<ln.y+ln.h+K&&Vt+wt.h+K>ln.y;Cr&&ps&&(Vt=ln.y+ln.h+K,$t=!0)}}We.push({id:Ke.id,x:Be,y:Vt,w:wt.w,h:wt.h}),ke.set(Ke.id,{x:Be,y:Vt})}Q(Ke=>{let wt=!1;const Be=Ke.map(Vt=>{const $t=ke.get(Vt.id);return $t&&($t.x!==Vt.x||$t.y!==Vt.y)?(wt=!0,{...Vt,x:$t.x,y:$t.y}):Vt});return wt?Be:Ke});return}const Z=v?.anchorId;if(!Z)return;const xe=me.find(We=>We.id===Z);if(!xe)return;const Ve=F.get(Z);if(!Ve)return;let De=xe.x,Xe=xe.y,gt=!0;for(;gt;){gt=!1;for(const We of me){if(We.id===Z)continue;const ke=F.get(We.id);if(!ke)continue;const $e=De<We.x+ke.w+K&&De+Ve.w+K>We.x,Ke=Xe<We.y+ke.h+K&&Xe+Ve.h+K>We.y;$e&&Ke&&(Xe=We.y+ke.h+K,gt=!0)}}De===xe.x&&Xe===xe.y||Q(We=>We.map(ke=>ke.id===Z?{...ke,x:De,y:Xe}:ke))},ft=v=>{Ie.current||(ge.current={anchorId:v?.anchorId??null,full:v?.full??!1},Ie.current=window.requestAnimationFrame(()=>{Ie.current=null;const L=ge.current;ge.current=null,st(L??void 0)}))},sn=v=>{if(m.kind==="none")return;const L=ae(v.clientX,v.clientY);if(m.kind==="move")Q(F=>F.map(K=>K.id===m.moduleId?{...K,x:L.x-m.dx,y:L.y-m.dy}:K));else if(m.kind==="cable")g({...m,x:L.x,y:L.y});else if(m.kind==="resize"){const F=L.x-m.startX,K=Math.min(360,Math.max(180,m.startWidth+F));Q(Z=>Z.map(xe=>xe.id===m.moduleId?{...xe,width:K}:xe))}else if(m.kind==="pan"){const F=l.current;if(!F)return;const K=L.x-m.startX,Z=L.y-m.startY;F.scrollLeft=m.scrollLeft-K*G,F.scrollTop=m.scrollTop-Z*G}},_e=()=>{const v=m.kind;g({kind:"none"}),(v==="move"||v==="resize")&&(v==="move"&&ft({anchorId:m.moduleId}),v==="resize"&&ft({anchorId:m.moduleId}))},jn=v=>{if(!(document.fullscreenElement!==null))return;v.stopPropagation();const F=v.target;if(F.closest(".synth-module")||F.closest(".synth-toolbar-panel"))return;v.preventDefault();const K=l.current?.getBoundingClientRect(),Z=K?v.clientX-K.left:v.clientX,xe=K?v.clientY-K.top:v.clientY;Te({x:Z,y:xe,visible:!0})},vt=(v,L)=>{if(v.button!==0||(v.stopPropagation(),!c.current))return;b(L);const K=ae(v.clientX,v.clientY),Z=me.find(xe=>xe.id===L);Z&&(v.currentTarget.setPointerCapture(v.pointerId),g({kind:"move",moduleId:L,dx:K.x-Z.x,dy:K.y-Z.y}))},Et=(v,L)=>{if(v.button!==0)return;v.stopPropagation();const F=me.find(xe=>xe.id===L);if(!F)return;const K=F.width??240,Z=ae(v.clientX,v.clientY);v.currentTarget.setPointerCapture(v.pointerId),g({kind:"resize",moduleId:L,startX:Z.x,startWidth:K})},xn=v=>{const L=v.width??220,F=p.current.get(_(v.id)),K=F?F.getBoundingClientRect().height/G:220;return{width:L,height:K}},na=(v,L,F,K)=>{const xe=me.map(ke=>{const $e=xn(ke);return{x:ke.x,y:ke.y,w:$e.width,h:$e.height}}),Ve=(ke,$e)=>!xe.some(Ke=>ke<Ke.x+Ke.w+16&&ke+F+16>Ke.x&&$e<Ke.y+Ke.h+16&&$e+K+16>Ke.y),De=40,Xe=20,gt=ke=>Math.max(0,Math.min(no-F,ke)),We=ke=>Math.max(0,Math.min(ro-K,ke));for(let ke=0;ke<=Xe;ke+=1)for(let $e=-ke;$e<=ke;$e+=1)for(let Ke=-ke;Ke<=ke;Ke+=1){if(ke>0&&Math.abs($e)!==ke&&Math.abs(Ke)!==ke)continue;const wt=gt(v+$e*De),Be=We(L+Ke*De);if(Ve(wt,Be))return{x:wt,y:Be}}return{x:gt(v),y:We(L)}},ra=v=>{if(v.button!==0)return;const L=l.current;if(!L)return;const F=v.target;if(F.closest(".synth-module")||F.closest(".synth-toolbar-panel"))return;He.visible&&Te(Z=>({...Z,visible:!1})),x(null),b(null),v.currentTarget.setPointerCapture(v.pointerId);const K=ae(v.clientX,v.clientY);g({kind:"pan",startX:K.x,startY:K.y,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop})},_n=(v,L,F,K)=>{if(v.stopPropagation(),v.button!==0||K!=="out")return;const Z=ae(v.clientX,v.clientY);v.currentTarget.setPointerCapture(v.pointerId),g({kind:"cable",from:{moduleId:L,portId:F},x:Z.x,y:Z.y})},Vn=(v,L,F,K)=>{if(v.stopPropagation(),m.kind!=="cable"||K!=="in")return;const Z=m.from,xe={moduleId:L,portId:F};if(Z.moduleId===xe.moduleId&&Z.portId===xe.portId){_e();return}ne(Ve=>[...Ve,{id:Xr(),from:Z,to:xe}]),_e()},Ka=v=>{ne(L=>L.filter(F=>F.id!==v)),x(L=>L===v?null:L)},Sr=()=>{N&&(Q(v=>v.filter(L=>L.id!==N)),ne(v=>v.filter(L=>L.from.moduleId!==N&&L.to.moduleId!==N)),b(null))},qa=()=>{if(!N)return;const v=me.find(L=>L.id===N);v&&(Fe.current={...v,params:{...v.params}})},Qa=()=>{const v=Fe.current;if(!v)return;Ie.current&&(window.cancelAnimationFrame(Ie.current),Ie.current=null,ge.current=null);const L=v.type,F=jd(L,me),K=`${L}${F}`,Z=xn(v),xe=na(v.x+40,v.y+40,Z.width,Z.height),Ve={...v,id:K,x:xe.x,y:xe.y,params:{...v.params}};Q(De=>[...De,Ve]),ie(De=>({...De,[L]:F})),b(K),S(De=>De+1)};w.useEffect(()=>{const v=L=>{if(L.key!=="Delete"&&L.key!=="Backspace"||!N)return;const F=L.target,K=F?.tagName?.toLowerCase();K==="input"||K==="textarea"||F?.isContentEditable||(L.preventDefault(),Sr())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[N,Sr]),w.useEffect(()=>{const v=L=>{const F=L.target,K=F?.tagName?.toLowerCase();K==="input"||K==="textarea"||F?.isContentEditable||!(L.metaKey||L.ctrlKey)||(L.key.toLowerCase()==="c"&&(L.preventDefault(),qa()),L.key.toLowerCase()==="v"&&(L.preventDefault(),Qa()))};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[me,X,N]);const aa=v=>{const L=l.current,F=jd(v,me),K=`${v}${F}`,Z=br[v],xe={};Z.params.forEach($e=>{xe[$e.id]=$e.defaultValue});const Ve=L?.scrollLeft??0,De=L?.scrollTop??0,Xe=L?.clientWidth??800,gt=L?.clientHeight??600,We=Ve/G+Xe/(2*G)-100+F%3*30,ke=De/G+gt/(2*G)-80+F%4*24;Q($e=>[...$e,{id:K,type:Z.type,x:We,y:ke,width:220,collapsed:!0,params:xe}]),ie($e=>({...$e,[v]:F})),b(K),ft({anchorId:K})},ia=()=>{const v=o.current;v&&(document.fullscreenElement?document.exitFullscreen().catch(()=>{}):v.requestFullscreen().catch(()=>{}))},Ja=()=>{const v=l.current;if(!v||me.length===0)return;let L=Number.POSITIVE_INFINITY,F=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY;for(const ke of me){const $e=p.current.get(_(ke.id)),Ke=ke.width??240,wt=$e?$e.getBoundingClientRect().height/G:180;L=Math.min(L,ke.x),F=Math.min(F,ke.y),K=Math.max(K,ke.x+Ke),Z=Math.max(Z,ke.y+wt)}if(!Number.isFinite(L)||!Number.isFinite(F))return;const xe=(L+K)/2,Ve=(F+Z)/2,De=xe*G-v.clientWidth/2,Xe=Ve*G-v.clientHeight/2,gt=Math.max(0,no*G-v.clientWidth),We=Math.max(0,ro*G-v.clientHeight);v.scrollLeft=Math.max(0,Math.min(gt,De)),v.scrollTop=Math.max(0,Math.min(We,Xe))},ur=()=>{const v=Cd(),L=Md();Ie.current&&(window.cancelAnimationFrame(Ie.current),Ie.current=null),Q(v),ne(L),ie(ao(v)),z(null),b(null),x(null),et.current=!1,R(1),S(F=>F+1),requestAnimationFrame(()=>{const F=l.current;F&&(F.scrollLeft=0,F.scrollTop=0)})},sa=()=>{Q(v=>v.map(L=>({...L,collapsed:!0}))),ft()},cr=()=>{Q(v=>v.map(L=>({...L,collapsed:!1}))),ft()},Ya=w.useMemo(()=>{const v=[];for(const L of le){const F=ze(L.from.moduleId,L.from.portId),K=ze(L.to.moduleId,L.to.portId);if(!F||!K)continue;const Z=Math.max(40,Math.abs(K.x-F.x)*.5),xe={x:F.x+Z,y:F.y},Ve={x:K.x-Z,y:K.y},De=`M ${F.x} ${F.y} C ${xe.x} ${xe.y} ${Ve.x} ${Ve.y} ${K.x} ${K.y}`;v.push({id:L.id,d:De})}return v},[le,me,P]),On=w.useMemo(()=>{if(m.kind!=="cable")return null;const v=ze(m.from.moduleId,m.from.portId);if(!v)return null;const L={x:m.x,y:m.y},F=Math.max(40,Math.abs(L.x-v.x)*.5),K={x:v.x+F,y:v.y},Z={x:L.x-F,y:L.y};return`M ${v.x} ${v.y} C ${K.x} ${K.y} ${Z.x} ${Z.y} ${L.x} ${L.y}`},[m,me,P]);w.useEffect(()=>()=>{ce.current?.dispose(),ce.current=null,re.current?.close().catch(()=>{}),re.current=null},[]);const Fn=M.find(v=>v.id===O)??null;return i.jsx("div",{className:"synth-root","data-theme":te,children:i.jsxs("div",{ref:o,className:`synth-page ${he?"is-fullscreen":""}`,children:[i.jsxs("div",{className:"synth-header",children:[i.jsxs("div",{className:"synth-title",children:[r?i.jsx(gn,{to:"/playground",className:"synth-link",children:" Back to Playground"}):null,i.jsx("h1",{children:"Modular Synth Playground"}),i.jsx("p",{children:"Patch audio-rate gates, envelopes, and CV with drag-to-connect cables. Works best in fullscreen."}),i.jsxs("div",{className:"synth-tabs-row",children:[i.jsx("span",{className:"synth-tabs-label",children:"Presets"}),i.jsxs("select",{className:"synth-select",value:O??"",onChange:v=>Ue(v.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select a preset"}),i.jsx("optgroup",{label:"Built-in",children:bd.map(v=>i.jsx("option",{value:v.id,children:v.label},v.id))}),i.jsxs("optgroup",{label:"My Presets",children:[M.length===0?i.jsx("option",{value:"",disabled:!0,children:"(none yet)"}):null,M.map(v=>i.jsx("option",{value:v.id,children:v.label},v.id))]})]}),i.jsx("button",{className:"synth-button",type:"button",onClick:Je,children:"Save"}),i.jsx("button",{className:"synth-button",type:"button",onClick:Me,disabled:!Fn,children:"Duplicate"}),i.jsx("button",{className:"synth-button",type:"button",onClick:Pe,disabled:!Fn,children:"Rename"}),i.jsx("button",{className:"synth-button",type:"button",onClick:ht,disabled:!Fn,children:"Delete"}),i.jsx("button",{className:"synth-button",type:"button",onClick:Yt,children:"Export"}),i.jsx("button",{className:"synth-button",type:"button",onClick:Ct,children:"Import"}),i.jsx("button",{className:"synth-button",type:"button",onClick:it,children:"Copy JSON"}),null,i.jsx("input",{ref:Re,type:"file",accept:"application/json",onChange:Wt,style:{display:"none"}})]})]}),i.jsxs("div",{className:"synth-toolbar",children:[Se?i.jsx("button",{className:"synth-button is-muted",type:"button",children:"Audio Enabled"}):i.jsx("button",{className:"synth-button is-primary",onClick:tt,children:"Enable Audio"}),i.jsxs("button",{className:"synth-button",type:"button",onClick:()=>oe(v=>v==="dark"?"light":"dark"),children:["Theme: ",te==="dark"?"Dark":"Light"]}),i.jsx("button",{className:"synth-button",type:"button",onClick:ur,children:"Reset Layout"}),i.jsx("button",{className:"synth-button",type:"button",onClick:sa,children:"Collapse All"}),i.jsx("button",{className:"synth-button",type:"button",onClick:cr,children:"Expand All"}),i.jsx("button",{className:"synth-button",type:"button",onClick:()=>R(v=>Math.max(.6,Number((v-.1).toFixed(2)))),children:"Zoom -"}),i.jsx("button",{className:"synth-button",type:"button",onClick:()=>R(v=>Math.min(1.4,Number((v+.1).toFixed(2)))),children:"Zoom +"}),i.jsxs("button",{className:"synth-button is-muted",type:"button",onClick:()=>R(1),children:[Math.round(E*100),"%"]}),i.jsx("button",{className:"synth-button",type:"button",onClick:ia,children:he?"Exit Fullscreen":"Fullscreen"})]})]}),i.jsxs("div",{className:"synth-workspace",children:[i.jsxs("div",{ref:l,className:"synth-canvas",onPointerMove:sn,onPointerUp:_e,onPointerCancel:_e,onPointerLeave:_e,onPointerDown:ra,onContextMenu:jn,onContextMenuCapture:jn,children:[i.jsx("div",{ref:c,className:"synth-surface",style:{width:`${no*G}px`,height:`${ro*G}px`},children:i.jsxs("div",{ref:d,className:"synth-surface-inner",style:{transform:`scale(${G})`},children:[i.jsx("div",{className:"synth-grid"}),i.jsx("div",{className:"synth-layer-cables",children:i.jsxs("svg",{width:"100%",height:"100%",style:{pointerEvents:"none"},children:[Ya.map(v=>i.jsx("path",{d:v.d,className:v.id===y?"synth-cable synth-cable-selected":"synth-cable"},v.id)),On?i.jsx("path",{d:On,className:"synth-cable",style:{opacity:.4}}):null]})}),me.map(v=>i.jsx(p0,{model:v,isSelected:v.id===N,engine:ce.current,onModulePointerDown:vt,onResizePointerDown:Et,moduleRefs:p.current,moduleKey:_,onToggleCollapse:()=>{Q(L=>L.map(F=>F.id===v.id?{...F,collapsed:!F.collapsed}:F)),ft()},onParamChange:(L,F)=>Q(K=>K.map(Z=>Z.id===v.id?{...Z,params:{...Z.params,[L]:F}}:Z)),portRefs:f.current,portKey:T,onPortPointerDown:_n,onPortPointerUp:Vn},v.id)),i.jsx("div",{className:"synth-layer-hit",children:Ya.map(v=>i.jsx("svg",{width:"100%",height:"100%",style:{position:"absolute",inset:0,pointerEvents:"none"},children:i.jsx("path",{d:v.d,fill:"none",stroke:"transparent",strokeWidth:22,style:{cursor:"pointer",pointerEvents:"stroke"},onPointerDown:L=>{if(L.stopPropagation(),L.button===0){if(y===v.id){Ka(v.id);return}x(v.id)}}})},`${v.id}-hit`))})]})}),He.visible&&he?i.jsxs("div",{className:"synth-context-menu",style:{left:He.x,top:He.y},onPointerDown:v=>v.stopPropagation(),onPointerUp:v=>v.stopPropagation(),children:[i.jsx("div",{className:"synth-context-title",children:"Add module"}),i.jsx("div",{className:"synth-context-list",children:Object.values(br).map(v=>i.jsxs("button",{type:"button",className:"synth-context-item",onClick:()=>{aa(v.type),Te(L=>({...L,visible:!1}))},children:[i.jsx("span",{children:v.title}),i.jsx("em",{children:po[v.type]})]},v.type))})]}):null]}),i.jsxs("div",{className:"synth-toolbar-panel",children:[i.jsxs("div",{className:"synth-toolbar-header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Modules"}),i.jsx("p",{children:"Add or remove modules."})]}),i.jsx("button",{className:`synth-button ${N?"":"is-disabled"}`,type:"button",onClick:Sr,disabled:!N,children:"Remove"})]}),i.jsx("div",{className:"synth-module-grid",children:Object.values(br).map(v=>i.jsxs("button",{className:"synth-module-card",type:"button",onClick:()=>aa(v.type),children:[i.jsxs("div",{children:[i.jsx("h3",{children:v.title}),i.jsx("p",{children:po[v.type]})]}),i.jsx("span",{className:"synth-add",children:"+ Add"})]},v.type))})]})]}),we?i.jsx("div",{className:"synth-toast",children:we}):null,i.jsxs("div",{className:"synth-footer",children:[i.jsx("span",{className:"synth-pill",children:"Keys: a w s e d f t g y h u j k (z/x octave)"}),i.jsxs("span",{className:"synth-pill",children:["Octave: ",H>=0?`+${H}`:H]}),i.jsx("span",{className:"synth-pill",children:"Click a cable to select, click again to delete."}),i.jsx("span",{className:"synth-pill",children:"Drag the grid to pan; scroll to navigate."})]}),he?null:i.jsxs("div",{className:"synth-glossary",children:[i.jsx("h2",{children:"Glossary"}),i.jsxs("dl",{children:[i.jsx("dt",{children:"CV"}),i.jsx("dd",{children:"Control voltage; a modulation signal used to control parameters."}),i.jsx("dt",{children:"Gate"}),i.jsx("dd",{children:"On/off control signal (0 or 1) used to trigger events like envelopes."}),i.jsx("dt",{children:"ADSR"}),i.jsx("dd",{children:"Envelope stages: Attack, Decay, Sustain, Release."}),i.jsx("dt",{children:"VCA"}),i.jsx("dd",{children:"Voltage-controlled amplifier; scales audio level via CV."}),i.jsx("dt",{children:"LFO"}),i.jsx("dd",{children:"Low-frequency oscillator used for modulation."}),i.jsx("dt",{children:"Clock"}),i.jsx("dd",{children:"Timing pulse signal for sequencing or arpeggiation."}),i.jsx("dt",{children:"FM"}),i.jsx("dd",{children:"Frequency modulation; changing pitch with an audio-rate signal."}),i.jsx("dt",{children:"Q/Resonance"}),i.jsx("dd",{children:"Filter resonance; emphasis around the cutoff frequency."}),i.jsx("dt",{children:"Mix"}),i.jsx("dd",{children:"Wet/dry balance between processed and original signal."})]})]})]})})}function p0(r){const o=br[r.model.type],l=r.model.width??240;return i.jsxs("div",{className:`synth-module ${r.isSelected?"is-selected":""}`,ref:c=>{c?r.moduleRefs.set(r.moduleKey(r.model.id),c):r.moduleRefs.delete(r.moduleKey(r.model.id))},style:{left:r.model.x,top:r.model.y,width:l},children:[i.jsxs("div",{className:"synth-module-header",onPointerDown:c=>r.onModulePointerDown(c,r.model.id),children:[i.jsx("strong",{title:po[o.type],children:o.title}),i.jsxs("div",{className:"synth-module-actions",children:[i.jsx("button",{className:"synth-module-toggle",type:"button",onPointerDown:c=>{c.stopPropagation()},onClick:r.onToggleCollapse,children:r.model.collapsed?"Expand":"Collapse"}),i.jsx("span",{children:r.model.id})]})]}),i.jsxs("div",{className:"synth-module-body",children:[r.model.type==="scope"?i.jsxs("div",{className:"synth-scope-block",children:[i.jsx(h0,{engine:r.engine,moduleId:r.model.id,view:r.model.params.view??0}),i.jsxs("div",{className:"synth-scope-controls",children:[i.jsx("button",{className:"synth-button synth-button--mini",type:"button",onClick:()=>r.onParamChange("view",(r.model.params.view??0)>=.5?0:1),children:(r.model.params.view??0)>=.5?"FFT":"TIME"}),i.jsx("button",{className:"synth-button synth-button--mini",type:"button",onClick:()=>r.onParamChange("thru",(r.model.params.thru??1)>=.5?0:1),children:(r.model.params.thru??1)>=.5?"INLINE":"TAP"})]})]}):null,i.jsxs("div",{className:"synth-ports",children:[i.jsxs("div",{className:"synth-port-group",children:[i.jsx("div",{className:"synth-port-label",children:"Inputs"}),o.inputs.map(c=>i.jsx(Sd,{label:c.name,dir:"in",register:d=>{d?r.portRefs.set(r.portKey(r.model.id,c.id),d):r.portRefs.delete(r.portKey(r.model.id,c.id))},onDown:d=>r.onPortPointerDown(d,r.model.id,c.id,"in"),onUp:d=>r.onPortPointerUp(d,r.model.id,c.id,"in")},c.id))]}),i.jsxs("div",{className:"synth-port-group",children:[i.jsx("div",{className:"synth-port-label",children:"Outputs"}),o.outputs.map(c=>i.jsx(Sd,{label:c.name,dir:"out",register:d=>{d?r.portRefs.set(r.portKey(r.model.id,c.id),d):r.portRefs.delete(r.portKey(r.model.id,c.id))},onDown:d=>r.onPortPointerDown(d,r.model.id,c.id,"out"),onUp:d=>r.onPortPointerUp(d,r.model.id,c.id,"out")},c.id))]})]}),r.model.collapsed?null:i.jsx("div",{className:"synth-controls",children:o.params.map(c=>{const d=r.model.params[c.id]??c.defaultValue;return u0.has(c.id)?i.jsx(g0,{label:c.label,min:c.min,max:c.max,step:c.step,value:d,defaultValue:c.defaultValue,onChange:p=>r.onParamChange(c.id,p)},c.id):i.jsx(m0,{label:c.label,min:c.min,max:c.max,step:c.step,value:d,defaultValue:c.defaultValue,onChange:p=>r.onParamChange(c.id,p)},c.id)})})]}),i.jsx("div",{className:"synth-resize-handle",role:"presentation",onPointerDown:c=>r.onResizePointerDown(c,r.model.id)})]})}function Sd(r){return i.jsxs("div",{className:"synth-port",children:[r.dir==="in"?i.jsx("div",{ref:r.register,onPointerDown:r.onDown,onPointerUp:r.onUp,title:"Input",className:"synth-port-dot"}):null,i.jsx("span",{children:r.label}),r.dir==="out"?i.jsx("div",{ref:r.register,onPointerDown:r.onDown,onPointerUp:r.onUp,title:"Output",className:"synth-port-dot is-out",style:{marginLeft:"auto"}}):null]})}function m0(r){const o=l=>{l.stopPropagation(),r.onChange(r.defaultValue)};return i.jsxs("label",{className:"synth-control",onDoubleClick:o,children:[i.jsxs("div",{className:"synth-control-header",children:[i.jsx("span",{children:r.label}),i.jsx("input",{className:"synth-value-input",type:"number",min:r.min,max:r.max,step:r.step,value:Number.isFinite(r.value)?r.value:"",onPointerDown:l=>l.stopPropagation(),onDoubleClick:o,onChange:l=>r.onChange(Number(l.target.value))})]}),i.jsx("input",{className:"synth-range",type:"range",min:r.min,max:r.max,step:r.step,value:r.value,onPointerDown:l=>l.stopPropagation(),onDoubleClick:o,onChange:l=>r.onChange(Number(l.target.value))})]})}function h0(r){const o=w.useRef(null),l=r.engine?r.engine.getAnalyser(r.moduleId):null,c=w.useRef(null),d=w.useRef(null);return w.useEffect(()=>{let f=0;const p=()=>{const m=o.current;if(!m){f=requestAnimationFrame(p);return}const g=m.getContext("2d");if(!g){f=requestAnimationFrame(p);return}const y=l,x=m.clientWidth,N=m.clientHeight,b=window.devicePixelRatio||1,P=Math.max(1,Math.floor(x*b)),S=Math.max(1,Math.floor(N*b));if((m.width!==P||m.height!==S)&&(m.width=P,m.height=S),g.clearRect(0,0,P,S),g.lineWidth=1,g.strokeStyle="rgba(148,163,184,0.35)",g.strokeRect(.5,.5,P-1,S-1),!y){g.fillStyle="rgba(226,232,240,0.8)",g.font=`${Math.max(10,Math.floor(12*b))}px sans-serif`,g.fillText("No signal",Math.floor(10*b),Math.floor(18*b)),f=requestAnimationFrame(p);return}if(r.view>=.5){const E=y.frequencyBinCount;(!d.current||d.current.length!==E)&&(d.current=new Uint8Array(E));const R=d.current;y.getByteFrequencyData(R);const H=P/E;g.fillStyle="rgba(56,189,248,0.7)";for(let U=0;U<E;U+=1){const O=R[U]/255,z=Math.max(1,Math.floor(O*(S-2)));g.fillRect(Math.floor(U*H),S-1-z,Math.max(1,Math.ceil(H)),z)}}else{const E=y.fftSize;(!c.current||c.current.length!==E)&&(c.current=new Float32Array(E));const R=c.current;y.getFloatTimeDomainData(R),g.strokeStyle="rgba(226,232,240,0.9)",g.beginPath();const H=S/2;for(let U=0;U<E;U+=1){const O=U/(E-1)*(P-1),z=H-R[U]*(H-2);U===0?g.moveTo(O,z):g.lineTo(O,z)}g.stroke()}f=requestAnimationFrame(p)};return f=requestAnimationFrame(p),()=>cancelAnimationFrame(f)},[l,r.view]),i.jsx("div",{className:"synth-scope",children:i.jsx("canvas",{ref:o,className:"synth-scope-canvas"})})}function g0(r){const o=w.useRef(null),l=r.max-r.min,d=(l>0?(r.value-r.min)/l:0)*270-135,f=y=>{y.stopPropagation(),r.onChange(r.defaultValue)},p=y=>{y.preventDefault(),y.stopPropagation(),y.currentTarget.setPointerCapture(y.pointerId),o.current={startY:y.clientY,startValue:r.value}},m=y=>{if(!o.current)return;const x=o.current.startY-y.clientY,N=o.current.startValue+x*(l/140),b=Math.min(r.max,Math.max(r.min,N));r.onChange(f0(b,r.step))},g=()=>{o.current=null};return i.jsxs("div",{className:"synth-knob",children:[i.jsxs("div",{className:"synth-control-header",style:{width:"100%"},children:[i.jsx("span",{children:r.label}),i.jsx("input",{className:"synth-value-input",type:"number",min:r.min,max:r.max,step:r.step,value:Number.isFinite(r.value)?r.value:"",onPointerDown:y=>y.stopPropagation(),onDoubleClick:f,onChange:y=>r.onChange(Number(y.target.value))})]}),i.jsx("div",{className:"synth-knob-core",role:"slider","aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.value,onPointerDown:p,onPointerMove:m,onPointerUp:g,onPointerLeave:g,onDoubleClick:f,children:i.jsx("div",{className:"synth-knob-indicator",style:{transform:`rotate(${d}deg)`}})})]})}function Cd(){return[{id:"kbd1",type:"keyboard",x:20,y:20,width:220,collapsed:!0,params:{pitchHz:110,glideMs:0,gate:0,trigMs:10}},{id:"osc1",type:"osc",x:320,y:20,width:220,collapsed:!0,params:{baseHz:110,pitchAmt:1,fmDepthHz:0,level:.2,wave:1}},{id:"flt1",type:"filter",x:620,y:20,width:220,collapsed:!0,params:{cutoff:1200,cutoffDepthHz:0,q:.7}},{id:"env1",type:"adsr",x:320,y:360,width:220,collapsed:!0,params:{attack:.01,decay:.15,sustain:.6,release:.2}},{id:"vca1",type:"vca",x:620,y:360,width:220,collapsed:!0,params:{bias:0,cvDepth:1}},{id:"out1",type:"output",x:920,y:280,width:220,collapsed:!0,params:{vol:.7}},{id:"lfo1",type:"lfo",x:20,y:360,width:220,collapsed:!0,params:{rate:4,depth:1,wave:0}},{id:"scp1",type:"scope",x:920,y:20,width:240,collapsed:!0,params:{thru:0,view:0,fftSize:2048,smoothing:.85,minDb:-90,maxDb:-10}}]}function Md(){return[{id:"c1",from:{moduleId:"kbd1",portId:"pitch"},to:{moduleId:"osc1",portId:"pitch"}},{id:"c2",from:{moduleId:"kbd1",portId:"gate"},to:{moduleId:"env1",portId:"gate"}},{id:"c3",from:{moduleId:"env1",portId:"env"},to:{moduleId:"vca1",portId:"cv"}},{id:"c4",from:{moduleId:"osc1",portId:"out"},to:{moduleId:"flt1",portId:"in"}},{id:"c5",from:{moduleId:"flt1",portId:"out"},to:{moduleId:"vca1",portId:"in"}},{id:"c6",from:{moduleId:"vca1",portId:"out"},to:{moduleId:"out1",portId:"in"}},{id:"c7",from:{moduleId:"lfo1",portId:"out"},to:{moduleId:"flt1",portId:"cutoffCv"}},{id:"c_scope",from:{moduleId:"vca1",portId:"out"},to:{moduleId:"scp1",portId:"in"}}]}const x0=()=>{const{id:r}=Vd(),o=Xd.find(l=>l.id===r);return o?o.id==="modular-synth"?i.jsx(nf,{embedded:!0}):i.jsxs("div",{className:"max-w-5xl mx-auto px-6 pb-24 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"mb-10",children:[i.jsx(gn,{to:"/playground",className:"text-sm text-neutral-300 hover:text-white",children:" Back to Playground"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mt-4",children:o.title}),i.jsx("p",{className:"text-neutral-300 mt-3 max-w-2xl",children:o.description})]}),o.id==="halftone-loop"?i.jsx(_h,{}):o.id==="location-pulse"?i.jsx(Jh,{}):o.id==="publications-explorer"?i.jsx(i0,{}):o.embedPath?i.jsx("div",{className:"border border-neutral-800/70 rounded-xl overflow-hidden bg-neutral-900/30",children:i.jsx("iframe",{title:o.title,src:o.embedPath,className:"w-full h-[80vh] md:h-[85vh] border-0",loading:"lazy",sandbox:"allow-scripts allow-same-origin"})}):i.jsx("div",{className:"border border-neutral-800/70 rounded-xl p-8 bg-neutral-900/30 text-neutral-300",children:i.jsxs("p",{children:["This is a placeholder area for the ",o.title," experience. We can embed the visualizer here once the separate implementation is ready."]})})]}):i.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral-200",children:"Playground Item Not Found"}),i.jsx(gn,{to:"/playground",className:"text-neutral-300 hover:text-white",children:"Back to Playground"})]})},y0=()=>{try{return window.location.protocol==="blob:"}catch{return!0}},v0=()=>{const r=y0()?Hm:Zm;return i.jsx(r,{children:i.jsx(hh,{children:i.jsx(w.Suspense,{fallback:i.jsx("div",{className:"flex h-screen items-center justify-center text-neutral-500",children:"Loading..."}),children:i.jsxs(Wm,{children:[i.jsx(bn,{path:"/",element:i.jsx(bh,{})}),i.jsx(bn,{path:"/cv",element:i.jsx(jh,{})}),i.jsx(bn,{path:"/research",element:i.jsx(Sh,{})}),i.jsx(bn,{path:"/research/:id",element:i.jsx(Ch,{})}),i.jsx(bn,{path:"/news",element:i.jsx(Mh,{})}),i.jsx(bn,{path:"/playground",element:i.jsx(zh,{})}),i.jsx(bn,{path:"/playground/:id",element:i.jsx(x0,{})}),i.jsx(bn,{path:"/synth",element:i.jsx(nf,{})}),i.jsx(bn,{path:"*",element:i.jsx(Gm,{to:"/",replace:!0})})]})})})})},rf=document.getElementById("root");if(!rf)throw new Error("Could not find root element to mount to");const w0=Zp.createRoot(rf);w0.render(i.jsx(Ed.StrictMode,{children:i.jsx(v0,{})}));
